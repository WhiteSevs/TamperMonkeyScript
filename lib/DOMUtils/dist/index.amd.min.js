define(function(){"use strict";class t{defaultApi={document:document,window:window,globalThis:globalThis,self:self,top:top,setTimeout:globalThis.setTimeout.bind(globalThis),setInterval:globalThis.setInterval.bind(globalThis),clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis)};api;constructor(t){t&&(null==t.globalThis&&(t.globalThis=t.window),null==t.self&&(t.self=t.window)),t||(t=Object.assign({},this.defaultApi)),this.api=Object.assign({},t)}get document(){return this.api.document}get window(){return this.api.window}get globalThis(){return this.api.globalThis}get self(){return this.api.self}get top(){return this.api.top}get setTimeout(){return this.api.setTimeout}get clearTimeout(){return this.api.clearTimeout}get setInterval(){return this.api.setInterval}get clearInterval(){return this.api.clearInterval}}const e={windowApi:new t({document:document,window:window,top:top,setTimeout:globalThis.setTimeout.bind(globalThis),clearTimeout:globalThis.clearTimeout.bind(globalThis),setInterval:globalThis.setInterval.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis)}),isShow:t=>Boolean(t.getClientRects().length),createSafeHTML(t){if(window.trustedTypes){return window.trustedTypes.createPolicy("safe-innerHTML",{createHTML:t=>t}).createHTML(t)}return t},setSafeHTML(t,e){t.innerHTML=this.createSafeHTML(e)},forceShow(t){const e=t.cloneNode(!0);return e.setAttribute("style","visibility: hidden !important;display:block !important;"),this.windowApi.document.documentElement.appendChild(e),{recovery(){e.remove()}}},getStyleValue(t,e){let n=null,o=null;t instanceof CSSStyleDeclaration?o=t:(n=t.ownerDocument.defaultView,n&&n.opener||(n=window),o=n.getComputedStyle(t));const i=parseFloat(o[e]);return isNaN(i)?0:i},isWin:t=>"object"==typeof t&&(!(t instanceof Node)&&(t===globalThis||(t===window||(t===self||(t===globalThis||(t===window||(t===self||("undefined"!=typeof unsafeWindow&&t===unsafeWindow||"[object Math]"===t?.Math?.toString())))))))),isDOM:t=>t instanceof Node,delete(t,e){if("object"==typeof Reflect&&null!=Reflect&&Reflect.deleteProperty)return Reflect.deleteProperty(t,e);delete t[e]},isNodeList:t=>Array.isArray(t)||t instanceof NodeList,getAnimationEndNameList:()=>["webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend","animationend"],getTransitionEndNameList:()=>["webkitTransitionEnd","mozTransitionEnd","MSTransitionEnd","otransitionend","transitionend"]};class n{windowApi;constructor(e){this.windowApi=new t(e)}selector(t,e){return this.selectorAll(t,e)[0]}selectorAll(t,e){const n=this;if(e=e||n.windowApi.document,(t=t.trim()).startsWith("xpath:")){t=t.replace(/^xpath:/i,"");const o=n.windowApi.document.evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),i=[];let r=o.iterateNext();for(;r;)i.push(r),r=o.iterateNext();return i}if(t.match(/[^\s]{1}:empty$/gi))return t=t.replace(/:empty$/gi,""),Array.from(e.querySelectorAll(t)).filter(t=>""===t?.innerHTML?.trim());if(t.match(/[^\s]{1}:contains\("(.*)"\)$/i)||t.match(/[^\s]{1}:contains\('(.*)'\)$/i)){const n=t.match(/:contains\(("|')(.*)("|')\)$/i)[2];return t=t.replace(/:contains\(("|')(.*)("|')\)$/gi,""),Array.from(e.querySelectorAll(t)).filter(t=>(t?.textContent||t?.innerText)?.includes(n))}if(t.match(/[^\s]{1}:regexp\("(.*)"\)$/i)||t.match(/[^\s]{1}:regexp\('(.*)'\)$/i)){let n=t.match(/:regexp\(("|')(.*)("|')\)$/i)[2];const o=n.match(/("|'),[\s]*("|')([igm]{0,3})$/i);let i="";o&&(n=n.replace(/("|'),[\s]*("|')([igm]{0,3})$/gi,""),i=o[3]);const r=new RegExp(n,i);return t=t.replace(/:regexp\(("|')(.*)("|')\)$/gi,""),Array.from(e.querySelectorAll(t)).filter(t=>Boolean((t?.textContent||t?.innerText)?.match(r)))}return Array.from(e.querySelectorAll(t))}matches(t,e){if(e=e.trim(),null==t)return!1;if(t instanceof Document)return!1;if(e.match(/[^\s]{1}:empty$/gi))return e=e.replace(/:empty$/gi,""),t.matches(e)&&""===t?.innerHTML?.trim();if(e.match(/[^\s]{1}:contains\("(.*)"\)$/i)||e.match(/[^\s]{1}:contains\('(.*)'\)$/i)){const n=e.match(/:contains\(("|')(.*)("|')\)$/i)[2];e=e.replace(/:contains\(("|')(.*)("|')\)$/gi,"");let o=t?.textContent||t?.innerText;return"string"!=typeof o&&(o=""),t.matches(e)&&o?.includes(n)}if(e.match(/[^\s]{1}:regexp\("(.*)"\)$/i)||e.match(/[^\s]{1}:regexp\('(.*)'\)$/i)){let n=e.match(/:regexp\(("|')(.*)("|')\)$/i)[2];const o=n.match(/("|'),[\s]*("|')([igm]{0,3})$/i);let i="";o&&(n=n.replace(/("|'),[\s]*("|')([igm]{0,3})$/gi,""),i=o[3]);const r=new RegExp(n,i);e=e.replace(/:regexp\(("|')(.*)("|')\)$/gi,"");let s=t?.textContent||t?.innerText;return"string"!=typeof s&&(s=""),t.matches(e)&&Boolean(s?.match(r))}return t.matches(e)}closest(t,e){if(e=e.trim(),null==t)return null;if(t instanceof Document)return null;if(e.match(/[^\s]{1}:empty$/gi)){e=e.replace(/:empty$/gi,"");const n=t?.closest(e);return n&&""===n?.innerHTML?.trim()?n:null}if(e.match(/[^\s]{1}:contains\("(.*)"\)$/i)||e.match(/[^\s]{1}:contains\('(.*)'\)$/i)){const n=e.match(/:contains\(("|')(.*)("|')\)$/i)[2];e=e.replace(/:contains\(("|')(.*)("|')\)$/gi,"");const o=t?.closest(e);if(o){const e=t?.textContent||t?.innerText;if("string"==typeof e&&e.includes(n))return o}return null}if(e.match(/[^\s]{1}:regexp\("(.*)"\)$/i)||e.match(/[^\s]{1}:regexp\('(.*)'\)$/i)){let n=e.match(/:regexp\(("|')(.*)("|')\)$/i)[2];const o=n.match(/("|'),[\s]*("|')([igm]{0,3})$/i);let i="";o&&(n=n.replace(/("|'),[\s]*("|')([igm]{0,3})$/gi,""),i=o[3]);const r=new RegExp(n,i);e=e.replace(/:regexp\(("|')(.*)("|')\)$/gi,"");const s=t?.closest(e);if(s){const e=t?.textContent||t?.innerText;if("string"==typeof e&&e.match(r))return s}return null}{const n=t?.closest(e);return n}}}const o=new n,i=function(t){return t instanceof Node};const r=new class{windowApi;constructor(e){this.windowApi=new t(e)}isJQuery(t){let e=!1;if("object"==typeof jQuery&&t instanceof jQuery&&(e=!0),null==t)return!1;if("object"==typeof t){const n=["add","addBack","addClass","after","ajaxComplete","ajaxError","ajaxSend","ajaxStart","ajaxStop","ajaxSuccess","animate","append","appendTo","attr","before","bind","blur","change","children","clearQueue","click","clone","closest","constructor","contents","contextmenu","css","data","dblclick","delay","delegate","dequeue","each","empty","end","eq","extend","fadeIn","fadeOut","fadeTo","fadeToggle","filter","find","first","focus","focusin","focusout","get","has","hasClass","height","hide","hover","html","index","init","innerHeight","innerWidth","insertAfter","insertBefore","is","jquery","keydown","keypress","keyup","last","load","map","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","next","nextAll","not","off","offset","offsetParent","on","one","outerHeight","outerWidth","parent","parents","position","prepend","prependTo","prev","prevAll","prevUntil","promise","prop","pushStack","queue","ready","remove","removeAttr","removeClass","removeData","removeProp","replaceAll","replaceWith","resize","scroll","scrollLeft","scrollTop","select","show","siblings","slice","slideDown","slideToggle","slideUp","sort","splice","text","toArray","toggle","toggleClass","trigger","triggerHandler","unbind","width","wrap"];for(const o of n){if(!(o in t)){e=!1;break}e=!0}}return e}assign(t={},e={},n=!1){const o=this;if(Array.isArray(e)){if(!e.filter(t=>"object"==typeof t).length)return e}if(null==e)return t;let r;null==t&&(t={}),r=n?e:t;for(const s in r){if(!n&&!(s in e))continue;const r=Reflect.get(t,s),l=Reflect.get(e,s);if("object"==typeof l&&null!=l&&s in t&&!i(l)){let e;Array.isArray(l)?(Array.isArray(r)&&(r.length=0),e=l):e=o.assign(r,l,n),Reflect.set(t,s,e)}else Reflect.set(t,s,l)}return t}mutationObserver(t,e){e=this.assign({callback:()=>{},config:{subtree:void 0,childList:void 0,attributes:void 0,attributeFilter:void 0,attributeOldValue:void 0,characterData:void 0,characterDataOldValue:void 0},immediate:!1},e);const n=new(this.windowApi.window.MutationObserver||this.windowApi.window.webkitMutationObserver||this.windowApi.window.MozMutationObserver)(function(t,n){"function"==typeof e.callback&&e.callback(t,n)});return Array.isArray(t)||t instanceof NodeList?t.forEach(t=>{n.observe(t,e.config)}):this.isJQuery(t)?t.each((t,o)=>{n.observe(o,e.config)}):n.observe(t,e.config),e.immediate&&"function"==typeof e.callback&&e.callback([],n),n}};class s extends n{windowApi;constructor(e){super(e),this.windowApi=new t(e)}wait(t,e,n){const o=this,i="number"==typeof e?e:0;return new Promise(e=>{const s=r.mutationObserver(n||o.windowApi.document,{config:{subtree:!0,childList:!0,attributes:!0},immediate:!0,callback(n,o){const i=t();i.success&&("function"==typeof o?.disconnect&&o.disconnect(),e(i.data))}});i>0&&setTimeout(()=>{"function"==typeof s?.disconnect&&s.disconnect(),e(null)},i)})}waitNode(...t){const e=(t=t.filter(t=>void 0!==t))[0];let n=this.windowApi.document,i=0;if("string"!=typeof t[0]&&!Array.isArray(t[0])&&"function"!=typeof t[0])throw new TypeError("DOMUtils.waitNode 第一个参数必须是string|string[]|Function");if(1===t.length);else if(2===t.length){const e=t[1];if("number"==typeof e)i=e;else{if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitNode 第二个参数必须是number|Node");n=e}}else{if(3!==t.length)throw new TypeError("DOMUtils.waitNode 参数个数错误");{const e=t[1],o=t[2];if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitNode 第二个参数必须是Node");if(n=e,"number"!=typeof o)throw new TypeError("DOMUtils.waitNode 第三个参数必须是number");i=o}}return this.wait(()=>{const t=function(){if(!Array.isArray(e))return"function"==typeof e?e():o.selector(e,n);{const t=[];for(let n=0;n<e.length;n++){const i=o.selector(e[n]);i&&t.push(i)}if(t.length===e.length)return t}}();return t?{success:!0,data:t}:{success:!1,data:t}},i,n)}waitAnyNode(...t){t=t.filter(t=>void 0!==t);const e=this,n=t[0];let o=e.windowApi.document,i=0;if("object"!=typeof t[0]&&!Array.isArray(t[0]))throw new TypeError("DOMUtils.waitAnyNode 第一个参数必须是string[]");if(1===t.length);else if(2===t.length){const e=t[1];if("number"==typeof e)i=e;else{if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitAnyNode 第二个参数必须是number|Node");o=e}}else{if(3!==t.length)throw new TypeError("DOMUtils.waitAnyNode 参数个数错误");{const e=t[1],n=t[2];if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitAnyNode 第二个参数必须是Node");if(o=e,"number"!=typeof n)throw new TypeError("DOMUtils.waitAnyNode 第三个参数必须是number");i=n}}const r=n.map(t=>e.waitNode(t,o,i));return Promise.any(r)}waitNodeList(...t){const e=(t=t.filter(t=>void 0!==t))[0];let n=this.windowApi.document,i=0;if("string"!=typeof t[0]&&!Array.isArray(t[0]))throw new TypeError("DOMUtils.waitNodeList 第一个参数必须是string|string[]");if(1===t.length);else if(2===t.length){const e=t[1];if("number"==typeof e)i=e;else{if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitNodeList 第二个参数必须是number|Node");n=e}}else{if(3!==t.length)throw new TypeError("DOMUtils.waitNodeList 参数个数错误");{const e=t[1],o=t[2];if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitNodeList 第二个参数必须是Node");if(n=e,"number"!=typeof o)throw new TypeError("DOMUtils.waitNodeList 第三个参数必须是number");i=o}}return this.wait(()=>{const t=function(){if(Array.isArray(e)){const t=[];for(let i=0;i<e.length;i++){const r=o.selectorAll(e[i],n);r.length&&t.push(r)}if(t.length===e.length)return t}else{const t=o.selectorAll(e,n);if(t.length)return t}}();return t?{success:!0,data:t}:{success:!1,data:t}},i,n)}waitAnyNodeList(...t){t=t.filter(t=>void 0!==t);const e=this,n=t[0];let o=e.windowApi.document,i=0;if(!Array.isArray(t[0]))throw new TypeError("DOMUtils.waitAnyNodeList 第一个参数必须是string[]");if(1===t.length);else if(2===t.length){const e=t[1];if("number"==typeof e)i=e;else{if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitAnyNodeList 第二个参数必须是number|Node");o=e}}else{if(3!==t.length)throw new TypeError("DOMUtils.waitAnyNodeList 参数个数错误");{const e=t[1],n=t[2];if(!("object"==typeof e&&e instanceof Node))throw new TypeError("DOMUtils.waitAnyNodeList 第二个参数必须是Node");if(o=e,"number"!=typeof n)throw new TypeError("DOMUtils.waitAnyNodeList 第三个参数必须是number");i=n}}const r=n.map(t=>e.waitNodeList(t,o,i));return Promise.any(r)}}new s;class l extends s{windowApi;constructor(e){super(e),this.windowApi=new t(e)}animate(t,n,i=1e3,r=null){const s=this;if("string"==typeof t&&(t=o.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{s.animate(t,n,i,r)});if("number"!=typeof i||i<=0)throw new TypeError("duration must be a positive number");if("function"!=typeof r&&void 0!==r)throw new TypeError("callback must be a function or null");if("object"!=typeof n||void 0===n)throw new TypeError("styles must be an object");if(0===Object.keys(n).length)throw new Error("styles must contain at least one property");const l=performance.now(),c={},a={};for(const e in n)c[e]=t.style[e]||s.windowApi.globalThis.getComputedStyle(t)[e],a[e]=n[e];const f=setInterval(function(){let e=(performance.now()-l)/i;e>1&&(e=1);for(const o in n)t.style[o]=c[o]+(a[o]-c[o])*e+"px";1===e&&(clearInterval(f),r&&r())},10)}show(t,n=!0){const i=this;if(null!=t)if("string"==typeof t&&(t=o.selectorAll(t)),t instanceof NodeList||t instanceof Array)for(const e of t)i.show(e,n);else t.style.display="",n&&(e.isShow(t)||t.style.setProperty("display","unset","important"))}hide(t,n=!0){const i=this;if(null!=t)if("string"==typeof t&&(t=o.selectorAll(t)),t instanceof NodeList||t instanceof Array)for(const e of t)i.hide(e,n);else t.style.display="none",n&&e.isShow(t)&&t.style.setProperty("display","none","important")}fadeIn(t,n=400,i){if(null==t)return;const r=this;if("string"==typeof t&&(t=o.selectorAll(t)),e.isNodeList(t))return void t.forEach(t=>{r.fadeIn(t,n,i)});t.style.opacity="0",t.style.display="";let s=null,l=null;l=r.windowApi.window.requestAnimationFrame(function e(o){s||(s=o);const c=o-s;t.style.opacity=Math.min(c/n,1).toString(),c<n?r.windowApi.window.requestAnimationFrame(e):(i&&"function"==typeof i&&i(),r.windowApi.window.cancelAnimationFrame(l))})}fadeOut(t,n=400,i){const r=this;if(null==t)return;if("string"==typeof t&&(t=o.selectorAll(t)),e.isNodeList(t))return void t.forEach(t=>{r.fadeOut(t,n,i)});t.style.opacity="1";let s=null,l=null;l=r.windowApi.window.requestAnimationFrame(function e(o){s||(s=o);const c=o-s;t.style.opacity=Math.max(1-c/n,0).toString(),c<n?r.windowApi.window.requestAnimationFrame(e):(t.style.display="none","function"==typeof i&&i(),r.windowApi.window.cancelAnimationFrame(l))})}toggle(t,n){const i=this;"string"==typeof t&&(t=o.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{i.toggle(t)}):"none"===i.windowApi.globalThis.getComputedStyle(t).getPropertyValue("display")?i.show(t,n):i.hide(t,n))}}new l;const c={domEventSymbol:Symbol("events_"+(65536*(1+Math.random())|0).toString(16).substring(1))},a={Object:{defineProperty:Object.defineProperty}};class f extends l{windowApi;constructor(e){super(e),this.windowApi=new t(e)}getAnimationEndNameList(){return e.getAnimationEndNameList()}getTransitionEndNameList(){return e.getTransitionEndNameList()}on(t,n,o,i,r){function s(t,e,n){const o=t[e];return"boolean"==typeof o?(n.capture=o,"boolean"==typeof t[e+1]&&(n.once=t[e+1]),"boolean"==typeof t[e+2]&&(n.passive=t[e+2])):"object"==typeof o&&("capture"in o||"once"in o||"passive"in o||"isComposedPath"in o)&&(n.capture=o.capture,n.once=o.once,n.passive=o.passive,n.isComposedPath=o.isComposedPath),n}const l=this,f=arguments;if("string"==typeof t&&(t=l.selectorAll(t)),null==t)return{off(){},emit(){}};let d=[];t instanceof NodeList||Array.isArray(t)?d=d.concat(Array.from(t)):d.push(t);let u=[];Array.isArray(n)?u=u.concat(n.filter(t=>"string"==typeof t&&""!==t.toString())):"string"==typeof n&&(u=u.concat(n.split(" ").filter(t=>""!==t)));let p=[];Array.isArray(o)?p=p.concat(o.filter(t=>"string"==typeof t&&""!==t.toString())):"string"==typeof o&&p.push(o);let h=i,m={capture:!1,once:!1,passive:!1,isComposedPath:!1};"function"==typeof o?(h=o,m=s(f,3,m)):m=s(f,4,m);const y=()=>{m.once&&l.off(t,n,o,i,r)};return d.forEach(t=>{const n=function(n){if(p.length){let o=m.isComposedPath?n.composedPath()[0]:n.target,i=t;e.isWin(i)&&i===l.windowApi.document&&(i=l.windowApi.document.documentElement);if(p.find(t=>{if(l.matches(o,t))return!0;const e=l.closest(o,t);return!(!e||!i?.contains?.(e))&&(o=e,!0)})){try{a.Object.defineProperty(n,"target",{get:()=>o})}catch{}h.call(o,n,o),y()}}else h.call(t,n),y()};u.forEach(e=>{t.addEventListener(e,n,m);const o=Reflect.get(t,c.domEventSymbol)||{};o[e]=o[e]||[],o[e].push({selector:p,option:m,handlerCallBack:n,callback:h}),Reflect.set(t,c.domEventSymbol,o)})}),{off:t=>{l.off(d,u,p,h,m,t)},emit:(t,e)=>{l.emit(d,u,t,e)}}}off(t,n,o,i,r,s){function l(t,e,n){const o=t[e];return"boolean"==typeof o?n.capture=o:"object"==typeof o&&null!=o&&"capture"in o&&(n.capture=o.capture),n}const a=arguments;if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;let f=[];t instanceof NodeList||Array.isArray(t)?f=f.concat(Array.from(t)):f.push(t);let d=[];Array.isArray(n)?d=d.concat(n.filter(t=>"string"==typeof t&&""!==t.toString())):"string"==typeof n&&(d=d.concat(n.split(" ").filter(t=>""!==t)));let u=[];Array.isArray(o)?u=u.concat(o.filter(t=>"string"==typeof t&&""!==t.toString())):"string"==typeof o&&u.push(o);let p=i,h={capture:!1};"function"==typeof o?(p=o,h=l(a,3,h)):h=l(a,4,h);let m=!1;(2===a.length||3===a.length&&"string"==typeof a[2]||Array.isArray(a[2]))&&(m=!0),5===a.length&&"function"==typeof a[4]&&"function"!=typeof s&&(s=r),f.forEach(t=>{const o=Reflect.get(t,c.domEventSymbol)||{};d.forEach(i=>{const r=o[i]||[],l="function"==typeof s?r.filter(s):r;for(let e=0;e<l.length;e++){const n=l[e];let o=!0;if(o&&p&&n.callback!==p&&(o=!1),o&&u.length&&Array.isArray(n.selector)&&JSON.stringify(n.selector)!==JSON.stringify(u)&&(o=!1),o&&"boolean"==typeof n.option.capture&&h.capture!==n.option.capture&&(o=!1),o||m){t.removeEventListener(i,n.handlerCallBack,n.option);const e=r.findIndex(t=>t===n);-1!==e&&r.splice(e,1)}}0===r.length&&e.delete(o,n)}),Reflect.set(t,c.domEventSymbol,o)})}offAll(t,n){if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;let o=[];t instanceof NodeList||Array.isArray(t)?o=o.concat(Array.from(t)):o.push(t);let i=[];Array.isArray(n)?i=i.concat(n):"string"==typeof n&&(i=i.concat(n.split(" "))),o.forEach(t=>{[...new Set([...Object.getOwnPropertySymbols(t),c.domEventSymbol])].forEach(n=>{if(!n.toString().startsWith("Symbol(events_"))return;const o=Reflect.get(t,n)||{};(i.length?i:Object.keys(o)).forEach(i=>{const r=o[i];if(!r)return;for(const e of r)t.removeEventListener(i,e.handlerCallBack,{capture:e.option.capture});const s=Reflect.get(t,n);e.delete(s,i)})})})}onReady(...t){const e=t[0];let n;const o=this;function i(){!function(){for(const t of r)o.off(t.target,t.eventType,t.callback)}(),"function"==typeof e&&e(),"function"==typeof n&&n()}const r=[{target:o.windowApi.document,eventType:"DOMContentLoaded",callback:i},{target:o.windowApi.window,eventType:"load",callback:i}];function s(){!function(){try{return"complete"===o.windowApi.document.readyState||"loading"!==o.windowApi.document.readyState&&!o.windowApi.document.documentElement.doScroll}catch{return!1}}()?function(){for(const t of r)o.on(t.target,t.eventType,t.callback)}():setTimeout(i,0)}if(0===t.length)return new Promise(t=>{n=t,s()});s()}emit(t,e,n,o=!0){if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;let i=[];t instanceof NodeList||Array.isArray(t)?i=i.concat(Array.from(t)):i.push(t);let r=[];Array.isArray(e)?r=e.filter(t=>"string"==typeof t&&""!==t.trim()):"string"==typeof e&&(r=e.split(" ")),i.forEach(t=>{const e=Reflect.get(t,c.domEventSymbol)||{};r.forEach(i=>{let r=null;if(n&&n instanceof Event)r=n;else if(r=new Event(i),"object"==typeof n&&null!=n){Object.keys(n).forEach(t=>{const e=Reflect.get(n,t);Reflect.set(r,t,e)})}0==o&&i in e?e[i].forEach(t=>{t.handlerCallBack(r)}):t.dispatchEvent(r)})})}click(t,n,o,i){const r=this;"string"==typeof t&&(t=r.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{r.click(t,n,o,i)}):null==n?r.emit(t,"click",o,i):r.on(t,"click",null,n))}blur(t,n,o,i){const r=this;"string"==typeof t&&(t=r.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{r.focus(t,n,o,i)}):null===n?r.emit(t,"blur",o,i):r.on(t,"blur",null,n))}focus(t,n,o,i){const r=this;"string"==typeof t&&(t=r.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{r.focus(t,n,o,i)}):null==n?r.emit(t,"focus",o,i):r.on(t,"focus",null,n))}onHover(t,n,o){const i=this;"string"==typeof t&&(t=i.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{i.onHover(t,n,o)}):(i.on(t,"mouseenter",null,n,o),i.on(t,"mouseleave",null,n,o)))}onAnimationend(t,n,o){const i=this;if("string"==typeof t&&(t=i.selector(t)),null==t)return;const r={once:!0};Object.assign(r,o||{});const s=e.getAnimationEndNameList();return i.on(t,s,null,n,r),r.once?void 0:{off(){i.off(t,s,null,n,r)}}}onTransitionend(t,n,o){const i=this;if("string"==typeof t&&(t=i.selector(t)),null==t)return;const r={once:!0};Object.assign(r,o||{});const s=e.getTransitionEndNameList();return i.on(t,s,null,n,r),r.once?void 0:{off(){i.off(t,s,null,n,r)}}}onKeyup(t,n,o){const i=this;null!=t&&("string"==typeof t&&(t=i.selectorAll(t)),e.isNodeList(t)?t.forEach(t=>{i.onKeyup(t,n,o)}):i.on(t,"keyup",null,n,o))}onKeydown(t,n,o){const i=this;null!=t&&("string"==typeof t&&(t=i.selectorAll(t)),e.isNodeList(t)?t.forEach(t=>{i.onKeydown(t,n,o)}):i.on(t,"keydown",null,n,o))}onKeypress(t,n,o){const i=this;null!=t&&("string"==typeof t&&(t=i.selectorAll(t)),e.isNodeList(t)?t.forEach(t=>{i.onKeypress(t,n,o)}):i.on(t,"keypress",null,n,o))}onKeyboard(t,e="keypress",n,o){const i=this;"string"==typeof t&&(t=i.selectorAll(t));const r=function(t){const e=t.key||t.code,o=t.charCode||t.keyCode||t.which,i=[];t.ctrlKey&&i.push("ctrl"),t.altKey&&i.push("alt"),t.metaKey&&i.push("meta"),t.shiftKey&&i.push("shift"),"function"==typeof n&&n(e,o,i,t)};return i.on(t,e,r,o),{removeListen:()=>{i.off(t,e,r,o)}}}onInput(t,e,n){let o=!1;const i=this.on(t,"input",async t=>{o||await e(t)},n),r=this.on(t,"compositionstart",()=>{o=!0},n),s=this.on(t,"compositionend",()=>{o=!1,this.emit(t,"input",{isComposite:o})},n);return{off:()=>{i.off(),r.off(),s.off()}}}onDoubleClick(...t){const e=t[0];let n,o,i;if(2===t.length){if("function"!=typeof t[1])throw new TypeError("handler is not a function");o=t[1]}else if(3===t.length)"function"==typeof t[1]?(o=t[1],i=t[2]):(n=t[1],o=t[2]);else{if(4!==t.length)throw new Error("args length error");n=t[1],o=t[2],i=t[3]}let r,s=null,l=!1,c=!1;const a=async(t,e)=>{"dblclick"===t.type&&c||await o(t,e)},f=this.on(e,"dblclick",t=>{this.preventEvent(t),a(t,{isDoubleClick:!0})},i),d=this.on(e,"pointerup",n,(t,e)=>{this.preventEvent(t),"touch"===t.pointerType&&(c=!0),clearTimeout(r),r=void 0,l&&s===e?(l=!1,s=null,a(t,{isDoubleClick:!0})):(r=setTimeout(()=>{l=!1,a(t,{isDoubleClick:!1})},200),l=!0,s=e)},i);return{off(){s=null,f.off(),d.off()}}}preventEvent(...t){const e=t=>(t?.preventDefault(),t?.stopPropagation(),t?.stopImmediatePropagation(),!1);if(1===t.length)return e(t[0]);{const n=t[0];let o=t[1];const i=t[2];"string"==typeof o&&(o=[o]),this.on(n,o,e,{capture:Boolean(i)})}}}new f;class d extends f{windowApi;constructor(e){super(e),this.windowApi=new t(e)}getElementSelector(t){if(!t)return;if(!t.parentElement)return;if(t.id)return`#${t.id}`;let e=this.getElementSelector(t.parentElement);if(!e)return t.tagName.toLowerCase();if(t.parentElement.querySelectorAll(t.tagName).length>1){const n=Array.prototype.indexOf.call(t.parentElement.children,t)+1;e+=` > ${t.tagName.toLowerCase()}:nth-child(${n})`}else e+=` > ${t.tagName.toLowerCase()}`;return e}}new d;class u extends d{constructor(t){super(t)}version="1.9.0";noConflict(){return this.windowApi.window.DOMUtils&&e.delete(window,"DOMUtils"),this.windowApi.window.DOMUtils=this,this}attr(t,n,o){const i=this;if("string"==typeof t&&(t=i.selectorAll(t)),null!=t)return e.isNodeList(t)?null==o?i.attr(t[0],n,o):void t.forEach(t=>{i.attr(t,n,o)}):null==o?t.getAttribute(n):void t.setAttribute(n,o)}createElement(t,e,n){const o=this,i=o.windowApi.document.createElement(t);return"string"==typeof e?(o.html(i,e),i):(null==e&&(e={}),null==n&&(n={}),Object.keys(e).forEach(t=>{const n=e[t];"innerHTML"!==t?i[t]=n:o.html(i,n)}),Object.keys(n).forEach(t=>{let e=n[t];"object"==typeof e?e=JSON.stringify(e):"function"==typeof e&&(e=e.toString()),i.setAttribute(t,e)}),i)}css(t,n,o){const i=this;if("string"==typeof t&&(t=i.selectorAll(t)),null==t)return;if(e.isNodeList(t))return"string"==typeof n?null==o?i.css(t[0],n):void t.forEach(t=>{i.css(t,n)}):"object"==typeof n?void t.forEach(t=>{i.css(t,n)}):void 0;const r=(e,n)=>{"string"==typeof n&&n.trim().endsWith("!important")?(n=n.trim().replace(/!important$/gi,"").trim(),t.style.setProperty(e,n,"important")):(n=function(t,e){return"number"==typeof e&&(e=e.toString()),"string"==typeof e&&["width","height","top","left","right","bottom","font-size"].includes(t)&&e.match(/[0-9]$/gi)&&(e+="px"),e}(e,n),t.style.setProperty(e,n))};if("string"==typeof n){if(null==o)return i.windowApi.globalThis.getComputedStyle(t).getPropertyValue(n);r(n,o)}else{if("object"!=typeof n)throw new TypeError("property must be string or object");for(const t in n){r(t,n[t])}}}text(t,n){const o=this;if("string"==typeof t&&(t=o.selectorAll(t)),null!=t)return e.isNodeList(t)?null==n?o.text(t[0]):void t.forEach(t=>{o.text(t,n)}):null==n?t.textContent||t.innerText:(n instanceof Node&&(n=n.textContent||n.innerText),void("textContent"in t?t.textContent=n:"innerText"in t&&(t.innerText=n)))}html(t,n){const o=this;if("string"==typeof t&&(t=o.selectorAll(t)),null!=t)return e.isNodeList(t)?null==n?o.html(t[0]):void t.forEach(t=>{o.html(t,n)}):null==n?t.innerHTML:(n instanceof Element&&(n=n.innerHTML),void("innerHTML"in t&&e.setSafeHTML(t,n)))}getTransform(t,n=!1){const o=this;let i=0,r=0;if(!(n||!n&&e.isShow(t))){const{recovery:n}=e.forceShow(t),i=o.getTransform(t,!0);return n(),i}const s=o.windowApi.globalThis.getComputedStyle(t).transform;if(null!=s&&"none"!==s&&""!==s){const t=s.match(/\((.+)\)/)?.[1].split(",");t?(i=Math.abs(parseInt(t[4])),r=Math.abs(parseInt(t[5]))):(i=0,r=0)}return{transformLeft:i,transformTop:r}}val(t,n){const o=this;if("string"==typeof t&&(t=o.selectorAll(t)),null!=t)return e.isNodeList(t)?null==n?o.val(t[0]):void t.forEach(t=>{o.val(t,n)}):null==n?"input"!==t.localName||"checkbox"!==t.type&&"radio"!==t.type?t.value:t.checked:void("input"!==t.localName||"checkbox"!==t.type&&"radio"!==t.type?t.value=n:t.checked=!!n)}prop(t,n,o){const i=this;if("string"==typeof t&&(t=i.selectorAll(t)),null!=t)return e.isNodeList(t)?null==o?i.prop(t[0],n):void t.forEach(t=>{i.prop(t,n,o)}):null==o?Reflect.get(t,n):void(t instanceof Element&&"innerHTML"===n?i.html(t,o):Reflect.set(t,n,o))}removeAttr(t,n){const o=this;"string"==typeof t&&(t=o.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{o.removeAttr(t,n)}):t.removeAttribute(n))}removeClass(t,n){const o=this;"string"==typeof t&&(t=o.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{o.removeClass(t,n)}):null==n?t.className="":(Array.isArray(n)||(n=n.trim().split(" ")),n.forEach(e=>{t.classList.remove(e)})))}removeProp(t,n){const o=this;"string"==typeof t&&(t=o.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{o.removeProp(t,n)}):e.delete(t,n))}addClass(t,n){const o=this;"string"==typeof t&&(t=o.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{o.addClass(t,n)}):(Array.isArray(n)||(n=n.split(" ")),n.forEach(e=>{""!=e.trim()&&t.classList.add(e)})))}hasClass(t,n){const o=this;if("string"==typeof t&&(t=o.selectorAll(t)),null==t)return!1;if(e.isNodeList(t)){let e=!0;for(let i=0;i<t.length;i++){const r=t[i];e=e&&o.hasClass(r,n)}return e}if(!t?.classList)return!1;Array.isArray(n)||(n=n.split(" "));for(let e=0;e<n.length;e++){const o=n[e].trim();if(!t.classList.contains(o))return!1}return!0}append(t,...n){if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{this.append(t,...n)});const o=(t,n)=>{t instanceof DocumentFragment?("string"==typeof n&&(n=this.toElement(n,!0,!1)),t.appendChild(n)):"string"==typeof n?t.insertAdjacentHTML("beforeend",e.createSafeHTML(n)):t.appendChild(n)},i=this.windowApi.document.createDocumentFragment();n.forEach(t=>{e.isNodeList(t)?t.forEach(t=>{o(i,t)}):o(i,t)}),o(t,i)}prepend(t,...n){if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{this.prepend(t,...n)});const o=(t,n)=>{if(t instanceof DocumentFragment)"string"==typeof n&&(n=this.toElement(n,!0,!1)),t.appendChild(n);else if("string"==typeof n)t.insertAdjacentHTML("afterbegin",e.createSafeHTML(n));else{const e=t.firstChild;e?t.insertBefore(n,e):t.prepend(n)}},i=this.windowApi.document.createDocumentFragment();n.forEach(t=>{e.isNodeList(t)?t.forEach(t=>{o(i,t)}):o(i,t)}),o(t,i)}after(t,...n){if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{this.after(t,...n)});const o=(n,o)=>{if(n instanceof DocumentFragment)"string"==typeof o&&(o=this.toElement(o,!0,!1)),n.appendChild(o);else if("string"==typeof o)n.insertAdjacentHTML("afterend",e.createSafeHTML(o));else{const e=t.parentElement,n=t.nextSibling;e&&n?e.insertBefore(o,n):t.after(o)}},i=this.windowApi.document.createDocumentFragment();n.forEach(t=>{e.isNodeList(t)?t.forEach(t=>{o(i,t)}):o(i,t)}),o(t,i)}before(t,...n){if("string"==typeof t&&(t=this.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{this.before(t,...n)});const o=(n,o)=>{if(n instanceof DocumentFragment)"string"==typeof o&&(o=this.toElement(o,!0,!1)),n.appendChild(o);else if("string"==typeof o)t.insertAdjacentHTML("beforebegin",e.createSafeHTML(o));else{const e=t.parentElement;e?e.insertBefore(o,t):t.before(o)}},i=this.windowApi.document.createDocumentFragment();n.forEach(t=>{e.isNodeList(t)?t.forEach(t=>{o(i,t)}):o(i,t)}),o(t,i)}remove(t){const n=this;"string"==typeof t&&(t=n.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{n.remove(t)}):"function"==typeof t.remove?t.remove():t.parentElement?t.parentElement.removeChild(t):t.parentNode&&t.parentNode.removeChild(t))}empty(t){const n=this;"string"==typeof t&&(t=n.selectorAll(t)),null!=t&&(e.isNodeList(t)?t.forEach(t=>{n.empty(t)}):t.innerHTML?t.innerHTML="":t.textContent&&(t.textContent=""))}offset(t){const e=this;if("string"==typeof t&&(t=e.selector(t)),null==t)return;const n=t.getBoundingClientRect();return{top:n.top+e.windowApi.globalThis.scrollY,left:n.left+e.windowApi.globalThis.scrollX}}width(t,n=!1){const o=this;if("string"==typeof t&&(t=o.selector(t)),e.isWin(t))return o.windowApi.window.document.documentElement.clientWidth;if(9===t.nodeType)return Math.max(t.body.scrollWidth,t.documentElement.scrollWidth,t.body.offsetWidth,t.documentElement.offsetWidth,t.documentElement.clientWidth);if(n||!n&&e.isShow(t)){if(parseFloat(e.getStyleValue(t,"width").toString())>0)return parseFloat(e.getStyleValue(t,"width").toString());if(t.offsetWidth>0){const n=e.getStyleValue(t,"borderLeftWidth"),o=e.getStyleValue(t,"borderRightWidth"),i=e.getStyleValue(t,"paddingLeft"),r=e.getStyleValue(t,"paddingRight"),s=parseFloat(t.offsetWidth.toString())-parseFloat(n.toString())-parseFloat(o.toString())-parseFloat(i.toString())-parseFloat(r.toString());return parseFloat(s.toString())}return 0}{const{recovery:n}=e.forceShow(t),i=o.width(t,!0);return n(),i}}height(t,n=!1){const o=this;if(e.isWin(t))return o.windowApi.window.document.documentElement.clientHeight;if("string"==typeof t&&(t=o.selector(t)),9===t.nodeType)return Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.documentElement.clientHeight);if(n||!n&&e.isShow(t)){if(parseFloat(e.getStyleValue(t,"height").toString())>0)return parseFloat(e.getStyleValue(t,"height").toString());if(t.offsetHeight>0){const n=e.getStyleValue(t,"borderTopWidth"),o=e.getStyleValue(t,"borderBottomWidth"),i=e.getStyleValue(t,"paddingTop"),r=e.getStyleValue(t,"paddingBottom"),s=parseFloat(t.offsetHeight.toString())-parseFloat(n.toString())-parseFloat(o.toString())-parseFloat(i.toString())-parseFloat(r.toString());return parseFloat(s.toString())}return 0}{const{recovery:n}=e.forceShow(t),i=o.height(t,!0);return n(),i}}outerWidth(t,n=!1){const o=this;if(e.isWin(t))return o.windowApi.window.innerWidth;if("string"==typeof t&&(t=o.selector(t)),n||!n&&e.isShow(t)){const n=o.windowApi.globalThis.getComputedStyle(t,null),i=e.getStyleValue(n,"marginLeft"),r=e.getStyleValue(n,"marginRight");return t.offsetWidth+i+r}{const{recovery:n}=e.forceShow(t),i=o.outerWidth(t,!0);return n(),i}}outerHeight(t,n=!1){const o=this;if(e.isWin(t))return o.windowApi.window.innerHeight;if("string"==typeof t&&(t=o.selector(t)),n||!n&&e.isShow(t)){const n=o.windowApi.globalThis.getComputedStyle(t,null),i=e.getStyleValue(n,"marginTop"),r=e.getStyleValue(n,"marginBottom");return t.offsetHeight+i+r}{const{recovery:n}=e.forceShow(t),i=o.outerHeight(t,!0);return n(),i}}replaceWith(t,n){const o=this;if("string"==typeof t&&(t=o.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{o.replaceWith(t,n)});"string"==typeof n&&(n=o.toElement(n,!1,!1));const i=t.parentElement;i?i.replaceChild(n,t):(o.after(t,n),t.remove())}wrap(t,n){const o=this;if("string"==typeof t&&(t=o.selectorAll(t)),null==t)return;if(e.isNodeList(t))return void t.forEach(t=>{o.wrap(t,n)});const i=o.windowApi.document.createElement("div");o.html(i,n);const r=i.firstChild;t.parentElement.insertBefore(r,t),r.appendChild(t)}prev(t){if("string"==typeof t&&(t=this.selector(t)),null!=t)return t.previousElementSibling}next(t){if("string"==typeof t&&(t=this.selector(t)),null!=t)return t.nextElementSibling}siblings(t){if("string"==typeof t&&(t=this.selector(t)),null!=t)return Array.from(t.parentElement.children).filter(e=>e!==t)}parent(t){const n=this;if("string"==typeof t&&(t=n.selector(t)),null!=t){if(e.isNodeList(t)){const e=[];return t.forEach(t=>{e.push(n.parent(t))}),e}return t.parentElement}}toElement(t,e=!1,n=!1){const o=this;return t=t.trim(),e?function(){const e=new DOMParser;return n?e.parseFromString(t,"text/html"):e.parseFromString(t,"text/html").body.firstChild}():function(){const e=o.windowApi.document.createElement("div");return o.html(e,t),n?e:e.firstElementChild??e.firstChild}()}serialize(t){const e=t.elements,n=[];for(let t=0;t<e.length;t++){const o=e[t];if(o.name&&!o.disabled&&(o.checked||["text","hidden","password","textarea","select-one","select-multiple"].includes(o.type)))if("select-multiple"===o.type)for(let t=0;t<o.options.length;t++)o.options[t].selected&&n.push({name:o.name,value:o.options[t].value});else n.push({name:o.name,value:o.value})}return n.map(t=>`${encodeURIComponent(t.name)}=${encodeURIComponent(t.value)}`).join("&")}createDOMUtils(t){return new u(t)}getTextBoundingRect(t,e,n){const o=this;if(!t||!("value"in t))return t;if(null==e&&(e=t.selectionStart||0),null==n&&(n=t.selectionEnd||0),"string"==typeof e&&(e=parseFloat(e)),("number"!=typeof e||isNaN(e))&&(e=0),e=e<0?0:Math.min(t.value.length,e),"string"==typeof n&&(n=parseFloat(n)),("number"!=typeof n||isNaN(n)||n<e)&&(n=e),n=n<0?0:Math.min(t.value.length,n),"function"==typeof t.createTextRange){const o=t.createTextRange();return o.collapse(!0),o.moveStart("character",e),o.moveEnd("character",n-e),o.getBoundingClientRect()}const i=function(){const e=o.windowApi.document.body,n=o.windowApi.document.defaultView,i=o.windowApi.document.documentElement,r=o.windowApi.document.createElement("div");r.style.paddingLeft=r.style.width="1px",e.appendChild(r);const s=2==r.offsetWidth;e.removeChild(r);const l=t.getBoundingClientRect(),c=i.clientTop||e.clientTop||0,a=i.clientLeft||e.clientLeft||0,f=n.pageYOffset||s&&i.scrollTop||e.scrollTop,d=n.pageXOffset||s&&i.scrollLeft||e.scrollLeft;return{top:l.top+f-c,left:l.left+d-a}}(),r=g("width",!0),s=g("height",!0);let l=i.top,c=i.left,a="white-space:pre;padding:0;margin:0;";const f=["direction","font-family","font-size","font-size-adjust","font-variant","font-weight","font-style","letter-spacing","line-height","text-align","text-indent","text-transform","word-wrap","word-spacing"];l+=g("padding-top",!0),l+=g("border-top-width",!0),c+=g("padding-left",!0),c+=g("border-left-width",!0),c+=1;for(let t=0;t<f.length;t++){const e=f[t];a+=e+":"+g(e,!1)+";"}const d=t.value||"G",u=d.length,p=o.windowApi.document.createElement("div");e>0&&y(0,e);const h=y(e,n);u>n&&y(n,u),p.style.cssText=a,p.style.position="absolute",p.style.top=l+"px",p.style.left=c+"px",p.style.width=r+"px",p.style.height=s+"px",o.windowApi.document.body.appendChild(p);const m=h.getBoundingClientRect();return p?.parentNode?.removeChild(p),m;function y(t,e){const n=o.windowApi.document.createElement("span");return n.style.cssText=a,n.textContent=d.substring(t,e),p.appendChild(n),n}function g(e,n){const i=o.windowApi.document.defaultView.getComputedStyle(t,null).getPropertyValue(e);return n?parseFloat(i):i}}addStyle(t){if("string"!=typeof t)throw new Error("DOMUtils.addStyle 参数cssText 必须为String类型");const e=this.createElement("style",{type:"text/css",innerHTML:t});return this.windowApi.document.head?this.windowApi.document.head.appendChild(e):0===this.windowApi.document.documentElement.childNodes.length?this.windowApi.document.documentElement.appendChild(e):this.windowApi.document.documentElement.insertBefore(e,this.windowApi.document.documentElement.childNodes[0]),e}checkUserClickInNode(t){if(!e.isDOM(t))throw new Error("DOMUtils.checkUserClickInNode 参数 targetNode 必须为 Element|Node 类型");const n=this.windowApi.window.event,o=this.windowApi.window.event,i=n?.composedPath()?.[0],r=null!=n?.clientX?n.clientX:o.touches[0].clientX,s=null!=n?.clientY?n.clientY:o.touches[0].clientY,{left:l,right:c,top:a,bottom:f}=t.getBoundingClientRect();return r>=l&&r<=c&&s>=a&&s<=f||!!(i&&t.contains(i)||i==t)}deleteParentNode(t,n){if(null==t)return;if(!e.isDOM(t))throw new Error("DOMUtils.deleteParentNode 参数 target 必须为 Node|HTMLElement 类型");if("string"!=typeof n)throw new Error("DOMUtils.deleteParentNode 参数 targetSelector 必须为 string 类型");let o=!1;const i=p.closest(t,n);return i&&(this.remove(i),o=!0),o}*findElementsWithText(t,e,n){const o=this;if(t.outerHTML.includes(e))if(0===t.children.length){"function"==typeof n&&n(t)||(yield t)}else{const o=Array.from(t.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE);for(const i of o)if(i.textContent.includes(e)){"function"==typeof n&&n(t)||(yield i)}}for(let i=0;i<t.children.length;i++){const r=t.children[i];yield*o.findElementsWithText(r,e,n)}}findVisibleElement(t){let e=t;for(;e;){if(e.getBoundingClientRect().length)return e;e=e.parentElement}return null}setElementSelection(t,e,n,o){const i=this.windowApi.document.createRange();if(i.selectNodeContents(t),e){if(e.nodeType!==Node.TEXT_NODE)throw new TypeError("childTextNode必须是#text元素");null!=n&&null!=o&&(i.setStart(e,n),i.setEnd(e,o))}const r=this.windowApi.globalThis.getSelection();r&&(r.removeAllRanges(),r.addRange(i))}}const p=new u;return p.emit(document,"test"),p.emit(document,"click"),p.emit(document,["test","click"]),p.emit(document,["test","click"],!0),p});
//# sourceMappingURL=index.amd.min.js.map
