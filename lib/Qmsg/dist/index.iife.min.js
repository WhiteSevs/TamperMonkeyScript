var Qmsg=function(){"use strict";const t={INS_DEFAULT:{},get PLUGIN_NAME(){return"qmsg"},get NAMESPACE(){return"qmsg"},get config(){return{parent:document.body||document.documentElement,useShadowRoot:!0,shadowRootMode:"open",animation:!0,autoClose:!0,listenEventToPauseAutoClose:!0,listenEventToCloseInstance:!0,content:"",isHTML:!1,position:"top",showClose:!1,maxNums:5,onClose:null,showIcon:!0,showReverse:!1,timeout:2500,type:"info",zIndex:5e4,style:"",customClass:"",isLimitWidth:!1,limitWidthNum:200,limitWidthWrap:"no-wrap",consoleLogContent:!1,afterRender:null}}},e={info:'\n\t\t<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n\t\t\t<path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm67.008 275.008q26.016 0 43.008-15.488t16.992-41.504-16.992-41.504-42.496-15.488-42.496 15.488-16.992 41.504 16.992 41.504 42.016 15.488zm12 360q0-6.016.992-16T592 664l-52.992 60.992q-8 8.992-16.512 14.016T508 742.016q-8.992-4-8-14.016l88-276.992q4.992-28-8.992-48t-44.992-24q-35.008.992-76.512 29.504t-72.512 72.512v15.008q-.992 10.016 0 19.008l52.992-60.992q8-8.992 16.512-14.016T468 437.024q10.016 4.992 7.008 16l-87.008 276q-7.008 24.992 7.008 44.512T444 800.032q50.016-.992 84-28.992t63.008-72z" fill="#909399"/>\n\t\t</svg>',warning:'\n\n\t\t<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n\t\t\t<path d="M512 64C264.64 64 64 264.64 64 512c0 247.424 200.64 448 448 448 247.488 0 448-200.576 448-448 0-247.36-200.512-448-448-448zm0 704c-26.432 0-48-21.504-48-48s21.568-48 48-48c26.624 0 48 21.504 48 48s-21.376 48-48 48zm48-240c0 26.56-21.376 48-48 48-26.432 0-48-21.44-48-48V304c0-26.56 21.568-48 48-48 26.624 0 48 21.44 48 48v224z" fill="#E6A23C"/>\n\t\t</svg>',error:'\n\n\t\t<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n\t\t\t<path d="M512 64C264.58 64 64 264.58 64 512s200.58 448 448 448 448-200.57 448-448S759.42 64 512 64zm158.39 561.14a32 32 0 1 1-45.25 45.26L512 557.26 398.86 670.4a32 32 0 0 1-45.25-45.26L466.75 512 353.61 398.86a32 32 0 0 1 45.25-45.25L512 466.74l113.14-113.13a32 32 0 0 1 45.25 45.25L557.25 512z" fill="#F56C6C"/>\n\t\t</svg>',success:'\n\n\t\t<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" width="16" height="16">\n\t\t\t<path d="M512 64q190.016 4.992 316.512 131.488T960 512q-4.992 190.016-131.488 316.512T512 960q-190.016-4.992-316.512-131.488T64 512q4.992-190.016 131.488-316.512T512 64zm-56 536l-99.008-99.008q-12-11.008-27.488-11.008t-27.008 11.488-11.488 26.496 11.008 27.008l127.008 127.008q11.008 11.008 27.008 11.008t27.008-11.008l263.008-263.008q15.008-15.008 9.504-36.512t-27.008-27.008-36.512 9.504z" fill="#67C23A"/>\n\t\t</svg>',loading:'\n\t\t<svg class="animate-turn" width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<path fill="#fff" fill-opacity=".01" d="M0 0h48v48H0z"/>\n\t\t\t<path d="M4 24c0 11.046 8.954 20 20 20s20-8.954 20-20S35.046 4 24 4" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t<path d="M36 24c0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12" stroke="#409eff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t</svg>'},n={insInfoList:[],remove(t){let e=!1;for(let i=0;i<n.insInfoList.length;i++)if(n.insInfoList[i].uuid===t){n.insInfoList.splice(i,1),e=!0;break}return e}},i={document:document,window:window,globalThis:globalThis,self:self,setTimeout:globalThis.setTimeout.bind(globalThis),setInterval:globalThis.setInterval.bind(globalThis),clearTimeout:globalThis.clearTimeout.bind(globalThis),clearInterval:globalThis.clearInterval.bind(globalThis)},s=Object.assign({},i),o={init(t){t||(t=Object.assign({},i)),Object.assign(s,t)},get document(){return s.document},get window(){return s.window},get globalThis(){return s.globalThis},get self(){return s.self},get setTimeout(){return s.setTimeout},get setInterval(){return s.setInterval},get clearTimeout(){return s.clearTimeout},get clearInterval(){return s.clearInterval}},a={toStr:t=>JSON.stringify(t,(t,e)=>"object"==typeof e&&null!=e&&e instanceof Node?String(e):e),getNameSpacify:(...e)=>[t.NAMESPACE,...e].join("-"),isNumber:t=>/^\d+$/.test(t),getUUID:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),mergeArgs(t="",e){const n={};if(0===arguments.length)return n;if(null!=e){if(n.content=t,"object"==typeof e&&null!=e)return Object.assign(n,e)}else{if("object"==typeof t&&null!=t)return Object.assign(n,t);n.content=t}return n},toDynamicObject(t,...e){const n=Object.assign({},t??{});return Object.keys(n).forEach(t=>{let i=n[t];Object.defineProperty(n,t,{get(){const n=e.findIndex(e=>"object"==typeof e&&null!=e&&e.hasOwnProperty.call(e,t));if(-1!==n){return e[n][t]}return i},set(t){i=t}})}),n},setTimeout:(t,e)=>o.setTimeout(t,e),clearTimeout(t){null!=t&&o.clearTimeout(t)},setInterval(t,e){o.setInterval(t,e)},clearInterval(t){null!=t&&o.clearInterval(t)},setSafeHTML(t,e){if(globalThis.trustedTypes&&"function"==typeof globalThis.trustedTypes.createPolicy){const n=globalThis.trustedTypes.createPolicy("safe-innerHTML",{createHTML:t=>t});t.innerHTML=n.createHTML(e)}else t.innerHTML=e}},r={$state:{opening:"MessageMoveIn",done:"",closing:"MessageMoveOut"},$name:{startNameList:["animationName","WebkitAnimationName","MozAnimationName","msAnimationName","OAnimationName"],endNameList:["animationend","webkitAnimationEnd","mozAnimationEnd","MSAnimationEnd","oanimationend"]},__CAN_ANIMATION__:void 0,get CAN_ANIMATION(){return this.__CAN_ANIMATION__=this.__CAN_ANIMATION__??null!=this.getStyleAnimationNameValue(document.createElement("div")),this.__CAN_ANIMATION__},getStyleAnimationNameValue(t){for(let e=0;e<this.$name.startNameList.length;e++){const n=this.$name.startNameList[e],i=t.style[n];if(null!=i)return i}},setStyleAnimationName(t,e=""){this.$name.startNameList.forEach(n=>{n in t.style&&(t.style[n]=e)})}},l={css:'\n    @charset "utf-8";\n.qmsg.qmsg-wrapper {\n  position: fixed;\n  top: 16px;\n  left: 0;\n  z-index: 50000;\n  display: flex;\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  color: rgba(0, 0, 0, 0.55);\n  list-style: none;\n  font-variant: tabular-nums;\n  font-size: 13px;\n  line-height: 1;\n  font-feature-settings: "tnum";\n  pointer-events: none;\n  flex-direction: column;\n}\n.qmsg.qmsg-data-position-center,\n.qmsg.qmsg-data-position-left,\n.qmsg.qmsg-data-position-right {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.qmsg.qmsg-data-position-bottom,\n.qmsg.qmsg-data-position-bottomleft,\n.qmsg.qmsg-data-position-bottomright {\n  position: fixed;\n  top: unset;\n  bottom: 0;\n  bottom: 8px;\n  left: 50%;\n  transform: translate(-50%, 0);\n}\n.qmsg.qmsg-data-position-bottomleft .qmsg-item,\n.qmsg.qmsg-data-position-left .qmsg-item,\n.qmsg.qmsg-data-position-topleft .qmsg-item {\n  text-align: left;\n}\n.qmsg.qmsg-data-position-bottom .qmsg-item,\n.qmsg.qmsg-data-position-center .qmsg-item,\n.qmsg.qmsg-data-position-top .qmsg-item {\n  text-align: center;\n}\n.qmsg.qmsg-data-position-bottomright .qmsg-item,\n.qmsg.qmsg-data-position-right .qmsg-item,\n.qmsg.qmsg-data-position-topright .qmsg-item {\n  text-align: right;\n}\n.qmsg .qmsg-item {\n  position: relative;\n  padding: 8px;\n  text-align: center;\n  -webkit-animation-duration: 0.3s;\n  animation-duration: 0.3s;\n}\n.qmsg .qmsg-item .qmsg-count {\n  position: absolute;\n  top: -4px;\n  left: -4px;\n  display: inline-block;\n  height: 16px;\n  min-width: 16px;\n  border-radius: 2px;\n  background-color: red;\n  color: #fff;\n  text-align: center;\n  font-size: 12px;\n  line-height: 16px;\n  -webkit-animation-duration: 0.3s;\n  animation-duration: 0.3s;\n}\n.qmsg .qmsg-item:first-child {\n  margin-top: -8px;\n}\n.qmsg .qmsg-content-wrapper {\n  position: relative;\n  display: inline-block;\n  padding: 10px 12px;\n  max-width: 80%;\n  min-width: 40px;\n  border-radius: 4px;\n  background: #fff;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  text-align: center;\n  pointer-events: all;\n}\n.qmsg .qmsg-content-wrapper .qmsg-content-text[data-limitWidthWrap="no-wrap"] {\n  white-space: nowrap;\n}\n.qmsg .qmsg-content-wrapper .qmsg-content-text[data-limitWidthWrap="ellipsis"] {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.qmsg .qmsg-content-wrapper .qmsg-content-text[data-limitWidthWrap="wrap"] {\n  white-space: normal;\n}\n.qmsg .qmsg-content-wrapper [class^="qmsg-content-"]:not(.qmsg-content-text) {\n  display: flex;\n  align-items: center;\n}\n.qmsg .qmsg-icon {\n  position: relative;\n  top: 0;\n  display: inline-block;\n  margin-right: 8px;\n  color: inherit;\n  vertical-align: -0.125em;\n  text-align: center;\n  text-transform: none;\n  font-style: normal;\n  font-size: 16px;\n  line-height: 0;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.qmsg .qmsg-icon svg {\n  display: inline-block;\n}\n.qmsg .qmsg-content-info .qmsg-icon {\n  color: #1890ff;\n}\n.qmsg .qmsg-icon-close {\n  margin: 0;\n  margin-left: 8px;\n  padding: 0;\n  outline: 0;\n  border: none;\n  background-color: transparent;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 12px;\n  cursor: pointer;\n  transition: color 0.3s;\n}\n.qmsg .qmsg-icon-close:hover > svg path {\n  stroke: #555;\n}\n.qmsg .animate-turn {\n  animation: MessageTurn 1s linear infinite;\n  -webkit-animation: MessageTurn 1s linear infinite;\n}\n\n\n    @keyframes MessageTurn {\n  0% {\n    -webkit-transform: rotate(0);\n  }\n  25% {\n    -webkit-transform: rotate(90deg);\n  }\n  50% {\n    -webkit-transform: rotate(180deg);\n  }\n  75% {\n    -webkit-transform: rotate(270deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes MessageTurn {\n  0% {\n    -webkit-transform: rotate(0);\n  }\n  25% {\n    -webkit-transform: rotate(90deg);\n  }\n  50% {\n    -webkit-transform: rotate(180deg);\n  }\n  75% {\n    -webkit-transform: rotate(270deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes MessageMoveOut {\n  0% {\n    max-height: 150px;\n    opacity: 1;\n  }\n  to {\n    max-height: 0;\n    opacity: 0;\n  }\n}\n@keyframes MessageMoveOut {\n  0% {\n    max-height: 150px;\n    opacity: 1;\n  }\n  to {\n    max-height: 0;\n    opacity: 0;\n  }\n}\n@-webkit-keyframes MessageMoveIn {\n  0% {\n    opacity: 0;\n    transform: translateY(-100%);\n    transform-origin: 0 0;\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n    transform-origin: 0 0;\n  }\n}\n@keyframes MessageMoveIn {\n  0% {\n    opacity: 0;\n    transform: translateY(-100%);\n    transform-origin: 0 0;\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n    transform-origin: 0 0;\n  }\n}\n@-webkit-keyframes MessageShake {\n  0%,\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  25%,\n  75% {\n    opacity: 0.75;\n    transform: translateX(-4px);\n  }\n  50% {\n    opacity: 0.25;\n    transform: translateX(4px);\n  }\n}\n@keyframes MessageShake {\n  0%,\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n  25%,\n  75% {\n    opacity: 0.75;\n    transform: translateX(-4px);\n  }\n  50% {\n    opacity: 0.25;\n    transform: translateX(4px);\n  }\n}\n\n  ',getStyleElement(){const e=document.createElement("style");return e.setAttribute("type","text/css"),e.setAttribute("data-type",t.PLUGIN_NAME),a.setSafeHTML(e,l.css),e}};class m{timeId=void 0;startTime;endTime;setting;settingStr;settingJSON;uuid;state;repeatNum;$el={$item:null,get $content(){const t=this.$item.querySelector('[class^="qmsg-content-"] .qmsg-content-text');if(!t)throw new TypeError("QmsgInst $content is null");return t}};constructor(e,n){this.timeId=void 0,this.startTime=Date.now(),this.endTime=null,this.setting=a.toDynamicObject(t.config,e,t.INS_DEFAULT),this.settingStr=a.toStr(this.setting),this.settingJSON=Object.assign({},this.setting),this.uuid=n,this.state="opening",this.$el.$item=document.createElement("div"),this.repeatNum=1,this.detectionType(),this.initEl();("function"==typeof this.setting.consoleLogContent?this.setting.consoleLogContent(this):this.setting.consoleLogContent)&&console.log(this.setting.content),Reflect.set(this.$el.$item,"data-inst",this),"function"==typeof this.setting.afterRender&&this.setting.afterRender(this)}initEl(){const n=this;this.setting.customClass&&"string"==typeof this.setting.customClass&&this.$el.$item.classList.add(this.setting.customClass);const i=e[this.setting.type||"info"];let s=a.getNameSpacify("content-"+this.setting.type||"info");this.setting.showClose&&(s+=" "+a.getNameSpacify("content-with-close"));const o=this.setting.content||"";let m="";this.setting.showClose&&(m='<i class="qmsg-icon qmsg-icon-close">\n\t<svg width="16" height="16" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t<rect width="48" height="48" fill="white" fill-opacity="0.01"/>\n\t\t<path d="M14 14L34 34" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t<path d="M14 34L34 14" stroke="#909399" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n\t</svg></i>');const g=document.createElement("span");g.className="qmsg-content-text";const c=a.getNameSpacify("data-position",this.setting.position.toLowerCase());if(this.setting.isHTML?a.setSafeHTML(g,o):g.innerText=o,this.setting.isLimitWidth){let t=this.setting.limitWidthNum;"string"==typeof t?a.isNumber(t)&&(t+="px"):t=t.toString()+"px",g.style.maxWidth=t,g.style.width=t,g.setAttribute("data-limitWidthWrap",this.setting.limitWidthWrap)}else g.setAttribute("data-limitWidthWrap","no-wrap");a.setSafeHTML(this.$el.$item,`\n\t\t\t<div class="qmsg-content-wrapper">\n\t\t\t\t<div class="${s}">\n\t\t\t\t${this.setting.showIcon?`<i class="qmsg-icon">${i}</i>`:""}\n\t\t\t\t\t${g.outerHTML}\n\t\t\t\t\t${m}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t`);const h=this.$el.$item.querySelector(".qmsg-content-wrapper");let d,u,p;if(this.$el.$item.classList.add(a.getNameSpacify("item")),this.$el.$item.setAttribute(a.getNameSpacify("uuid"),this.uuid),d=document.querySelector(".qmsg-shadow-container"),u=this.setting.useShadowRoot?d?.shadowRoot:d,!d){if(d=document.createElement("div"),d.className="qmsg-shadow-container",u=this.setting.useShadowRoot?d.attachShadow({mode:this.setting.shadowRootMode}):d,u.appendChild(l.getStyleElement()),null!=this.setting.style){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-id",this.uuid),a.setSafeHTML(t,this.setting.style),h.insertAdjacentElement("afterend",t)}this.setting.parent.appendChild(d)}if(null==u)throw new TypeError("QmsgInst "+t.PLUGIN_NAME+" $shadowRoot is null");p=u.querySelector(`.${t.NAMESPACE}.${a.getNameSpacify("wrapper")}.${c}`),p||(p=document.createElement("div"),p.classList.add(t.NAMESPACE,a.getNameSpacify("wrapper"),a.getNameSpacify("is-initialized"),c),u.appendChild(p)),this.setting.showReverse?p.style.flexDirection="column-reverse":p.style.flexDirection="column";let f=this.setting.zIndex;if("function"==typeof f&&(f=f()),isNaN(f)||(p.style.zIndex=f.toString()),p.appendChild(this.$el.$item),this.setState(this.$el.$item,"opening"),this.setting.showClose){const t=this.$el.$item.querySelector(".qmsg-icon-close");t&&t.addEventListener("click",()=>{n.close()})}const y=()=>{r.getStyleAnimationNameValue(n.$el.$item)===r.$state.closing&&(n.endTime=Date.now(),n.destroy()),r.setStyleAnimationName(this.$el.$item)};if(r.$name.endNameList.forEach(function(t){n.$el.$item.addEventListener(t,y)}),this.setting.autoClose&&this.setting.listenEventToPauseAutoClose){this.resetAutoCloseTimer();const t=()=>{this.clearAutoCloseTimer()},e=()=>{null==this.timeId?this.startAutoCloseTimer():console.warn("QmsgInst timeId is not null，mouseenter may be not first trigger，timeId："+this.timeId)};let n=!1;this.$el.$item.addEventListener("mouseenter",t),this.$el.$item.addEventListener("mouseleave",e),this.$el.$item.addEventListener("touchstart",()=>{n||(n=!0,this.$el.$item.removeEventListener("mouseenter",t),this.$el.$item.removeEventListener("mouseleave",e)),t()},{passive:!0}),this.$el.$item.addEventListener("touchend",e),this.$el.$item.addEventListener("touchcancel",e)}}detectionType(){null!=this.setting.timeout&&"string"==typeof this.setting.timeout&&(this.setting.timeout=parseInt(this.setting.timeout)),isNaN(this.setting.timeout)&&(this.setting.timeout=t.config.timeout),null!=this.setting.timeout&&parseInt(this.setting.timeout.toString())>=0&&parseInt(this.setting.timeout.toString())<=Number.MAX_VALUE||(this.setting.timeout=t.config.timeout),"function"==typeof this.setting.zIndex&&(this.setting.zIndex=this.setting.zIndex()),null!=this.setting.zIndex&&"string"==typeof this.setting.zIndex&&(this.setting.zIndex=parseInt(this.setting.zIndex)),isNaN(this.setting.zIndex)&&(this.setting.zIndex="function"==typeof t.config.zIndex?t.config.zIndex():t.config.zIndex)}setState(t,e){e&&r.$state[e]&&(this.state=e,r.setStyleAnimationName(t,r.$state[e]))}setRepeatNumIncreasing(){this.repeatNum++}setMsgCount(){const e=a.getNameSpacify("count"),n=this.$el.$item.querySelector(`.${t.NAMESPACE}.${a.getNameSpacify("wrapper")} [class^="qmsg-content-"]`);if(!n)throw new TypeError("QmsgInst $content is null");let i=n.querySelector("."+e);i||(i=document.createElement("span"),i.classList.add(e),n.appendChild(i));const s=this.repeatNum;a.setSafeHTML(i,s.toString()),r.setStyleAnimationName(i),r.setStyleAnimationName(i,"MessageShake"),this.resetAutoCloseTimer()}clearAutoCloseTimer(){a.clearTimeout(this.timeId),this.timeId=void 0,this.startTime=null,this.endTime=null}startAutoCloseTimer(){this.setting.autoClose&&this.setting.listenEventToPauseAutoClose&&(this.startTime=Date.now(),this.endTime=null,this.timeId=a.setTimeout(()=>{this.close()},this.setting.timeout))}resetAutoCloseTimer(){this.clearAutoCloseTimer(),this.startAutoCloseTimer()}close(){this.setState(this.$el.$item,"closing"),r.CAN_ANIMATION?n.remove(this.uuid):this.destroy();const t=this.setting.onClose;t&&"function"==typeof t&&t.call(this)}destroy(){this.endTime=Date.now(),this.$el.$item.remove(),a.clearTimeout(this.timeId),n.remove(this.uuid),this.timeId=void 0}setText(t){this.$el.$content.innerText=t,this.setting.content=t}setHTML(t){const e=this.$el.$content;a.setSafeHTML(e,t),this.setting.content=t}}function g(e={}){const i=a.toStr(e),s=a.toDynamicObject(t.config,e,t.INS_DEFAULT),o=a.toStr(s);let r=n.insInfoList.find(t=>t.configStr===i&&t.inst.settingStr===o),l=r?.inst;if(null==l){const t=a.getUUID(),e=new m(s,t),o={uuid:t,configStr:i,inst:e};n.insInfoList.push(o);const g=n.insInfoList.length,c=o.inst.setting.maxNums;if(g>c)for(let t=0;t<g-c;t++){const e=n.insInfoList[t];e&&e.inst.setting.autoClose&&e.inst.close()}r=o,l=o.inst}else l.repeatNum?l.repeatNum>=99||l.setRepeatNumIncreasing():l.repeatNum=2,l.setMsgCount();if(!l)throw new Error("QmsgInst is null");return l.$el.$item.setAttribute("data-count",l?.repeatNum.toString()),l}const c={visibilitychange:{eventConfig:{callback(){if("visible"===document.visibilityState)for(let t=0;t<n.insInfoList.length;t++){const e=n.insInfoList[t].inst,i=e.setting,s=Date.now();"loading"!==i.type&&i.autoClose&&"number"!=typeof e.endTime&&"number"==typeof e.startTime&&"number"==typeof i.timeout&&s-e.startTime>=i.timeout&&e.close()}},option:{capture:!0}},addEvent(){"visibilityState"in document?document.addEventListener("visibilitychange",c.visibilitychange.eventConfig.callback,c.visibilitychange.eventConfig.option):console.error("Qmsg addEvent visibilityState not support")},removeEvent(){document.removeEventListener("visibilitychange",c.visibilitychange.eventConfig.callback,c.visibilitychange.eventConfig.option)}}};!function(){try{"function"!=typeof Object.assign&&(Object.assign=function(...t){const e=Object(t[0]||{});if(t.length>1){[...t].splice(1,t.length-1).forEach(t=>{for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})}return e})}catch(t){console.warn("Qmsg CompatibleProcessing Object.assign error",t)}try{"classList"in document.documentElement||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){const t=this;function e(e){return function(n){const i=t.className.split(/\s+/g),s=i.indexOf(n);e(i,s,n),t.className=i.join(" ")}}return{add:e(function(t,e,n){~e||t.push(n)}),remove:e(function(t,e){~e&&t.splice(e,1)}),toggle:e(function(t,e,n){~e?t.splice(e,1):t.push(n)}),contains:function(e){return!!~t.className.split(/\s+/g).indexOf(e)},item:function(e){return t.className.split(/\s+/g)[e]||null}}}})}catch(t){console.warn("Qmsg CompatibleProcessing HTMLElement.prototype.classList warning",t)}}();return new class{$data;$eventUtils;constructor(i){this.$data={version:"1.7.0",config:t,icon:e,instanceStorage:n},this.$eventUtils=c,this.$eventUtils.visibilitychange.addEvent(),this.config(i)}config(e){const n=t;if(null==e)return n.INS_DEFAULT;if("object"!=typeof e)return n.INS_DEFAULT;for(const t in e){if(!Object.hasOwn(e,t))continue;const i=Object.getOwnPropertyDescriptor(e,t);if(i)if("get"in i)Reflect.deleteProperty(n.INS_DEFAULT,t),Object.defineProperty(n.INS_DEFAULT,t,{get:i.get,configurable:!0,enumerable:!0});else{if(!("value"in i))throw new TypeError("Qmsg.config: descriptor.get or descriptor.value is null");Reflect.deleteProperty(n.INS_DEFAULT,t),Object.defineProperty(n.INS_DEFAULT,t,{get:()=>i.value,configurable:!0,enumerable:!0})}else Reflect.set(n.INS_DEFAULT,t,e[t])}return n.INS_DEFAULT}info(t,e){const n=a.mergeArgs(t,e);return n.type="info",g.call(this,n)}warning(t,e){const n=a.mergeArgs(t,e);return n.type="warning",g.call(this,n)}success(t,e){const n=a.mergeArgs(t,e);return n.type="success",g.call(this,n)}error(t,e){const n=a.mergeArgs(t,e);return n.type="error",g.call(this,n)}loading(t,e){const n=a.mergeArgs(t,e);return n.type="loading",n.autoClose=!1,g.call(this,n)}remove(t){n.remove(t)}closeAll(){for(let t=n.insInfoList.length-1;t>=0;t--){const e=n.insInfoList[t];e&&e.inst&&e.inst.close()}}}}();
//# sourceMappingURL=index.iife.min.js.map
