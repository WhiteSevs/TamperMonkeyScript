// ==UserScript==
// @name         ÁΩëÁõòÈìæÊé•ËØÜÂà´
// @namespace    https://github.com/WhiteSevs/TamperMonkeyScript
// @version      2025.6.19.17
// @author       WhiteSevs
// @description  ËØÜÂà´ÁΩëÈ°µ‰∏≠ÊòæÁ§∫ÁöÑÁΩëÁõòÈìæÊé•ÔºåÁõÆÂâçÂåÖÊã¨ÁôæÂ∫¶ÁΩëÁõò„ÄÅËìùÂ•è‰∫ë„ÄÅÂ§©Áøº‰∫ë„ÄÅ‰∏≠ÂõΩÁßªÂä®‰∫ëÁõò(Âéü:ÂíåÂΩ©‰∫ë)„ÄÅÈòøÈáå‰∫ë„ÄÅÊñáÂèîÂèî„ÄÅÂ•∂ÁâõÂø´‰º†„ÄÅ123Áõò„ÄÅËÖæËÆØÂæÆ‰∫ë„ÄÅËøÖÈõ∑ÁΩëÁõò„ÄÅ115ÁΩëÁõò„ÄÅÂ§∏ÂÖãÁΩëÁõò„ÄÅÂüéÈÄöÁΩëÁõò(ÈÉ®ÂàÜ)„ÄÅÂùöÊûú‰∫ë„ÄÅUCÁΩëÁõò„ÄÅBTÁ£ÅÂäõ„ÄÅ360‰∫ëÁõòÔºåÊîØÊåÅËìùÂ•è‰∫ë„ÄÅÂ§©Áøº‰∫ë(ÈúÄÁôªÂΩï)„ÄÅ123Áõò„ÄÅÂ•∂Áâõ„ÄÅUCÁΩëÁõò(ÈúÄÁôªÂΩï)„ÄÅÂùöÊûú‰∫ë(ÈúÄÁôªÂΩï)ÂíåÈòøÈáå‰∫ëÁõò(ÈúÄÁôªÂΩïÔºå‰∏îÈôêÂà∂Âú®ÁΩëÁõòÈ°µÈù¢Ëß£Êûê)Áõ¥ÈìæËé∑Âèñ‰∏ãËΩΩÔºåÈ°µÈù¢Âä®ÊÄÅÁõëÊéßÂä†ËΩΩÁöÑÈìæÊé•ÔºåÂèØËá™ÂÆö‰πâËßÑÂàôÊù•ËØÜÂà´Â∞è‰ºóÁΩëÁõò/ÁΩëËµöÁΩëÁõòÊàñÂÖ∂ÂÆÉËá™ÂÆö‰πâÁöÑÈìæÊé•„ÄÇ
// @license      GPL-3.0-only
// @icon         data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAACsJJREFUeF7tXW+IHdUVP2c2u8kHIQYL0TRIaK1SgrFFaZsvVkpAo6YR1LJpa9jUd++83SUpSrUNBFRCrVgxNOv+mTOvJBBNmtpamoQG9UNBKLHFDzEtFttKBdOYQENE/Lb75vZd2cVNum/uvXNnZt/MnoGQD+/c8+d3fu+c+2f2PgR+ljQCuKSj5+CBCbDEScAEYAIscQSWePhcAZgASxyBJR4+VwAmQHEIjIyM3DAzM/M1pdSXEfEWALgVANbkaPE0ABwhomdz1GmtSgixHxF3Wg8wC55HxPeVUu8DgP7/jRUrVvxpbGzsY/PQbBK5VwCd9Ha7vVkptRkA9L8yHiKisAxDczaklL8GgAfLsImIryql3gSAqBPnh3nazI0AjUZjbRAEjwLAI3k6aKtLKbUjjuODtvI+cs1m894kSY776Mg49hwAxHkSIRcCSCl10nXy12YMLI9hrxDR/XkoMukQQrQQ8WGTXIGfn0PEZ6IoGvO14U0AKeUJALjH15Ecxr9ARHn2464uCSEOI+K2HHz2VXGUiAZ9lHgRQEp5BgBu9nEgr7FBEGyZmprSZCz8EUIMIuKRwg3ZGfiAiK63E/1/qcwEkFJ+BAArsxrOedzLRPSdnHWmqgvD8EBntj5Ups0UWxeI6NosvmQigBDibUTckMVgAWNKXwHMxSClfBwAtgPA+gLiclX5GhHd6TrImQBhGO5RSu11MHQREY8nSXICEf/R399/bnx8/KLD+CUl2plf3BgEwa1JktyOiN8HgKscAHCuhE4EaDabQ0mSHLBxSCml5weHlFKHWq3WBZsxLHM5AlLKLwLAQwCwCwBWWeLzKBHts5S1fx9ASnkdALxluZPXIiJh6wTLpSMwPDx8U7vd/iEADFtgdTZJko2tVuushawTAZ4EgCdMSpVSW+M4PmaS48/dEZBSWuWgMznfR0R6X8b4WLUA228/Ig5GUXTUaJUFMiMghNiEiK+bFCxbtuxLExMT/zLJ2RLAhnmTRDRiMsif+yMQhuFupdTTaZoQcZfNTqEVAYQQf0TEO1IMXurr69s4OTn5rn94rMEGAYul+Ekiutuky0iAoaGhqwcGBi4ZFD1FRLpK8FMSAkKIHyHiz9PM2bQBIwGklPcBwO9SDH0CAF8hovdKip3NAECj0VgdBMHf05aHSqntcRwfSm0VJjSllD8DgJ90k1NKTcVxbLM8MZnizx0RkFL+BgC6noAi4nNRFD3mSwB96NH1xKnMc3hHfGovbnEoZdweNraAMAxPKaW+0Q1NRFwfRdE7tUe7BwOUUuqTWL3j2u0xHhIZCSCl1K8gdT1pIiKjjh7ErhYujY6OXjM9Pf3ftGBM+TEmT0qpfAzUAukeDsI3P0yAHk6ujWtMABuUaizDBKhxcm1CYwLYoFRjGSZAjZNrExoTwAalGsswAWqcXJvQmAA2KNVYhglQ4+TahMYEsEGpxjK1IYCU8vcAcJvlW8dVTqn+C9+3iGhrHkHUggCmIPIAqhd1mA5qbHw2YWeysehnAWVetGADaMkyzn/Jc6V/dSDAeQBYXTLwvWLOeF5vcrQOBEg9bjYBUPXPTSXaFB8TwIRQj3/OBDC8cNLj+fN2r+oEOE1EX/VBwVTCfHRXYWzBBDDmx7gKMNyF92PfO/pMBPAFKO9Zsyupio7PNz9GAuiAuyzVcrmZo2iA6k4A3/xYEUAb0Xfjtdvt+xBxlVLqeF538jEB8nmrOmt+rAngWvps5ZkA+RDAFu8r5XqBAP9J2f8/R0SfzxrcQuMWgXClxueKVS8QQB8CfbuL48fyOjSZ078IBCg1vsoRYHYSs+BuYN4rgDRbc8CVabMIW5UkwLyZ7O2zAbxR1MWPZVeAeZVH3y5eeHyVJYCr41nlF4sAWf0tetyizwGKDnCx9wHKjs/VHhPgCsR6oS+7JtFHngnABPDhT/XG8hzg8pxxBeAKUL1vsY/HXAG4AvCNJ/M4wC2AW4BPQa3eWG4B3AK4BXAL6F65eCOoelXdyWNuAdwCuAVwC+AWMIcALwN5GejUQisvzHMAngPwHIDnADwH4DlAFw7wPkDlu3x6ADwHyDgHCMPwLqXUJgCYDoLgpampqb9VkSt1JUDW/FgtA6WUvwSAH1yR8Bc7vxSmf9i4Uk8dCeCTHyMBDL8a9j0iOlwlBtSNAL75sSGA/v1Z/TPmCz3/JqIvMAEWDwEppVd+bAhQq3VzDSuAV36YABXfCvYlNBOACbC01s2+35jF6/YLW/aNhysAVwCuAPMRqNpWMFcAx5rsC5ijucLFfePhFsAtgFsAt4AUDviWmMJroKMBjsfxNJABc2RYyeK++VmKc4CevrfPlT9MAEfEZn+cqrR7CR3dcxZnAjhD9unl16XdS5jBPachTAAnuD4Tnr0Bvefu7XMNhwngiljN5JkANUuoazhMAFfEaia/6ATo7+//3Pj4+MWa4VqZcAwEOE9E16UFY7MPkLZu1ro3ENFfK4NYjRwVQtyIiO92CwkR34yiaKMvAY4BwJZuSpRSD8Rx/Nsa4VqZUMIw3KaUSnsr+1dEtM2LAEKIvYi4J4VlB6Mo2lEZ1GrkqBBiEhGbKSE9Q0S7vQggpfwuALyUouRikiTrW63WhRph2/OhSCn1q/qnAeCqlOp8dxzHJ70IMDIycsPMzMw/05QopR6L4/i5nketRg5KKZ8EgCfSQlq+fPnKsbGxj70IoAdLKf8AAJtTmHYmjuNbaoRvT4cyPDx8U7vdPgUAq1Ja86tRFN1lCsS4CtAKwjDcqZTab1DWIiJhMsif+yMgpZwAgGGDpqeISFeJ1MeKADZtQFtRSm2N41ivGvgpCAGb0t8p2ucA4DYi+tDkhhUBZtvA8wDwiFEh4mAURUdNcvy5OwJCiE2I+LrFSKtvv9ZjTYBGo7E2CALdd9ZaODDZ19f3i8nJya6bFBY6WGQeAmEY7lZKPW0BivW334kAs1VAVwBdCWyeSwCg5w2HOvcIvGczgGUuR6DRaKxGRH0Hw0OIuMEGH0TcFUXRmI2sMwFmSXACAO6xNQAAnyilXuysIv4cBMFfoih6x2HskhIdHR29Znp6eo1Saj0iPgAA30qb6S8AzlEiGnQBzboFzFcqpTwDADe7GCpIVm+EHCGiZwvSn6pWCLEfEXcuhu0FbH5ARNe7+pKJALOV4CMAWOlqsCB56sx4w4J0L6h29o2iB8u0mWLrAhFdm8WXzATQxoQQb9v2pizOuYxRSu2I4/igy5isss1m894kSY5nHZ/zuNeI6M6sOr0IoI2GYbhHKbU3qwM5jnulcyx9f476uqoSQrQQ8eEybBlsvOz7G8veBNAONpvNoSRJfgoAaxYRlBeIqJR+3DmHP9w5h089Zi0Yh7N6NUZE+3zt5EKA2TmBfvNE92G9HVw6EYIg2DI1NaVXKIU/QohBRDxSuKGFDexLkuT5VqulSeD95EaAOU+klJ8SQSn1TUS8w9tDOwXepdDOzGdSYRgeUEoNuY7LKH8SEU/29fWdnJiY0LeC5fbkToD5ng0NDV09MDCgSfB1AFiHiOuUUusAINOMtUvUpa8A5pH9cQDYDgDrc8sIgH6vQk+uzyRJcqa/v/9U3kmf72uhBMgRFFZVEAJMgIKArYpaJkBVMlWQn0yAgoCtilomQFUyVZCfTICCgK2KWiZAVTJVkJ9MgIKArYra/wGYigzMiqJYZwAAAABJRU5ErkJggg==
// @supportURL   https://github.com/WhiteSevs/TamperMonkeyScript/issues
// @match        *://*/*
// @require      https://fastly.jsdelivr.net/gh/WhiteSevs/TamperMonkeyScript@86be74b83fca4fa47521cded28377b35e1d7d2ac/lib/CoverUMD/index.js
// @require      https://fastly.jsdelivr.net/gh/WhiteSevs/TamperMonkeyScript@7272395d2c4ef6f254ee09724e20de4899098bc0/scripts-vite/%E7%BD%91%E7%9B%98%E9%93%BE%E6%8E%A5%E8%AF%86%E5%88%AB/%E7%BD%91%E7%9B%98%E9%93%BE%E6%8E%A5%E8%AF%86%E5%88%AB-%E5%9B%BE%E6%A0%87.js
// @require      https://fastly.jsdelivr.net/npm/@whitesev/utils@2.6.9/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/npm/@whitesev/domutils@1.5.10/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/npm/@whitesev/pops@2.1.3/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/npm/qmsg@1.3.8/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/gh/WhiteSevs/TamperMonkeyScript@886625af68455365e426018ecb55419dd4ea6f30/lib/CryptoJS/index.js
// @connect      *
// @connect      lanzoub.com
// @connect      lanzouc.com
// @connect      lanzoue.com
// @connect      lanzouf.com
// @connect      lanzoug.com
// @connect      lanzouh.com
// @connect      lanzoui.com
// @connect      lanzouj.com
// @connect      lanzouk.com
// @connect      lanzoul.com
// @connect      lanzoum.com
// @connect      lanzouo.com
// @connect      lanzoup.com
// @connect      lanzouq.com
// @connect      lanzous.com
// @connect      lanzout.com
// @connect      lanzouu.com
// @connect      lanzouv.com
// @connect      lanzouw.com
// @connect      lanzoux.com
// @connect      lanzouy.com
// @connect      lanosso.com
// @connect      lanzn.com
// @connect      lanzog.com
// @connect      lanpw.com
// @connect      lanpv.com
// @connect      lanzv.com
// @connect      wwentua.com
// @connect      ilanzou.com
// @connect      189.cn
// @connect      123pan.com
// @connect      123pan.cn
// @connect      wenshushu.cn
// @connect      jianguoyun.com
// @connect      cowtransfer.com
// @connect      cowcs.com
// @connect      aliyundrive.com
// @connect      baidu.com
// @connect      139.com
// @connect      weiyun.com
// @connect      xunlei.com
// @connect      115.com
// @connect      quark.cn
// @connect      jianguoyun.com
// @connect      uc.cn
// @connect      ctfile.com
// @connect      sharepoint.com
// @connect      whatslink.info
// @connect      www.yunpan.com
// @connect      link.yunpan.com
// @grant        GM_deleteValue
// @grant        GM_download
// @grant        GM_getResourceText
// @grant        GM_getValue
// @grant        GM_info
// @grant        GM_openInTab
// @grant        GM_registerMenuCommand
// @grant        GM_setValue
// @grant        GM_unregisterMenuCommand
// @grant        GM_xmlhttpRequest
// @grant        unsafeWindow
// @run-at       document-start
// ==/UserScript==

(function (f, W, Ce, nt, zt) {
	'use strict';

	var Vt=Object.defineProperty;var Pt=(r,a,e)=>a in r?Vt(r,a,{enumerable:true,configurable:true,writable:true,value:e}):r[a]=e;var G=(r,a,e)=>Pt(r,typeof a!="symbol"?a+"":a,e);var gt=typeof GM_deleteValue<"u"?GM_deleteValue:void 0,mt=typeof GM_download<"u"?GM_download:void 0,yt=typeof GM_getResourceText<"u"?GM_getResourceText:void 0,le=typeof GM_getValue<"u"?GM_getValue:void 0,Ee=typeof GM_info<"u"?GM_info:void 0,Bt=typeof GM_openInTab<"u"?GM_openInTab:void 0,Gt=typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:void 0,fe=typeof GM_setValue<"u"?GM_setValue:void 0,Ht=typeof GM_unregisterMenuCommand<"u"?GM_unregisterMenuCommand:void 0,jt=typeof GM_xmlhttpRequest<"u"?GM_xmlhttpRequest:void 0,he=typeof unsafeWindow<"u"?unsafeWindow:void 0,qt=window;const Dt={waitRemove(...r){r.forEach(a=>{typeof a=="string"&&p.waitNodeList(a).then(e=>{e.forEach(t=>t.remove());});});},addBlockCSS(...r){let a=[];if(r.length!==0&&!(r.length===1&&typeof r[0]=="string"&&r[0].trim()===""))return r.forEach(e=>{Array.isArray(e)?a=a.concat(e):a.push(e);}),xt(`${a.join(`,
`)}{display: none !important;}`)},setGMResourceCSS(r){let a=typeof yt=="function"?yt(r.keyName):null;typeof a=="string"&&a?xt(a):Dt.loadStyleLink(r.url);},async loadStyleLink(r){let a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=r,W.ready(()=>{document.head.appendChild(a);});},async loadScript(r){let a=document.createElement("script");return a.src=r,new Promise(e=>{a.onload=()=>{e(null);},(document.head||document.documentElement).appendChild(a);})},fixUrl(r){return r=r.trim(),r.match(/^http(s|):\/\//i)||(r.startsWith("/")||(r+="/"),r=window.location.origin+r),r},fixHttps(r){if(r.startsWith("https://")||!r.startsWith("http://"))return r;let a=new URL(r);return a.protocol="https:",a.toString()},lockScroll(...r){let a=document.createElement("style");a.innerHTML=`
			.pops-overflow-hidden-important {
				overflow: hidden !important;
			}
		`;let e=[document.documentElement,document.body].concat(...r||[]);return e.forEach(t=>{t.classList.add("pops-overflow-hidden-important");}),(document.head||document.documentElement).appendChild(a),{recovery(){e.forEach(t=>{t.classList.remove("pops-overflow-hidden-important");}),a.remove();}}},async getClipboardText(){function r(t){navigator.clipboard.readText().then(n=>{t(n);}).catch(n=>{g.error("ËØªÂèñÂâ™Ë¥¥ÊùøÂÜÖÂÆπÂ§±Ë¥•üëâ",n),t("");});}function a(t){navigator.permissions.query({name:"clipboard-read"}).then(n=>{r(t);}).catch(n=>{g.error("Áî≥ËØ∑Ââ™Ë¥¥ÊùøÊùÉÈôêÂ§±Ë¥•ÔºåÂ∞ùËØïÁõ¥Êé•ËØªÂèñüëâ",n.message??n.name??n.stack),r(t);});}function e(){var t,n;return !(typeof((t=navigator==null?void 0:navigator.clipboard)==null?void 0:t.readText)!="function"||typeof((n=navigator==null?void 0:navigator.permissions)==null?void 0:n.query)!="function")}return new Promise(t=>{if(!e()){t("");return}document.hasFocus()?a(t):window.addEventListener("focus",()=>{a(t);},{once:true});})},escapeHtml(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/¬©/g,"&copy;").replace(/¬Æ/g,"&reg;").replace(/‚Ñ¢/g,"&trade;").replace(/‚Üí/g,"&rarr;").replace(/‚Üê/g,"&larr;").replace(/‚Üë/g,"&uarr;").replace(/‚Üì/g,"&darr;").replace(/‚Äî/g,"&mdash;").replace(/‚Äì/g,"&ndash;").replace(/‚Ä¶/g,"&hellip;").replace(/ /g,"&nbsp;").replace(/\r\n/g,"<br>").replace(/\r/g,"<br>").replace(/\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")}},Fe={qmsg_config_position:{key:"qmsg-config-position",defaultValue:"bottom"},qmsg_config_maxnums:{key:"qmsg-config-maxnums",defaultValue:3},qmsg_config_showreverse:{key:"qmsg-config-showreverse",defaultValue:false}},p=Ce.noConflict(),w=W.noConflict(),H=nt,g=new p.Log(Ee,he.console||qt.console);var Rt;let Xe=((Rt=Ee==null?void 0:Ee.script)==null?void 0:Rt.name)||void 0;const Zt=nt.config.Utils.AnyTouch(),Nt=false;g.config({debug:Nt,logMaxCount:1e3,autoClearConsole:true,tag:true});f.config(Object.defineProperties({html:true,autoClose:true,showClose:false},{position:{get(){return ne.getValue(Fe.qmsg_config_position.key,Fe.qmsg_config_position.defaultValue)}},maxNums:{get(){return ne.getValue(Fe.qmsg_config_maxnums.key,Fe.qmsg_config_maxnums.defaultValue)}},showReverse:{get(){return ne.getValue(Fe.qmsg_config_showreverse.key,Fe.qmsg_config_showreverse.defaultValue)}},zIndex:{get(){let r=Ce.getMaxZIndex(),a=nt.config.InstanceUtils.getPopsMaxZIndex().zIndex;return Ce.getMaxValue(r,a)+100}}}));H.GlobalConfig.setGlobalConfig({zIndex:()=>{let r=Ce.getMaxZIndex(void 0,void 0,e=>{var t;if((t=e==null?void 0:e.classList)!=null&&t.contains("qmsg-shadow-container")||e!=null&&e.closest("qmsg")&&e.getRootNode()instanceof ShadowRoot)return  false}),a=nt.config.InstanceUtils.getPopsMaxZIndex().zIndex;return Ce.getMaxValue(r,a)+100},mask:{enable:true,clickEvent:{toClose:false,toHide:false}}});const Pe=new p.GM_Menu({GM_getValue:le,GM_setValue:fe,GM_registerMenuCommand:Gt,GM_unregisterMenuCommand:Ht}),E=new p.Httpx({xmlHttpRequest:jt,logDetails:Nt});E.interceptors.request.use(r=>r);E.interceptors.response.use(void 0,r=>(g.error("Êã¶Êà™Âô®-ËØ∑Ê±ÇÈîôËØØ",r),r.type==="onabort"?f.warning("ËØ∑Ê±ÇÂèñÊ∂à",{consoleLogContent:true}):r.type==="onerror"?f.error("ËØ∑Ê±ÇÂºÇÂ∏∏",{consoleLogContent:true}):r.type==="ontimeout"?f.error("ËØ∑Ê±ÇË∂ÖÊó∂",{consoleLogContent:true}):f.error("ÂÖ∂ÂÆÉÈîôËØØ",{consoleLogContent:true}),r));he.Object.defineProperty,he.Function.prototype.apply,he.Function.prototype.call,he.Element.prototype.appendChild,he.setTimeout;const xt=p.addStyle.bind(p),et=document.querySelector.bind(document),Wt=document.querySelectorAll.bind(document);new p.GM_Cookie;const Tt="GM_Panel",bt="data-init",pe="data-key",me="data-default-value",Kt="data-init-more-value",U="data-storage-api",Z={setting:{get width(){return window.innerWidth<550?"88vw":window.innerWidth<700?"550px":"700px"},get height(){return window.innerHeight<450?"70vh":window.innerHeight<550?"450px":"550px"}},settingBig:{get width(){return window.innerWidth<800?"92vw":"800px"},get height(){return window.innerHeight<600?"80vh":"600px"}},info:{get width(){return "350px"},get height(){return "250px"}}};class Le{constructor(a){G(this,"storageKey");G(this,"listenerData");if(typeof a=="string"){let e=a.trim();if(e=="")throw new Error("keyÂèÇÊï∞‰∏çËÉΩ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤");this.storageKey=e;}else throw new Error("keyÂèÇÊï∞Á±ªÂûãÈîôËØØÔºåÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤");this.listenerData=new Ce.Dictionary;}getLocalValue(){let a=le(this.storageKey);return a==null&&(a={},this.setLocalValue(a)),a}setLocalValue(a){fe(this.storageKey,a);}set(a,e){let t=this.get(a),n=this.getLocalValue();Reflect.set(n,a,e),this.setLocalValue(n),this.triggerValueChangeListener(a,t,e);}get(a,e){let t=this.getLocalValue();return Reflect.get(t,a)??e}getAll(){return this.getLocalValue()}delete(a){let e=this.get(a),t=this.getLocalValue();Reflect.deleteProperty(t,a),this.setLocalValue(t),this.triggerValueChangeListener(a,e,void 0);}has(a){let e=this.getLocalValue();return Reflect.has(e,a)}keys(){let a=this.getLocalValue();return Reflect.ownKeys(a)}values(){let a=this.getLocalValue();return Reflect.ownKeys(a).map(e=>Reflect.get(a,e))}clear(){gt(this.storageKey);}addValueChangeListener(a,e){let t=Math.random(),n=this.listenerData.get(a)||[];return n.push({id:t,key:a,callback:e}),this.listenerData.set(a,n),t}removeValueChangeListener(a){let e=false;for(const[t,n]of this.listenerData.entries()){for(let s=0;s<n.length;s++){const i=n[s];(typeof a=="string"&&i.key===a||typeof a=="number"&&i.id===a)&&(n.splice(s,1),s--,e=true);}this.listenerData.set(t,n);}return e}triggerValueChangeListener(a,e,t){if(!this.listenerData.has(a))return;let n=this.listenerData.get(a);for(let s=0;s<n.length;s++){const i=n[s];if(typeof i.callback=="function"){let o=this.get(a),l,c;typeof e<"u"&&arguments.length>=2?c=e:c=o,typeof t<"u"&&arguments.length>2?l=t:l=o,i.callback(a,c,l);}}}}const De=new Le(Tt),$e={$data:{__contentConfig:null,get contentConfig(){return this.__contentConfig==null&&(this.__contentConfig=new p.Dictionary),this.__contentConfig}},addContentConfig(r){Array.isArray(r)||(r=[r]);let a=this.$data.contentConfig.keys().length;this.$data.contentConfig.set(a,r);},getAllContentConfig(){return this.$data.contentConfig.values().flat()},getConfig(r=0){return this.$data.contentConfig.get(r)??[]}},it={$data:{__menuOption:[{key:"show_pops_panel_setting",text:"‚öô ËÆæÁΩÆ",autoReload:false,isStoreValue:false,showText(r){return r},callback:()=>{ne.showPanel($e.getConfig(0));}}],get menuOption(){return this.__menuOption}},init(){this.initExtensionsMenu();},initExtensionsMenu(){ne.isTopWindow()&&Pe.add(this.$data.menuOption);},addMenuOption(r){Array.isArray(r)||(r=[r]),this.$data.menuOption.push(...r);},updateMenuOption(r){Array.isArray(r)||(r=[r]),r.forEach(a=>{let e=this.$data.menuOption.findIndex(t=>t.key===a.key);e!==-1&&(this.$data.menuOption[e]=a);});},getMenuOption(r=0){return this.$data.menuOption[r]},deleteMenuOption(r=0){this.$data.menuOption.splice(r,1);}},ne={$data:{__configDefaultValueData:null,__onceExecMenuData:null,__onceExecData:null,__panelConfig:{},$panel:null,get configDefaultValueData(){return this.__configDefaultValueData==null&&(this.__configDefaultValueData=new p.Dictionary),this.__configDefaultValueData},get onceExecMenuData(){return this.__onceExecMenuData==null&&(this.__onceExecMenuData=new p.Dictionary),this.__onceExecMenuData},get onceExecData(){return this.__onceExecData==null&&(this.__onceExecData=new p.Dictionary),this.__onceExecData},get scriptName(){return Xe},get panelConfig(){return this.__panelConfig},set panelConfig(r){this.__panelConfig=r;},key:Tt,attributeKeyName:pe,attributeDefaultValueName:me},init(){this.initContentDefaultValue(),it.init();},isTopWindow(){return he.top===he.self},initContentDefaultValue(){const r=t=>{if(!t.attributes||t.type==="button"||t.type==="forms"||t.type==="deepMenu")return;let n={},s=t.attributes[pe];s!=null&&(n[s]=t.attributes[me]);let i=t.attributes[bt];if(typeof i=="function"){let c=i();if(typeof c=="boolean"&&!c)return}let o=t.attributes[Kt];o&&typeof o=="object"&&Object.assign(n,o);let l=Object.keys(n);if(!l.length){g.warn(["ËØ∑ÂÖàÈÖçÁΩÆÈîÆ",t]);return}l.forEach(c=>{let u=n[c];this.setDefaultValue(c,u);});},a=t=>{for(let n=0;n<t.length;n++){let s=t[n];r(s);let i=s.forms;i&&Array.isArray(i)&&a(i);}},e=[...$e.getAllContentConfig()];for(let t=0;t<e.length;t++){let n=e[t];if(!n.forms)continue;const s=n.forms;s&&Array.isArray(s)&&a(s);}},setDefaultValue(r,a){this.$data.configDefaultValueData.has(r)&&g.warn("ËØ∑Ê£ÄÊü•ËØ•key(Â∑≤Â≠òÂú®): "+r),this.$data.configDefaultValueData.set(r,a);},setValue(r,a){De.set(r,a);},getValue(r,a){let e=De.get(r);return e??(this.$data.configDefaultValueData.has(r)?this.$data.configDefaultValueData.get(r):a)},deleteValue(r){De.delete(r);},hasKey(r){return De.has(r)},addValueChangeListener(r,a){return De.addValueChangeListener(r,(t,n,s)=>{a(r,s,n);})},removeValueChangeListener(r){De.removeValueChangeListener(r);},triggerMenuValueChange(r,a,e){De.triggerValueChangeListener(r,e,a);},deleteExecMenuOnce(r){return this.$data.onceExecMenuData.delete(r),De.removeValueChangeListener(r)},deleteOnceExec(r){this.$data.onceExecData.delete(r);},exec(r,a,e,t=true){const n=this;let s;typeof r=="string"||Array.isArray(r)?s=()=>r:s=r;let i=false,o=s(),l=[];Array.isArray(o)?(i=true,l=o):l.push(o);let c=l.find(A=>!this.$data.configDefaultValueData.has(A));if(c){g.warn(`${c} ÈîÆ‰∏çÂ≠òÂú®`);return}let u=JSON.stringify(l);if(t){if(this.$data.onceExecMenuData.has(u))return;this.$data.onceExecMenuData.set(u,1);}let d=[],h=[],m=(A,D)=>{let x=[];D instanceof HTMLStyleElement?x=[D]:Array.isArray(D)&&(x=[...D.filter(S=>S!=null&&S instanceof HTMLStyleElement)]),d=d.concat(x);},k=A=>this.getValue(A),b=()=>{for(let A=0;A<d.length;A++)d[A].remove(),d.splice(A,1),A--;},R=()=>{let A=false;return typeof e=="function"?A=e(l):A=l.every(D=>k(D)),A},v=A=>{let D=R(),x=[];if(D){let S=l.map(M=>this.getValue(M)),_=a({addStyleElement:(...M)=>m(true,...M),value:i?S:S[0]});_ instanceof HTMLStyleElement?x.push(_):Array.isArray(_)&&x.push(..._.filter(M=>M!=null&&M instanceof HTMLStyleElement));}b(),d=[...x];};return t&&l.forEach(A=>{let D=this.addValueChangeListener(A,(x,S,_)=>{v();});h.push(D);}),v(),{clear(){this.clearStoreStyleElements(),this.removeValueChangeListener(),t&&n.$data.onceExecMenuData.delete(u);},clearStoreStyleElements:()=>b(),removeValueChangeListener:()=>{h.forEach(A=>{this.removeValueChangeListener(A);});}}},execMenu(r,a,e=false){return this.exec(r,t=>a(t),t=>t.every(s=>{let i=!!this.getValue(s);return e&&(i=!i),i}),false)},execMenuOnce(r,a){return this.exec(r,a,e=>e.every(n=>!!this.getValue(n)),true)},onceExec(r,a){if(typeof r!="string")throw new TypeError("key ÂøÖÈ°ªÊòØÂ≠óÁ¨¶‰∏≤");this.$data.onceExecData.has(r)||(a(),this.$data.onceExecData.set(r,1));},showPanel(r,a=`${Xe}-ËÆæÁΩÆ`){let e=H.panel({title:{text:`${Xe}-ËÆæÁΩÆ`,position:"center",html:false,style:""},content:r,btn:{close:{enable:true,callback:(t,n)=>{t.close(),this.$data.$panel=null;}}},mask:{enable:true,clickEvent:{toClose:true,toHide:false},clickCallBack:(t,n)=>{t(),this.$data.$panel=null;}},width:Z.setting.width,height:Z.setting.height,drag:true,only:true,...this.$data.panelConfig});this.$data.$panel=e;}};class Yt{constructor(a){G(this,"CONFIG",{data:[],pageCount:5,pageStep:3,currentPage:1,pageChangeCallBack:function(a){},prevBtn:{enable:true,callBack:function(){}},nextBtn:{enable:true,callBack:function(){}},firstBtn:{enable:true,callBack:function(){}},lastBtn:{enable:true,callBack:function(){}}});G(this,"PAGE_CONFIG",{getCurrentPage:()=>this.DOM_CONFIG.getAttributeWithPageId(this.DOM_CONFIG.getAttributeWithCurrentPage()),maxPage:1});G(this,"DOM_CONFIG",{dataPagingNode:{localName:"div",id:"whitesev-datapaging",dom:null},firstBtnNode:{localName:"a",className:"pg-first",svgHTML:'<svg t="1694497357294" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4758" width="20"><path d="M730.639277 211.376748l60.943177 60.943176-301.698894 301.698893L428.940384 513.075641z" p-id="4759"></path><path d="M730.496772 814.924547l60.943176-60.943176-301.698893-301.698893L428.797879 513.225654z" p-id="4760"></path><path d="M298.666667 213.333333h85.333333v597.333334H298.666667z" p-id="4761"></path></svg>',get:()=>this.DOM_CONFIG.dataPagingNode.dom.querySelector(`${this.DOM_CONFIG.firstBtnNode.localName}.${this.DOM_CONFIG.firstBtnNode.className}`)},prevBtnNode:{localName:"a",className:"pg-prev",svgHTML:'<svg t="1694497840770" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5272" width="20"><path d="M620.322607 151.04875l60.943176 60.943176-362.038672 362.038672L258.283935 513.087422z" p-id="5273"></path><path d="M620.180101 875.252545l60.943177-60.943176-362.038672-362.038672L258.141429 513.213873z" p-id="5274"></path></svg>',get:()=>this.DOM_CONFIG.dataPagingNode.dom.querySelector(`${this.DOM_CONFIG.prevBtnNode.localName}.${this.DOM_CONFIG.prevBtnNode.className}`)},nextBtnNode:{localName:"a",className:"pg-next",svgHTML:'<svg t="1694497949481" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5465" width="20"><path d="M403.399239 151.02258l-60.943177 60.943177 362.038672 362.038672L765.437911 513.061252z" p-id="5466"></path><path d="M403.576858 875.263008l-60.943176-60.943176 362.038672-362.038672L765.61553 513.224336z" p-id="5467"></path></svg>',get:()=>this.DOM_CONFIG.dataPagingNode.dom.querySelector(`${this.DOM_CONFIG.nextBtnNode.localName}.${this.DOM_CONFIG.nextBtnNode.className}`)},lastBtnNode:{localName:"a",className:"pg-last",svgHTML:'<svg t="1694498035538" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2299" width="20"><path d="M516.266667 490.666667L256 230.4 315.733333 170.666667l320 320L315.733333 810.666667 256 750.933333l260.266667-260.266666zM678.4 170.666667h85.333333v640h-85.333333V170.666667z" p-id="2300"></path></svg>',get:()=>this.DOM_CONFIG.dataPagingNode.dom.querySelector(`${this.DOM_CONFIG.lastBtnNode.localName}.${this.DOM_CONFIG.lastBtnNode.className}`)},setAttributeWithPageId:(a,e)=>{a.setAttribute("page-id",e);},getAttributeWithPageId:a=>a!=null&&a.getAttribute("page-id")?parseInt(a.getAttribute("page-id")):null,hasAttributeWithPageId:a=>a.hasAttribute("page-id"),setAttributeWithCurrentPage:a=>{a.setAttribute("data-current-page","");},getAttributeWithCurrentPage:a=>(a||this.DOM_CONFIG.dataPagingNode.dom).querySelector("a[data-current-page]"),hasAttributeWithCurrentPage:a=>a.hasAttribute("data-current-page"),removeAttributeWithCurrentPage:a=>{a.removeAttribute("data-current-page");},setAttributeWithDisabled:a=>{a.setAttribute("disabled","true");},removeAllAttributeWithDisabled:a=>{(a||this.DOM_CONFIG.dataPagingNode.dom).querySelectorAll("a[class][disabled]").forEach(e=>{e.removeAttribute("disabled");});},getFirstPageNode:a=>(a||this.DOM_CONFIG.dataPagingNode.dom).querySelector("a[page-id='1']"),getLastPageNode:a=>(a||this.DOM_CONFIG.dataPagingNode.dom).querySelector(`a[page-id='${this.PAGE_CONFIG.maxPage}']`),getAllPageNode:a=>(a||this.DOM_CONFIG.dataPagingNode.dom).querySelectorAll("a[page-id]")});this.changeConfig(a);}addCSS(a=document.head){let e=document.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=`@charset "utf-8";
		#${this.DOM_CONFIG.dataPagingNode.id} {
			text-align: center;
			display: inline-block;
		}
		#${this.DOM_CONFIG.dataPagingNode.id} .${this.DOM_CONFIG.firstBtnNode.className},
		#${this.DOM_CONFIG.dataPagingNode.id} .${this.DOM_CONFIG.prevBtnNode.className},
		#${this.DOM_CONFIG.dataPagingNode.id} .${this.DOM_CONFIG.nextBtnNode.className},
		#${this.DOM_CONFIG.dataPagingNode.id} .${this.DOM_CONFIG.lastBtnNode.className} {
			font-family: Arial, sans-serif;
			color: #333;
			font-size: 22px;
			fill: currentColor;
			display: inline-flex;
			justify-content: center;
			align-items: center;
			text-decoration: none;
		}
		#${this.DOM_CONFIG.dataPagingNode.id} a,
		#${this.DOM_CONFIG.dataPagingNode.id} span {
			width: 45px;
			height: 40px;
			border: 1px solid #ebebeb;
			margin-left: -1px;
			color: #000000;
			line-height: 40px;
			float: left;
			font-size: 15px;
			text-decoration: none;
			margin: 0 2px;
			border-radius: 6px;
		}
		#${this.DOM_CONFIG.dataPagingNode.id} a:hover,
		#${this.DOM_CONFIG.dataPagingNode.id} span:hover {
			border-color: #3897cd;
			color: #3897cd;
			position: relative;
			z-index: 1;
		}
		#${this.DOM_CONFIG.dataPagingNode.id} a {
			cursor: pointer;
			user-select: none;
		}
		#${this.DOM_CONFIG.dataPagingNode.id} a[data-current-page] {
			background-color: #222a35;
			color: #fff;
			border-color: #ebebeb;
			position: relative;
			z-index: 1;
		}
		#${this.DOM_CONFIG.dataPagingNode.id} a.${this.DOM_CONFIG.firstBtnNode.className}[disabled="true"],
		#${this.DOM_CONFIG.dataPagingNode.id} a.${this.DOM_CONFIG.prevBtnNode.className}[disabled="true"],
		#${this.DOM_CONFIG.dataPagingNode.id} a.${this.DOM_CONFIG.nextBtnNode.className}[disabled="true"],
		#${this.DOM_CONFIG.dataPagingNode.id} a.${this.DOM_CONFIG.lastBtnNode.className}[disabled="true"]{
			cursor: not-allowed;
			border: 1px solid transparent;
			color: #c9c9c9;
		}
		`,a.appendChild(e);}getDataPagingNode(){let a=this,e=document.createElement(a.DOM_CONFIG.dataPagingNode.localName);a.DOM_CONFIG.dataPagingNode.dom=e,e.id=a.DOM_CONFIG.dataPagingNode.id;let t=document.createElement(a.DOM_CONFIG.firstBtnNode.localName);t.innerHTML=a.DOM_CONFIG.firstBtnNode.svgHTML;let n=document.createElement(a.DOM_CONFIG.prevBtnNode.localName);n.innerHTML=a.DOM_CONFIG.prevBtnNode.svgHTML;let s=document.createElement(a.DOM_CONFIG.nextBtnNode.localName);s.innerHTML=a.DOM_CONFIG.nextBtnNode.svgHTML;let i=document.createElement(a.DOM_CONFIG.lastBtnNode.localName);if(i.innerHTML=a.DOM_CONFIG.lastBtnNode.svgHTML,t.className=a.DOM_CONFIG.firstBtnNode.className,n.className=a.DOM_CONFIG.prevBtnNode.className,s.className=a.DOM_CONFIG.nextBtnNode.className,i.className=a.DOM_CONFIG.lastBtnNode.className,a.PAGE_CONFIG.maxPage=Math.ceil(a.CONFIG.data.length/a.CONFIG.pageCount),a.CONFIG.currentPage<1?a.CONFIG.currentPage=1:a.CONFIG.currentPage>a.PAGE_CONFIG.maxPage&&(a.CONFIG.currentPage=a.PAGE_CONFIG.maxPage),a.PAGE_CONFIG.maxPage<2)return e;a.CONFIG.firstBtn.enable&&(this.setFirstBtnClickEvent(t,e),e.appendChild(t)),a.CONFIG.prevBtn.enable&&(this.setPrevBtnClickEvent(n,e),e.appendChild(n));let o=a.CONFIG.currentPage;if(a.CONFIG.pageStep>a.PAGE_CONFIG.maxPage)for(let l=o;l<=a.PAGE_CONFIG.maxPage;l++){let c=document.createElement("a");a.DOM_CONFIG.setAttributeWithPageId(c,l),c.innerText=l,a.CONFIG.currentPage===l&&a.DOM_CONFIG.setAttributeWithCurrentPage(c),this.setPageBtnClickEvent(c,e),e.appendChild(c);}else if(o+a.CONFIG.pageStep>a.PAGE_CONFIG.maxPage){o=a.PAGE_CONFIG.maxPage;let l=[];for(let c=0;c<a.CONFIG.pageStep;c++){let u=document.createElement("a");a.DOM_CONFIG.setAttributeWithPageId(u,o),u.innerText=o,a.CONFIG.currentPage===o&&a.DOM_CONFIG.setAttributeWithCurrentPage(u),this.setPageBtnClickEvent(u,e),l=[...l,u],o--;}l.reverse(),l.forEach(c=>{e.appendChild(c);});}else for(let l=0;l<a.CONFIG.pageStep;l++){let c=document.createElement("a");a.DOM_CONFIG.setAttributeWithPageId(c,o),c.innerText=o,a.CONFIG.currentPage===o&&a.DOM_CONFIG.setAttributeWithCurrentPage(c),this.setPageBtnClickEvent(c,e),e.appendChild(c),o++;}return a.CONFIG.nextBtn.enable&&(this.setNextBtnClickEvent(s,e),e.appendChild(s)),a.CONFIG.lastBtn.enable&&(this.setLastBtnClickEvent(i,e),e.appendChild(i)),a.CONFIG.currentPage===1?(a.DOM_CONFIG.setAttributeWithDisabled(a.DOM_CONFIG.firstBtnNode.get()),a.DOM_CONFIG.setAttributeWithDisabled(a.DOM_CONFIG.prevBtnNode.get())):a.CONFIG.currentPage===a.PAGE_CONFIG.maxPage&&(a.DOM_CONFIG.setAttributeWithDisabled(a.DOM_CONFIG.nextBtnNode.get()),a.DOM_CONFIG.setAttributeWithDisabled(a.DOM_CONFIG.lastBtnNode.get())),e}setFirstBtnClickEvent(a,e){let t=this;a.onclick=function(){let n=t.DOM_CONFIG.getAttributeWithCurrentPage();if(t.DOM_CONFIG.getAttributeWithPageId(n)===1)return;t.CONFIG.firstBtn.callBack();let s=t.DOM_CONFIG.getAllPageNode(e);for(let i=0;i<t.CONFIG.pageStep;i++){let o=s[i];i===0?t.DOM_CONFIG.setAttributeWithCurrentPage(o):t.DOM_CONFIG.removeAttributeWithCurrentPage(o),t.DOM_CONFIG.setAttributeWithPageId(o,i+1),o.innerText=i+1;}t.DOM_CONFIG.removeAllAttributeWithDisabled(e),t.DOM_CONFIG.getFirstPageNode(e)&&(t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.firstBtnNode.get()),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.prevBtnNode.get())),t.CONFIG.pageChangeCallBack(1);};}setPrevBtnClickEvent(a,e){let t=this;a.onclick=function(){let n=t.DOM_CONFIG.getAttributeWithCurrentPage();t.DOM_CONFIG.getAttributeWithPageId(n)!==1&&(t.CONFIG.prevBtn.callBack(),t.DOM_CONFIG.hasAttributeWithPageId(n.previousElementSibling)?n.previousElementSibling.click():(t.DOM_CONFIG.getAllPageNode(e).forEach((i,o)=>{let l=t.DOM_CONFIG.getAttributeWithPageId(i);l--,t.DOM_CONFIG.setAttributeWithPageId(i,l),i.innerText=l;}),t.CONFIG.pageChangeCallBack(t.PAGE_CONFIG.getCurrentPage())),t.DOM_CONFIG.removeAllAttributeWithDisabled(e),t.DOM_CONFIG.getFirstPageNode(e)&&t.PAGE_CONFIG.getCurrentPage()==1&&(t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.firstBtnNode.get()),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.prevBtnNode.get())));};}setNextBtnClickEvent(a,e){let t=this;a.onclick=function(){let n=t.DOM_CONFIG.getAttributeWithCurrentPage();t.DOM_CONFIG.getAttributeWithPageId(n)!==t.PAGE_CONFIG.maxPage&&(t.CONFIG.nextBtn.callBack(),t.DOM_CONFIG.hasAttributeWithPageId(n.nextElementSibling)?n.nextElementSibling.click():(t.DOM_CONFIG.getAllPageNode(e).forEach((i,o)=>{let l=t.DOM_CONFIG.getAttributeWithPageId(i);l++,!(l>t.PAGE_CONFIG.maxPage)&&(t.DOM_CONFIG.setAttributeWithPageId(i,l),i.innerText=l);}),t.CONFIG.pageChangeCallBack(t.PAGE_CONFIG.getCurrentPage())),t.DOM_CONFIG.removeAllAttributeWithDisabled(e),t.DOM_CONFIG.getLastPageNode()&&t.PAGE_CONFIG.getCurrentPage()==t.PAGE_CONFIG.maxPage&&(t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.nextBtnNode.get()),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.lastBtnNode.get())));};}setLastBtnClickEvent(a,e){let t=this;a.onclick=function(){let n=t.DOM_CONFIG.getAttributeWithCurrentPage();if(t.DOM_CONFIG.getAttributeWithPageId(n)===t.PAGE_CONFIG.maxPage)return;t.CONFIG.lastBtn.callBack();let s=Array.from(t.DOM_CONFIG.getAllPageNode(e));s.reverse();let i=t.PAGE_CONFIG.maxPage,o=0;for(;!(t.PAGE_CONFIG.maxPage-i>3);){let l=s[o];if(l==null)break;o===0?t.DOM_CONFIG.setAttributeWithCurrentPage(l):t.DOM_CONFIG.removeAttributeWithCurrentPage(l),t.DOM_CONFIG.setAttributeWithPageId(l,i),l.innerText=i,i--,o++;}t.DOM_CONFIG.removeAllAttributeWithDisabled(e),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.nextBtnNode.get()),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.lastBtnNode.get()),t.CONFIG.pageChangeCallBack(t.PAGE_CONFIG.maxPage);};}setPageBtnClickEvent(a,e){let t=this;a.onclick=function(n){let s=n.target;t.DOM_CONFIG.getAllPageNode(e).forEach(i=>{i==s?t.DOM_CONFIG.hasAttributeWithCurrentPage(s)||(t.DOM_CONFIG.setAttributeWithCurrentPage(s),t.CONFIG.pageChangeCallBack(t.PAGE_CONFIG.getCurrentPage())):t.DOM_CONFIG.removeAttributeWithCurrentPage(i);}),t.DOM_CONFIG.removeAllAttributeWithDisabled(e),t.DOM_CONFIG.getFirstPageNode(e)&&t.PAGE_CONFIG.getCurrentPage()==1&&(t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.firstBtnNode.get()),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.prevBtnNode.get())),t.DOM_CONFIG.getLastPageNode()&&t.PAGE_CONFIG.getCurrentPage()==t.PAGE_CONFIG.maxPage&&(t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.nextBtnNode.get()),t.DOM_CONFIG.setAttributeWithDisabled(t.DOM_CONFIG.lastBtnNode.get()));};}append(a){var t;let e=this;(t=e.DOM_CONFIG.dataPagingNode.dom)==null||t.remove(),e.DOM_CONFIG.dataPagingNode.dom=null,a.appendChild(e.getDataPagingNode());}changeConfig(a){Object.assign(this.CONFIG,a);}refresh(a){if(a.length===this.CONFIG.data.length)return;this.CONFIG.data=[],this.CONFIG.data=a;let e=this.PAGE_CONFIG.getCurrentPage(),t=Math.ceil(a.length/this.CONFIG.pageCount);e>t&&(e=t),this.CONFIG.currentPage=e;let n=this.DOM_CONFIG.dataPagingNode.dom.parentElement;this.append(n);}}var Jt=Yt;const ve=Xe||"ÁΩëÁõòÈìæÊé•ËØÜÂà´",Xt=Jt??window.DataPaging??he.DataPaging,Ue=zt??window.CryptoJS??he.CryptoJS,ze={$data:{__storeApiFn:null,get storeApiValue(){return this.__storeApiFn||(this.__storeApiFn=new Ce.Dictionary),this.__storeApiFn}},getStorageApi(r){if(this.hasStorageApi(r))return this.$data.storeApiValue.get(r)},hasStorageApi(r){return this.$data.storeApiValue.has(r)},setStorageApi(r,a){this.$data.storeApiValue.set(r,a);},initComponentsStorageApi(r,a,e){let t;this.hasStorageApi(r)?t=this.getStorageApi(r):t=e,this.setComponentsStorageApiProperty(a,t);},setComponentsStorageApiProperty(r,a){Reflect.set(r.props,U,a);}},j=function(r,a,e,t,n,s){let i={text:r,type:"switch",description:n,attributes:{},props:{},getValue(){return !!this.props[U].get(a,e)},callback(o,l){let c=!!l;if(g.success(`${c?"ÂºÄÂêØ":"ÂÖ≥Èó≠"} ${r}`),typeof t=="function"&&t(o,c))return;this.props[U].set(a,c);},afterAddToUListCallBack:s};return Reflect.set(i.attributes,pe,a),Reflect.set(i.attributes,me,e),ze.initComponentsStorageApi("switch",i,{get(o,l){return ne.getValue(o,l)},set(o,l){ne.setValue(o,l);}}),i},Q=function(r,a,e,t,n,s="",i,o,l){let c={text:r,type:"input",isNumber:!!i,isPassword:!!o,attributes:{},props:{},description:t,afterAddToUListCallBack:l,getValue(){return this.props[U].get(a,e)},callback(u,d){if(typeof n=="function"&&n(u,d))return;this.props[U].set(a,d);},placeholder:s};return Reflect.set(c.attributes,pe,a),Reflect.set(c.attributes,me,e),ze.initComponentsStorageApi("input",c,{get(u,d){return ne.getValue(u,d)},set(u,d){ne.setValue(u,d);}}),c},tt=function(r,a,e,t,n,s,i,o,l,c){let u={text:r,type:"button",attributes:{},props:{},description:a,buttonIcon:t,buttonIsRightIcon:n,buttonIconIsLoading:s,buttonType:i,buttonText:e,callback(d){typeof o=="function"&&o(d);},afterAddToUListCallBack:l};return Reflect.set(u.attributes,bt,()=>{u.disable=false;}),u},Qt={tianYiYunLoginTip:{PC:{width:"30vw",height:"280px"},Mobile:{width:"80vw",height:"250px"}},jianGuoYunLoginTip:{PC:{width:"350px",height:"200px"},Mobile:{width:"350px",height:"200px"}},settingView:{PC:{width:"800px",height:"600px"},Mobile:{width:"92vw",height:"80vh"}},setDefaultValueView:{PC:{width:"350px",height:"200px"},Mobile:{width:"350px",height:"200px"}},mainView:{PC:{width:"500px",height:"100%"},Mobile:{width:"88vw",height:"50vh"}},mainViewSmallWindow:{PC:{get width(){return y.smallWindow["netdisk-ui-small-window-width"].value+"px"},height:"auto"},Mobile:{get width(){return y.smallWindow["netdisk-ui-small-window-width"].value+"px"},height:"auto"}},oneFileStaticView:{PC:{width:"550px",height:"350px"},Mobile:{width:"88vw",height:"300px"}},moreFileStaticView:{PC:{width:"700px",height:"600px"},Mobile:{width:"88vw",height:"500px"}},inputNewAccessCodeView:{PC:{width:"400px",height:"200px"},Mobile:{width:"88vw",height:"160px"}},historyMatchView:{PC:{width:"50vw",height:"65vh"},Mobile:{width:"88vw",height:"60vh"}},customRulesView:{PC:{width:"50vw",height:"65vh"},Mobile:{width:"88vw",height:"60vh"}},customRuleDebugView:{PC:{width:"55vw",height:"70vh"},Mobile:{width:"88vw",height:"70vh"}},matchPasteTextView:{PC:{width:"50vw",height:"65vh"},Mobile:{width:"88vw",height:"60vh"}},accessCodeRuleView:{PC:{width:"50vw",height:"65vh"},Mobile:{width:"88vw",height:"60vh"}},accessCodeRuleEditView:{PC:{width:"44vw",height:"50vh"},Mobile:{width:"70vw",height:"45vh"}},websiteRuleView:{PC:{width:"45vw",height:"65vh"},Mobile:{width:"88vw",height:"60vh"}},websiteEditRuleView:{PC:{width:"45vw",height:"65vh"},Mobile:{width:"88vw",height:"60vh"}}},ea=function(r){window.location.hostname==="pan.baidu.com"&&window.location.pathname==="/share/init"&&window.location.search.startsWith("?surl=")&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("div.verify-form #accessCode").then(a=>{var e;if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),(e=document.querySelector("div.verify-form #submitBtn"))==null||e.click();})),window.location.hostname==="pan.baidu.com"&&window.location.pathname==="/wap/init"&&window.location.search.startsWith("?surl=")&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("div.extractWrap div.extract-content div.extractInputWrap.extract input[type=text]").then(a=>{var e;if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),(e=document.querySelector("div.extractWrap div.extract-content button.m-button"))==null||e.click();}));},ta=function(r){window.location.hostname.match(/lanzou[a-z]{1}.com/gi)&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("#pwd").then(a=>{var e,t;if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),(e=document.querySelector("#passwddiv div.passwddiv-input > div")||a.nextElementSibling)==null||e.click(),(t=document.querySelector("#sub"))==null||t.click();}),p.waitNode("#f_pwd").then(a=>{p.mutationObserver(a,{config:{attributes:true,attributeFilter:["style"]},callback:(e,t)=>{var s;let n=document.querySelector("#f_pwd #pwd");if(!p.isVisible(n)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}t.disconnect(),g.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†ÅÂπ∂ÂÖ≥Èó≠ËßÇÂØüËÄÖ"),f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),n.value=r.accessCode,p.dispatchEvent(n,"input"),(s=document.querySelector("#f_pwd #sub"))==null||s.click();}});}));},aa=function(r){function a(e,t){let n=0,s=30,i=setInterval(()=>{if(n++,n>s){g.error("ÁªìÊùüÂæ™ÁéØÊ£ÄÊü•ÔºåÈÄÄÂá∫„ÄÇ"),clearInterval(i);return}if(!p.isVisible(e)){g.warn(`Á¨¨ ${n} Ê¨°ÔºöËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å`);return}t(),clearInterval(i);},500);}window.location.hostname==="cloud.189.cn"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("input#code_txt").then(e=>{a(e,()=>{f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å");let t=document.querySelector(".btn.btn-primary.visit");e.value=r.accessCode,e._value=r.accessCode,p.dispatchEvent(e,"input"),p.dispatchEvent(t,"click");});})),window.location.hostname==="h5.cloud.189.cn"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("input.access-code-input").then(e=>{a(e,()=>{f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),e.value=r.accessCode,e._value=r.accessCode,p.dispatchEvent(e,"input"),p.dispatchEvent(document.querySelector("div.button"),"click");});}));},ra=function(r){window.location.hostname==="caiyun.139.com"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("#token-input").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),document.querySelector("#homepage div.token div.token-form a").click();}),p.waitNode("#app div.token-form input[type=text]").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),document.querySelector("div.token-form a.btn-token").click();}));},wt={async waitReactPropsToSet(r,a,e){Array.isArray(a)||(a=[a]),Array.isArray(e)||(e=[e]);function t(){let n=null;return typeof r=="string"?n=w.selector(r):typeof r=="function"?n=r():r instanceof HTMLElement&&(n=r),n}typeof r=="string"&&!await p.waitNode(r,1e4)||e.forEach(n=>{typeof n.msg=="string"&&g.info(n.msg);function s(){let i=t();if(i==null)return {status:false,isTimeout:true,inst:null,$el:i};let o=p.getReactObj(i);if(o==null)return {status:false,isTimeout:false,inst:null,$el:i};let l=Array.from(a).findIndex(d=>{let h=o[d];if(!h)return  false;let m=n.check(h,i);return m=!!m,m}),c=a[l],u=o[c];return {status:l!==-1,isTimeout:false,inst:u,$el:i}}p.waitPropertyByInterval(()=>t(),()=>s().status,250,1e4).then(()=>{let i=s();if(i.status){let o=i.inst;n.set(o,i.$el);}else typeof n.failWait=="function"&&n.failWait(i.isTimeout);});});}},na=function(r){(window.location.hostname==="www.aliyundrive.com"||window.location.hostname==="www.alipan.com")&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),w.ready(()=>{p.waitAnyNode(["#root input.ant-input[placeholder*='ÊèêÂèñÁ†Å']","#root input[name=pwd][placeholder*='ÊèêÂèñÁ†Å']"]).then(a=>{wt.waitReactPropsToSet(a,["reactProps","reactFiber"],{check(e){var t;return typeof(e==null?void 0:e.onChange)=="function"||typeof((t=e==null?void 0:e.memoizedProps)==null?void 0:t.onChange)=="function"},set(e){var s;if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}a.value=r.accessCode,((e==null?void 0:e.onChange)||((s=e==null?void 0:e.memoizedProps)==null?void 0:s.onChange))({currentTarget:a,target:a}),f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å");let n=et('#root button[type="submit"]');if(!n){f.error("Êèê‰∫§ÊåâÈíÆ‰∏çÂ≠òÂú®");return}n.click();}});});}));},ia=function(r){window.location.hostname==="www.123pan.com"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),w.ready(()=>{p.waitAnyNode(["#app .ca-fot input.ant-input[type=text][placeholder*='ÊèêÂèñÁ†Å']","#app .appinput input.ant-input[type=text][placeholder*='ÊèêÂèñÁ†Å']"]).then(a=>{wt.waitReactPropsToSet(a,["reactProps","reactFiber"],{check(e){var t;return typeof(e==null?void 0:e.onChange)=="function"||typeof((t=e==null?void 0:e.memoizedProps)==null?void 0:t.onChange)=="function"},set(e){var s;if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}a.value=r.accessCode,((e==null?void 0:e.onChange)||((s=e==null?void 0:e.memoizedProps)==null?void 0:s.onChange))({currentTarget:a,target:a}),f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å");let n=a.nextElementSibling;if(!n){f.error("Êèê‰∫§ÊåâÈíÆ‰∏çÂ≠òÂú®");return}n.click();}});});}));},sa=function(r){window.location.hostname==="share.weiyun.com"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("#app input.input-txt").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),p.dispatchEvent(a,"change"),setTimeout(()=>{document.querySelector(".form-item button.btn-main").click();},500);}),p.waitNode(".input-wrap input.pw-input").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),p.dispatchEvent(a,"change"),setTimeout(()=>{document.querySelector(".pw-btn-wrap button.btn").click();},500);}));},la=function(r){window.location.hostname==="pan.xunlei.com"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("#__layout div.pass-input-wrap input.td-input__inner").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),p.dispatchEvent(a,"change"),setTimeout(()=>{document.querySelector("#__layout div.pass-input-wrap button.td-button").click();},500);}),p.waitNode("#__layout div.pass-wrapper input.td-input__inner").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),p.dispatchEvent(a,"change"),setTimeout(()=>{document.querySelector("#__layout div.pass-wrapper button.td-button").click();},500);}));},oa=function(r){window.location.hostname==="pan.quark.cn"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),w.ready(()=>{p.waitNode("#ice-container input.ant-input[class*=ShareReceive][placeholder*='ÊèêÂèñÁ†Å']").then(a=>{wt.waitReactPropsToSet(a,["reactProps","reactEventHandlers"],{check(e){var t;return typeof(e==null?void 0:e.onChange)=="function"||typeof((t=e==null?void 0:e.memoizedProps)==null?void 0:t.onChange)=="function"},set(e){var n;if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}a.value=r.accessCode,((e==null?void 0:e.onChange)||((n=e==null?void 0:e.memoizedProps)==null?void 0:n.onChange))({currentTarget:a,target:a}),f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å");}});});}));},ca=function(r){g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("#passcode").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),document.querySelector("#main-content .form-group button.btn[type=button]").click();});},ua=function(r){window.location.hostname==="115.com"&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("input.text").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input"),document.querySelector("#js-share_code div.form-decode div.submit a").click();}));},da=function(r){window.location.hostname.endsWith(".link.yunpan.com")&&(g.success("Ëá™Âä®Â°´ÂÜôÈìæÊé•",r),p.waitNode("#extract-bg-container input.pwd-input").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input");let e=et("#extract-bg-container input.submit-btn");e==null||e.click();}),p.waitNode("#extractForm input.pwd-input").then(a=>{if(!p.isVisible(a)){g.error("ËæìÂÖ•Ê°Ü‰∏çÂèØËßÅÔºå‰∏çËæìÂÖ•ÂØÜÁ†Å");return}f.success("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å"),a.value=r.accessCode,p.dispatchEvent(a,"input");let e=et("#extractForm input.submit-btn");e==null||e.click();}));},B={matchRange_text:{before:r=>`${r}-text-match-range-before`,after:r=>`${r}-text-match-range-after`},matchRange_html:{before:r=>`${r}-html-match-range-before`,after:r=>`${r}-html-match-range-after`},function:{enable:r=>`${r}-enable`,checkLinkValidity:r=>`${r}-check-link-valid`,checkLinkValidityHoverTip:r=>`${r}-check-link-valid-hover-tip`,linkClickMode:r=>`${r}-click-mode`},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:r=>`${r}-open-blank-auto-fill-accesscode`,openBlankWithCopyAccessCode:r=>`${r}-open-blank-with-copy-accesscode`},schemeUri:{enable:r=>`${r}-scheme-uri-enable`,isForwardLinearChain:r=>`${r}-scheme-uri-forward-linear-chain`,isForwardBlankLink:r=>`${r}-scheme-uri-forward-blank-link`,uri:r=>`${r}-scheme-uri-uri`}},Ve={features:{customAccessCodeEnable:r=>`${r}-custom-accesscode-enable`,customAccessCode:r=>`${r}-custom-accesscode`}},ee={matchRange_text:{before(r,a=20){const e=F(B.matchRange_text.before(r),a);return parseInt(e.value.toString())},after(r,a=10){const e=F(B.matchRange_text.after(r),a);return parseInt(e.value.toString())}},matchRange_html:{before(r,a=100){const e=F(B.matchRange_html.before(r),a);return parseInt(e.value.toString())},after(r,a=15){const e=F(B.matchRange_html.after(r),a);return parseInt(e.value.toString())}},function:{enable(r,a=true){return !!F(B.function.enable(r),a).value},linkClickMode(r,a="copy"){return F(B.function.linkClickMode(r),a).value},checkLinkValidity(r,a=false){return !!F(B.function.checkLinkValidity(r),a).value},checkLinlValidityHoverTip(r,a=true){return !!F(B.function.checkLinkValidityHoverTip(r),a).value}},linkClickMode_openBlank:{openBlankAutoFilleAccessCode(r,a=true){return !!F(B.linkClickMode_openBlank.openBlankAutoFilleAccessCode(r),a).value},openBlankWithCopyAccessCode(r,a=false){return !!F(B.linkClickMode_openBlank.openBlankWithCopyAccessCode(r),a).value}},schemeUri:{enable(r,a=false){return !!F(B.schemeUri.enable(r),a).value},isForwardLinearChain(r,a=false){return !!F(B.schemeUri.isForwardLinearChain(r),a).value},isForwardBlankLink(r,a=false){return !!F(B.schemeUri.isForwardBlankLink(r),a).value},uri(r,a=""){return F(B.schemeUri.uri(r),a).value}}},je={key:"tempNetDiskInfo",$data:{netDiskInfo:null,get enable(){return y.features.autoFillAccessCode.value}},init(){if(!this.$data.enable)return;this.$data.netDiskInfo=this.getValue();let r=false;for(let a=0;a<this.$data.netDiskInfo.length;a++){const e=this.$data.netDiskInfo[a];if(!ee.linkClickMode_openBlank.openBlankAutoFilleAccessCode(e.ruleKeyName))continue;let n=e.accessCode;if(n==null||typeof n=="string"&&n.trim()==="")continue;let s=e.shareCode;if(e.ruleKeyName==="baidu"&&s.startsWith("1")&&(s=s.slice(1,s.length)),window.location.href.includes(s)){let o=je.netDisk[e.ruleKeyName];typeof o=="function"?(g.success("ÊàêÂäüÂåπÈÖçÂà∞ÂØπÂ∫îÁöÑËá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†ÅÁöÑÁΩëÁõò‰ø°ÊÅØÔºö",e),o(e)):g.warn("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†ÅÂ§±Ë¥•Ôºö"+e.ruleKeyName+"ÔºåÂéüÂõ†ÔºöËØ•ÁΩëÁõòÊú™ÈÄÇÈÖç"),r=true;break}}r||g.error("Êú™Ëß¶ÂèëËá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†ÅÔºåÂéüÂõ†ÔºöÊú™ÊâæÂà∞ÂØπÂ∫îÁöÑÁΩëÁõò‰ø°ÊÅØÔºöüëá",this.$data.netDiskInfo);},netDisk:{baidu:ea,lanzou:ta,tianyiyun:aa,hecaiyun:ra,aliyun:na,wenshushu:()=>{},nainiu:()=>{},_123pan:ia,weiyun:sa,xunlei:la,_115pan:ua,chengtong:ca,kuake:oa,jianguoyun:()=>{},onedrive:()=>{},"360yunpan":da},setValue(r){fe(this.key,r);},addValue(r){let a=r.accessCode;if(a==null||typeof a=="string"&&a.trim()==="")return;let e=this.getValue();e=e.filter(t=>!(t.ruleKeyName===r.ruleKeyName&&t.shareCode===r.shareCode)),e.push(r),this.setValue(e);},getValue(){let r=le(this.key,[]);return Array.isArray(r)||(r=[r]),r=r.filter(a=>Date.now()-a.time<24*60*60*1e3),this.setValue(r),r}},pa=function(){},Ke="(123pan|123865|123684|123652|123912).(com|cn)",Mt={rule:[{link_innerText:`${Ke}/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)`,link_innerHTML:`${Ke}/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)`,shareCode:new RegExp(`${Ke}/s/([a-zA-Z0-9_-]{8,14})`,"gi"),shareCodeNeedRemoveStr:new RegExp(`${Ke}/s/`,"gi"),checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"123pan.com/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://123pan.com/s/{#shareCode#}",copyUrl:`https://123pan.com/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"123Áõò",key:"_123pan",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:true,isForwardBlankLink:true,uri:""}}}},It={KEY:"_123pan_User_Authorization",set(r){fe(this.KEY,r);},get(){return le(this.KEY)}},ha=function(){if(window.location.hostname!=="www.123pan.com"||ee.function.linkClickMode(Mt.setting.key)!=="parseFile")return;let r=he.localStorage.getItem("authorToken");p.isNull(r)||(r=r.replace(/^\"/,"").replace(/\"$/,""),g.success("Ëé∑Âèñ123ÁΩëÁõòÂ∑≤ÁôªÂΩïÁî®Êà∑ÁöÑauthorTokenÂÄºüëá"),g.success(r),It.set(r));},kt={init(){Object.keys(kt.netDisk).forEach(r=>{this.netDisk[r]();});},netDisk:{_123pan:ha,lanzouyx:pa}},se={getDefaultLinkClickMode(){return {copy:{default:false,enable:true,text:"Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø"},"copy-closePopup":{default:false,enable:true,text:"Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø & ÂÖ≥Èó≠ÂºπÁ™ó"},openBlank:{default:false,enable:true,text:"Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ"},"openBlank-closePopup":{default:false,enable:true,text:"Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ & ÂÖ≥Èó≠ÂºπÁ™ó"},parseFile:{default:false,enable:false,text:"Êñá‰ª∂Ëß£Êûê"},"parseFile-closePopup":{default:false,enable:false,text:"Êñá‰ª∂Ëß£Êûê & ÂÖ≥Èó≠ÂºπÁ™ó"},own:{default:false,enable:false,text:"Ëá™ÂÆö‰πâÂä®‰Ωú"}}},replaceParam(r,a={}){return typeof r!="string"||Object.keys(a).forEach(e=>{let t=a[e];if(p.isNotNull(t)){try{r=r.replaceAll(`{#encodeURI-${e}#}`,encodeURI(t));}catch{g.error("encodeURI-ÊõøÊç¢ÁöÑÊñáÊú¨Â§±Ë¥•",[t]);}try{r=r.replaceAll(`{#encodeURIComponent-${e}#}`,encodeURIComponent(t));}catch{g.error("encodeURIComponent-ÊõøÊç¢ÁöÑÊñáÊú¨Â§±Ë¥•",[t]);}try{r=r.replaceAll(`{#decodeURI-${e}#}`,decodeURI(t));}catch{g.error("decodeURI-ÊõøÊç¢ÁöÑÊñáÊú¨Â§±Ë¥•",[t]);}try{r=r.replaceAll(`{#decodeURIComponent-${e}#}`,decodeURIComponent(t));}catch{g.error("encodeURIComponent-ÊõøÊç¢ÁöÑÊñáÊú¨Â§±Ë¥•",[t]);}r=r.replaceAll(`{#${e}#}`,t);}}),r},replaceChinese(r){return r.replace(/[\u4e00-\u9fa5]/g,"")},getDecodeComponentUrl(r=window.location.href){try{r=decodeURIComponent(r);}catch{}return r}},K={protocol:"jumpwsv",pathname:"go",parseDataToSchemeUri(r,a){if(!this.isEnableForward(r))return a;let t=ee.schemeUri.uri(r);return p.isNull(t)&&(t=this.getSchemeUri(this.get1DMSchemeUriOption(a))),t.startsWith(this.protocol)&&(a=a.replace(/&/g,"{-and-}"),a=a.replace(/#/g,"{-number-}")),t=se.replaceParam(t,{intentData:a}),t},isEnableForward(r){return ee.schemeUri.enable(r)},isForwardDownloadLink(r){return this.isEnableForward(r)&&ee.schemeUri.isForwardLinearChain(r)},isForwardBlankLink(r){return this.isEnableForward(r)&&ee.schemeUri.isForwardBlankLink(r)},getSchemeUri(r){return `${this.protocol}://${this.pathname}?${p.toSearchParamsStr(r)}`},get1DMSchemeUriOption(r=""){return {package:"idm.internet.download.manager.plus",activity:"idm.internet.download.manager.UrlHandlerDownloader",intentAction:"android.intent.action.VIEW",intentData:r,intentExtra:""}}};class be{constructor(){G(this,"ruleIndex",0);G(this,"shareCode","");G(this,"accessCode","");}}class fa extends be{constructor(){super(...arguments);G(this,"panelList",[]);G(this,"Authorization","");G(this,"code",{5113:"ÊÇ®‰ªäÊó•‰∏ãËΩΩÊµÅÈáèÂ∑≤Ë∂ÖÂá∫10GBÈôêÂà∂ÔºåË¥≠‰π∞VIP‰ºöÂëòÂç≥ÂèØ‰ΩìÈ™åÊó†ÈôêÊµÅÈáè‰∏ãËΩΩ",5103:"ÂàÜ‰∫´Á†ÅÈîôËØØÊàñËÄÖÂàÜ‰∫´Âú∞ÂùÄÈîôËØØ",5104:"ÂàÜ‰∫´Â∑≤ËøáÊúü","-1000":"Ëé∑ÂèñÂá∫Èîô","-2000":"ËØ∑Ê±ÇÂºÇÂ∏∏","-3000":"ËØ∑Ê±ÇÊÑèÂ§ñ‰∏≠Ê≠¢","-4000":"ËØ∑Ê±ÇË∂ÖÊó∂",104:"Êñá‰ª∂Â∑≤Â§±Êïà"});G(this,"Headers",{"user-agent":"123pan/v2.4.0(Android_7.1.2;Xiaomi)",platform:"android","app-version":"61","x-app-version":"2.4.0"});}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;const i=this;if(i.panelList=[],i.Authorization=It.get(),!await i.checkLinkValidity())return;let l=await i.getFiles();if(l)if(l.length===1&&l[0].Type==0){let c=l[0];if(c.Status==104){f.error("Êñá‰ª∂Â∑≤Â§±Êïà");return}let u=c.DownloadUrl,d="";if(u===""){let k=await i.getFileDownloadInfo(c.Etag,c.FileId,c.S3KeyFlag,i.shareCode,c.Size);k&&k.code===0?(u=k.data.DownloadURL,K.isForwardDownloadLink("_123pan")&&(u=K.parseDataToSchemeUri("_123pan",u)),d=p.formatByteToSize(c.Size)):k&&k.code===401?(u="javascript:;",d="ËØ∑ÁôªÂΩïÂêé‰∏ãËΩΩ"):(u="javascript:;",d="Ëé∑Âèñ‰∏ãËΩΩÈìæÊé•Â§±Ë¥•");}else K.isForwardDownloadLink("_123pan")&&(u=K.parseDataToSchemeUri("_123pan",u)),d=p.formatByteToSize(c.Size);let h=new Date(c.CreateAt).getTime(),m=new Date(c.UpdateAt).getTime();h=p.formatTime(h),m=p.formatTime(m),C.staticView.oneFile({title:"123ÁõòÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:c.FileName,fileSize:d,downloadUrl:u,fileUploadTime:h,fileLatestTime:m});}else {f.info("Ê≠£Âú®ÈÄíÂΩíÊñá‰ª∂");let c=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),u=i.getFolderInfo(l,0);c.close(),g.info("ÈÄíÂΩíÂÆåÊØï"),C.staticView.moreFile("123ÁõòÊñá‰ª∂Ëß£Êûê",u);}}async checkLinkValidity(){const e=this;f.info("Ê≠£Âú®Ê†°È™åÈìæÊé•ÊúâÊïàÊÄß");let t=`https://www.123pan.com/s/${e.shareCode}`,n=await E.get({url:t,headers:{"User-Agent":p.getRandomPCUA(),Referer:"https://www.123pan.com"}});if(g.info(n),!n.status)return  false;let i=n.data.responseText.match(/window.g_initialProps[\s]*=[\s]*\{(.+?)\};/s);if(i){g.info(i);let o=p.toJSON(`{${i[i.length-1]}}`);if(g.info(o),o.res.code!==0)return f.error(o.res.message),false;if(o.res.data.HasPwd&&(e.accessCode==null||e.accessCode===""))f.error("ÂØÜÁ†ÅÁº∫Â§±!"),C.newAccessCodeView("ÂØÜÁ†ÅÁº∫Â§±","_123pan",e.ruleIndex,e.shareCode,e.accessCode,c=>{e.init({ruleIndex:e.ruleIndex,shareCode:e.shareCode,accessCode:c.accessCode});});else return  true}else f.error("Ê†°È™åÈìæÊé•-Ëé∑ÂèñÂàùÂßãÂåñÂÜÖÂÆπÂ§±Ë¥•");}async getFiles(e=0){const t=this,n={limit:100,next:1,orderBy:"share_id",orderDirection:"desc",shareKey:t.shareCode,SharePwd:t.accessCode,ParentFileId:e,Page:1};let s=`https://www.123pan.com/b/api/share/get?${p.toSearchParamsStr(n)}`,i=await E.get({url:s,headers:{Accept:"*/*",Referer:`https://www.123pan.com/s/${t.shareCode}`,...t.Headers}});if(g.info(i),!i.status)return;let o=i.data,l=p.toJSON(o.responseText);if(l.code===0)return l.data.InfoList;l.code===5103?C.newAccessCodeView(void 0,"_123pan",t.ruleIndex,t.shareCode,t.accessCode,c=>{t.init({ruleIndex:t.ruleIndex,shareCode:t.shareCode,accessCode:c.accessCode});}):t.code[l.code]?f.error(t.code[l.code]):"message"in l?f.error(l.message):f.error("123ÁõòÔºöÊú™Áü•ÁöÑJSONÊ†ºÂºè");}async getFilesByRec(e){const t=this;let n=await E.get({url:`https://www.123pan.com/b/api/share/get?limit=100&next=1&orderBy=share_id&orderDirection=desc&shareKey=${t.shareCode}&SharePwd=${t.accessCode}&ParentFileId=${e}&Page=1`,headers:{Accept:"*/*",Referer:`https://www.123pan.com/s/${t.shareCode}`,...t.Headers}});if(!n.status)return;let s=n.data;g.info(s);let i=p.toJSON(s.responseText);if(i.code==0)return i.data.InfoList}getFolderInfo(e,t){const n=this;let s=[],i=[],o=[];return e.forEach(l=>{l.Type?i.push({fileName:l.FileName,fileSize:0,fileType:"",createTime:new Date(l.CreateAt).getTime(),latestTime:new Date(l.UpdateAt).getTime(),isFolder:true,index:t,async clickEvent(){let c=await n.getFilesByRec(l.FileId.toString());return c?n.getFolderInfo(c,t+1):[]}}):o.push({fileName:l.FileName,fileSize:l.Size,fileType:"",createTime:new Date(l.CreateAt).getTime(),latestTime:new Date(l.UpdateAt).getTime(),isFolder:false,index:t,async clickEvent(){if(l.Status==104)f.error("Êñá‰ª∂Â∑≤Â§±Êïà");else if(l.DownloadUrl){let c=l.DownloadUrl;return K.isForwardDownloadLink("_123pan")&&(c=K.parseDataToSchemeUri("_123pan",c)),{url:c,autoDownload:true,mode:"aBlank"}}else {let c=await n.getFileDownloadInfo(l.Etag,l.FileId,l.S3KeyFlag,n.shareCode,l.Size);if(c&&c.code===0)return {url:c.data.DownloadURL,autoDownload:true,mode:"aBlank"};c&&c.code===401?f.error("ËØ∑ÁôªÂΩïÂêé‰∏ãËΩΩ"):f.error((c==null?void 0:c.message)||"Ëé∑Âèñ‰∏ãËΩΩÈìæÊé•Â§±Ë¥•");}}});}),i.sort((l,c)=>l.fileName.localeCompare(c.fileName)),o.sort((l,c)=>l.fileName.localeCompare(c.fileName)),s=s.concat(i),s=s.concat(o),s}async getFileDownloadInfo(e,t,n,s,i){const o=this;let l=o.getFileDownloadAuth(),c={"Content-Type":"application/json;charset=UTF-8",Host:"www.123pan.com",Accept:"*/*",Referer:"https://www.123pan.com/s/"+s,Origin:"https://www.123pan.com",...o.Headers};o.Authorization&&Reflect.set(c,"Authorization","Bearer "+o.Authorization),g.success("Ëé∑Âèñ‰∏ãËΩΩÈìæÊé•Âä†ÂØÜÂèÇÊï∞Ôºö"+l);let u=await E.post(`https://www.123pan.com/a/api/share/download/info?${l[0]}=${l[1]}`,{data:JSON.stringify({Etag:e,FileID:t,S3keyFlag:n,ShareKey:s,Size:i}),responseType:"json",headers:c});if(!u.status)return;let d=u.data,h=p.toJSON(d.responseText);return g.info(h),h.code==0?(h.data.DownloadURL=o.decodeDownloadUrl(h.data.DownloadURL),h):{code:h.code,message:h.message}}getFileDownloadAuth(){function e(s){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8;if(arguments.length!==0){typeof s=="object"?i=s:((""+s).length===10&&(s=1e3*parseInt(s)),i=new Date(s));var l=s+6e4*new Date(s).getTimezoneOffset(),c=l+36e5*o;return i=new Date(c),{y:i.getFullYear(),m:i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,d:i.getDate()<10?"0"+i.getDate():i.getDate(),h:i.getHours()<10?"0"+i.getHours():i.getHours(),f:i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes()}}}function t(s){for(var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10,o=function(){for(var h,m=[],k=0;k<256;k++){h=k;for(var b=0;b<8;b++)h=1&h?3988292384^h>>>1:h>>>1;m[k]=h;}return m},l=o(),c=s,u=-1,d=0;d<c.length;d++)u=u>>>8^l[255&(u^c.charCodeAt(d))];return u=(-1^u)>>>0,u.toString(i)}function n(s){var i="web",o=3,l=Math.round((new Date().getTime()+60*new Date().getTimezoneOffset()*1e3+288e5)/1e3).toString(),c="a,d,e,f,g,h,l,m,y,i,j,n,o,p,k,q,r,s,t,u,b,c,v,w,s,z",u=Math.round(1e7*Math.random()),d,h,m,k,b,R,v,N,A;for(var D in d=c.split(","),h=e(l),m=h.y,k=h.m,b=h.d,R=h.h,v=h.f,N=[m,k,b,R,v].join(""),A=[],N)A.push(d[Number(N[D])]);var x,S;return x=t(A.join("")),S=t("".concat(l,"|").concat(u,"|").concat(s,"|").concat(i,"|").concat(o,"|").concat(x)),[x,"".concat(l,"-").concat(u,"-").concat(S)]}return n("/a/api/share/download/info")}decodeDownloadUrl(e){return e===""?"":e}}class ga extends be{constructor(){super(...arguments);G(this,"X_Share_Token_Data",{expire_time:"2000-01-01T00:00:00.000Z",expires_in:7200,share_token:""});G(this,"X_Device_Id",null);G(this,"X_Canary","client=web,app=share,version=v2.3.1");}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;const i=this;if(i.X_Device_Id=i.get_X_Device_Id(),g.info("ÁîüÊàêX_Device_IdÔºö"+i.X_Device_Id),globalThis.location.hostname!=="www.aliyundrive.com"&&globalThis.location.hostname!=="www.alipan.com"){let u=ae.getBlankUrl({ruleKeyName:"aliyun",ruleIndex:t,shareCode:n,accessCode:s}),d=f.error(`ËØ∑Âú®ÈòøÈáå‰∫ëÁõòÈ°µÈù¢Ëß£ÊûêÔºå<a href="${u}">ÁÇπÊàëÂâçÂæÄ</a>`,{html:true,timeout:1e4});w.on(d.$Qmsg.querySelector("a[href]"),"click",void 0,h=>{p.preventEvent(h),ye.openBlankUrl(u,"aliyun",i.ruleIndex,i.shareCode,i.accessCode);});return}let o=await this.list_by_share(n,"root");if(!o)return;f.info("Ê≠£Âú®Ëß£ÊûêÈìæÊé•");let l=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),c=i.getFolderInfo(o,0);l.close(),g.info("Ëß£ÊûêÂÆåÊØï"),C.staticView.moreFile("ÈòøÈáå‰∫ëÁõòÊñá‰ª∂Ëß£Êûê",c);}getFolderInfo(e,t=0){const n=this;let s=[],i=[],o=[];return e.forEach(l=>{l.type!=="folder"?o.push({fileName:l.name,fileSize:l.size,fileType:l.file_extension,createTime:new Date(l.created_at).getTime(),latestTime:new Date(l.updated_at).getTime(),isFolder:false,index:t,async clickEvent(){let c=await n.get_share_link_download_url(l.share_id,l.file_id);if(!c)return;let u=c;return K.isForwardDownloadLink("aliyun")&&(u=K.parseDataToSchemeUri("aliyun",u)),{autoDownload:true,mode:"aBlank",url:u}}}):i.push({fileName:l.name,fileSize:0,fileType:"",createTime:l.created_at,latestTime:l.updated_at,isFolder:true,index:t,async clickEvent(){let c=await n.list_by_share(l.share_id,l.file_id);return c?n.getFolderInfo(c,t+1):[]}});}),i.sort((l,c)=>l.fileName.localeCompare(c.fileName)),o.sort((l,c)=>l.fileName.localeCompare(c.fileName)),s=s.concat(i),s=s.concat(o),g.info("getFilesInfoByRec",s),s}async list_by_share(e,t,n="name",s="DESC"){const i=this;let o=await E.post("https://api.aliyundrive.com/adrive/v2/file/list_by_share",{data:JSON.stringify({share_id:e,parent_file_id:t,limit:20,image_thumbnail_process:"image/resize,w_256/format,jpeg",image_url_process:"image/resize,w_1920/format,jpeg/interlace,1",video_thumbnail_process:"video/snapshot,t_1000,f_jpg,ar_auto,w_256",order_by:n,order_direction:s}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Origin:"https://www.aliyundrive.com",Referer:"https://www.aliyundrive.com/","X-Canary":i.X_Canary,"X-Device-Id":i.X_Device_Id,"X-Share-Token":await i.get_X_Share_Token(i.shareCode,i.accessCode),"User-Agent":p.getRandomPCUA()},allowInterceptConfig:false});if(!o.status){i.handle_request_error(o);return}let l=p.toJSON(o.data.responseText);return g.info("ÂàóÂá∫Êñá‰ª∂ÂàóË°®Ôºö",l),l.items}async get_share_link_download_url(e,t){const n=this;let s=await E.post("https://api.aliyundrive.com/v2/file/get_share_link_download_url",{data:JSON.stringify({expire_sec:600,file_id:t,share_id:e}),headers:{Accept:"application/json, text/plain, */*",Origin:"https://www.aliyundrive.com",Referer:"https://www.aliyundrive.com/","Content-Type":"application/json;charset=UTF-8",Authorization:"Bearer "+n.getAuthorization(),"X-Share-Token":await n.get_X_Share_Token(n.shareCode,n.accessCode),"User-Agent":p.getRandomPCUA()},responseType:"arraybuffer",allowInterceptConfig:false});if(!s.status){n.handle_request_error(s);return}let i=p.toJSON(s.data.responseText);return g.info("Ëé∑ÂèñÊñá‰ª∂ÁöÑ‰∏ãËΩΩÈìæÊé•Ôºö",i),i.download_url}handle_request_error(e){g.error(e);let t=p.toJSON(e.data.responseText);t.message==""?f.error(e.msg):f.error(t.message);}getAuthorization(){let e=he.localStorage.getItem("token");if(p.isNotNull(e)&&e!=null){let n=p.toJSON(e).access_token;return g.success("Ëé∑ÂèñÈòøÈáå‰∫ëÁõòÁöÑaccess_tokenÔºö",n),n}else g.error("Ëé∑Âèñaccess_tokenÂ§±Ë¥•ÔºåËØ∑ÂÖàÁôªÂΩïË¥¶Âè∑ÔºÅ"),f.error("Ëé∑Âèñaccess_tokenÂ§±Ë¥•ÔºåËØ∑ÂÖàÁôªÂΩïË¥¶Âè∑ÔºÅ");}async get_X_Share_Token(e,t){const n=this;if(new Date<new Date(n.X_Share_Token_Data.expire_time))return n.X_Share_Token_Data.share_token;let s=await E.post("https://api.aliyundrive.com/v2/share_link/get_share_token",{data:JSON.stringify({share_id:e,share_pwd:t}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Origin:"https://www.aliyundrive.com",Referer:"https://www.aliyundrive.com/","X-Canary":n.X_Canary,"X-Device-Id":n.X_Device_Id,"User-Agent":p.getRandomPCUA()},allowInterceptConfig:false});if(!s.status){n.handle_request_error(s);return}let i=p.toJSON(s.data.responseText);return n.X_Share_Token_Data=i,g.info("Ëé∑Âèñshare_tokenÔºö",n.X_Share_Token_Data),n.X_Share_Token_Data.share_token}get_X_Device_Id(){for(var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,t=[],n=0;n<256;++n)t.push((n+256).toString(16).substr(1));function s(){return crypto.getRandomValues(new Uint8Array(16))}var i=function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=(t[l[c+0]]+t[l[c+1]]+t[l[c+2]]+t[l[c+3]]+"-"+t[l[c+4]]+t[l[c+5]]+"-"+t[l[c+6]]+t[l[c+7]]+"-"+t[l[c+8]]+t[l[c+9]]+"-"+t[l[c+10]]+t[l[c+11]]+t[l[c+12]]+t[l[c+13]]+t[l[c+14]]+t[l[c+15]]).toLowerCase();if(!function(d){return typeof d=="string"&&e.test(d)}(u))throw TypeError("Stringified UUID is invalid");return u},o=function(l,c,u){var d=(l=l||{}).random||(l.rng||s)();return d[6]=15&d[6]|64,d[8]=63&d[8]|128,i(d)};return o()}}class ma extends be{async init(a){let{ruleIndex:e,shareCode:t,accessCode:n}=a,s=le("baidu-baiduwp-php-url"),i=le("baidu-baiduwp-php-post-form"),o=le("baidu-baiduwp-php-copy-url");if(!s){f.error("ËØ∑ÂÖàÂú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆÁôæÂ∫¶ÁΩëÁõò-ÁΩëÂùÄ");return}if(!i){f.error("ËØ∑ÂÖàÂú®ËÆæÁΩÆ‰∏≠ÈÖçÁΩÆÁôæÂ∫¶ÁΩëÁõò-Ë°®ÂçïÂèÇÊï∞");return}i=se.replaceParam(i,{shareCode:t,accessCode:n});let l=document.createElement("form"),c={},u=new URLSearchParams(i);l.action=s,l.method="post",l.style.display="none",l.target="_blank";for(let[d,h]of u){let m=document.createElement("textarea");m.name=d,m.value=h,l.appendChild(m),c[d]=h;}g.info("Ë°®ÂçïÊï∞ÊçÆ",c),document.body.appendChild(l),g.info("ËÆøÈóÆÁΩëÂùÄ",s),o?(ye.copy("baidu",e,t,n,"1.5ÁßíÂêéË∑≥ËΩ¨Ëá≥Ëß£ÊûêÁ´ô"),setTimeout(()=>{l.submit();},1500)):l.submit();}}const q={alert(r,a){return r=this.handleDetails(r,a),H.alert(r)},confirm(r,a){return r=this.handleDetails(r,a),H.confirm(r)},loading(r){return typeof r.animation>"u"&&(r.animation=y.pops.popsAnimation.value),typeof r.forbiddenScroll>"u"&&(r.forbiddenScroll=C.defaultForbiddenScroll),H.loading(r)},prompt(r,a){return r=this.handleDetails(r,a),H.prompt(r)},folder(r,a){return r=this.handleDetails(r,a),r.sort={name:y.popsFolder["pops-folder-sort-name"].value,isDesc:y.popsFolder["pops-folder-sort-is-desc"].value,callback(e,t,n,s){y.popsFolder["pops-folder-sort-name"].value=n,y.popsFolder["pops-folder-sort-is-desc"].value=s;}},H.folder(r)},panel(r,a){return r=this.handleDetails(r,a),H.panel(r)},rightClickMenu(r){return r=this.handleDetails(r),H.rightClickMenu(r)},handleDetails(r,a){if(r=Object.assign({animation:y.pops.popsAnimation.value,drag:y.pops.pcDrag.value,dragLimit:y.pops.pcDragLimit.value,forbiddenScroll:C.defaultForbiddenScroll},r),a!=null)if(H.isPhone()){let e=typeof a.Mobile.width=="function"?a.Mobile.width():a.Mobile.width,t=typeof a.Mobile.height=="function"?a.Mobile.height():a.Mobile.height;r.width=e,r.height=t;}else {let e=typeof a.PC.width=="function"?a.PC.width():a.PC.width,t=typeof a.PC.height=="function"?a.PC.height():a.PC.height;r.width=e,r.height=t;}if(r.mask==null&&(r.mask={}),typeof r.mask.enable!="boolean"&&(r.mask.enable=true),r.mask.clickEvent==null&&(r.mask.clickEvent={}),typeof r.mask.clickEvent.toClose!="boolean"&&(r.mask.clickEvent.toClose=y.pops.clickMaskToCloseDialog.value),y.pops.popsAcrylic.value){let e=`
            .pops {
                --acrylic-opacity: 0.7;
                --acrylic-color: rgba(232, 232, 232, var(--acrylic-opacity));
                --acrylic-blur: 30px;
                --acrylic-saturate: 125%;
                --pops-bg-opacity: var(--acrylic-opacity);
            }
            .pops {
                backdrop-filter: blur(var(--acrylic-blur)) saturate(var(--acrylic-saturate)) !important;
                background-color: var(--acrylic-color) !important;
            }
            .pops[type-value=panel]{
                --aside-bg-color: rgba(221, 221, 221, var(--acrylic-opacity));
				--pops-bg-color: #f2f2f2;
				--title-bg-color: var(--acrylic-color);
				--aside-bg-color: var(--acrylic-color);
				--container-item-bg-color: var(--acrylic-color);
            }
            `;typeof r.style=="string"?r.style+=e:r.style=e;}return r.zIndex=()=>{let t=p.getMaxZIndex(10),n=H.config.InstanceUtils.getPopsMaxZIndex(10).zIndex;return p.getMaxValue(99999,t,n)+10},r}},Ct=`.pops[type-value="alert"]\r
	.pops-alert-title:has(+ .pops-alert-content .netdisk-url-box-all:empty) {\r
	border-bottom: none;\r
}\r
.netdisk-url-box {\r
	border-bottom: 1px solid #e4e6eb;\r
}\r
.netdisk-url-div {\r
	display: flex;\r
	align-items: center;\r
	width: 100%;\r
	padding: 5px 0px 5px 0px;\r
}\r
.netdisk-icon {\r
	display: contents;\r
}\r
.netdisk-icon .netdisk-icon-img {\r
	cursor: pointer;\r
	width: 28px;\r
	height: 28px;\r
	min-width: 28px;\r
	min-height: 28px;\r
	font-size: 0.8em;\r
	margin: 0px 10px;\r
}\r
.netdisk-url-div .netdisk-icon,\r
.netdisk-url-div .netdisk-status {\r
	flex: 0 0 auto;\r
}\r
.netdisk-url-div .netdisk-url {\r
	flex: 1;\r
}\r
.netdisk-icon .netdisk-icon-img {\r
	border-radius: 10px;\r
	box-shadow: 0 0.3px 0.6px rgb(0 0 0 / 6%), 0 0.7px 1.3px rgb(0 0 0 / 8%),\r
		0 1.3px 2.5px rgb(0 0 0 / 10%), 0 2.2px 4.5px rgb(0 0 0 / 12%),\r
		0 4.2px 8.4px rgb(0 0 0 / 14%), 0 10px 20px rgb(0 0 0 / 20%);\r
}\r
.netdisk-status[data-check-failed] {\r
	padding: 5px 5px;\r
}\r
.netdisk-url {\r
	padding: 5px 5px;\r
}\r
.netdisk-url a {\r
	color: #ff4848 !important;\r
	min-height: 28px;\r
	overflow-x: hidden;\r
	overflow-y: auto;\r
	font-size: 0.8em;\r
	border: none;\r
	display: flex;\r
	align-items: center;\r
	width: 100%;\r
	height: 100%;\r
	padding: 0px;\r
	word-break: break-word;\r
	text-align: left;\r
}\r
.netdisk-status {\r
	display: none;\r
}\r
.netdisk-status[data-check-valid] {\r
	display: flex;\r
	align-items: center;\r
	width: 15px;\r
	height: 15px;\r
}\r
\r
.netdisk-status[data-check-valid="failed"] {\r
	color: red;\r
}\r
\r
.netdisk-status[data-check-valid="partial-violation"] {\r
	color: orange;\r
}\r
\r
.netdisk-status[data-check-valid="error"] {\r
	cursor: pointer;\r
}\r
\r
.netdisk-status[data-check-valid="success"] {\r
	color: green;\r
}\r
\r
.netdisk-status[data-check-valid="verify"] {\r
	color: #faad14;\r
}\r
\r
.netdisk-status[data-check-valid="loading"] svg {\r
	animation: rotating 2s linear infinite;\r
}\r
\r
.netdisk-url-box:has(.netdisk-status[data-check-valid="failed"]) {\r
	text-decoration: line-through;\r
}\r
\r
.whitesevPop-whitesevPopSetting :focus-visible {\r
	outline-offset: 0;\r
	outline: 0;\r
}\r
.netdisk-url a[isvisited="true"] {\r
	color: #8b8888 !important;\r
}\r
.netdisk-url a:active {\r
	box-shadow: 0 0 0 1px #616161 inset;\r
}\r
.netdisk-url a:focus-visible {\r
	outline: 0;\r
}\r
.whitesevPop-content p[pop] {\r
	text-indent: 0;\r
}\r
.whitesevPop-button[type="primary"] {\r
	border-color: #2d8cf0;\r
	background-color: #2d8cf0;\r
}\r
`,Ne=function(r,a){return {KEY:r,default:a,get value(){return le(r,a)},set value(e){fe(r,e);}}},de={show(){C.Alias.uiLinkAlias==null?(this.createView(),this.initViewEvent()):C.Alias.uiLinkAlias.show();},createView(){const r={view:{"netdisl-small-window-shrink-status":Ne("netdisl-small-window-shrink-status",false),"netdisk-ui-small-window-position":Ne("netdisk-ui-small-window-position",null)}},a='<div class="netdisk-url-box-all"></div>';if(y.features["netdisk-behavior-mode"].value.toLowerCase().includes("smallwindow")){C.Alias.uiLinkAlias=q.alert({title:{text:"ÁΩëÁõò",position:"center"},content:{text:a,html:true},btn:{ok:{enable:false},close:{callback(i){y.features["netdisk-behavior-mode"].value.toLowerCase().includes("suspension")?(ce.mode.current_suspension_smallwindow_mode.value="suspension",i.hide(),C.suspension.show()):(C.Alias.uiLinkAlias=void 0,i.close());}}},mask:{enable:false},animation:"",beforeAppendToPageCallBack(i,o){let l=i.querySelector(".pops-header-control"),c=i.querySelector(".pops-alert-title"),u=i.querySelector(".pops-alert-content"),d=w.createElement("button",{className:"pops-header-control",innerHTML:`
                                <i class="pops-icon">
                                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="currentColor" d="M290.816 774.144h167.936c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48h-219.136c-12.288 0-20.48-8.192-20.48-20.48v-2.048-206.848c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v163.84l210.944-198.656c8.192-8.192 20.48-8.192 28.672 0s8.192 20.48 0 28.672l-208.896 194.56z m462.848-524.288h-167.936c-12.288 0-20.48-8.192-20.48-20.48s8.192-20.48 20.48-20.48h219.136c12.288 0 20.48 8.192 20.48 20.48v208.896c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-163.84l-210.944 198.656c-8.192 8.192-20.48 8.192-28.672 0s-8.192-20.48 0-28.672l208.896-194.56z m188.416 323.584c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-389.12c0-34.816-26.624-61.44-61.44-61.44h-655.36c-34.816 0-61.44 26.624-61.44 61.44v655.36c0 34.816 26.624 61.44 61.44 61.44h655.36c34.816 0 61.44-26.624 61.44-61.44v-94.208c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v94.208c0 57.344-45.056 102.4-102.4 102.4h-655.36c-57.344 0-102.4-45.056-102.4-102.4v-655.36c0-57.344 45.056-102.4 102.4-102.4h655.36c57.344 0 102.4 45.056 102.4 102.4v389.12z">
                                    </path>
                                </svg>
                                </i>
                                `},{type:"launch","data-header":true}),h=w.createElement("button",{className:"pops-header-control",innerHTML:`
                                <i class="pops-icon">
                                <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
                                    <path fill="currentColor" d="M618.496 425.984h167.936c12.288 0 20.48 8.192 20.48 20.48s-8.192 20.48-20.48 20.48h-219.136c-12.288 0-20.48-8.192-20.48-20.48v-2.048-206.848c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v163.84l210.944-198.656c8.192-8.192 20.48-8.192 28.672 0s8.192 20.48 0 28.672l-208.896 194.56z m-192.512 172.032h-167.936c-12.288 0-20.48-8.192-20.48-20.48s8.192-20.48 20.48-20.48h219.136c12.288 0 20.48 8.192 20.48 20.48v208.896c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-163.84l-210.944 198.656c-8.192 8.192-20.48 8.192-28.672 0s-8.192-20.48 0-28.672l208.896-194.56z m516.096-24.576c0 12.288-8.192 20.48-20.48 20.48s-20.48-8.192-20.48-20.48v-389.12c0-34.816-26.624-61.44-61.44-61.44h-655.36c-34.816 0-61.44 26.624-61.44 61.44v655.36c0 34.816 26.624 61.44 61.44 61.44h655.36c34.816 0 61.44-26.624 61.44-61.44v-94.208c0-12.288 8.192-20.48 20.48-20.48s20.48 8.192 20.48 20.48v94.208c0 57.344-45.056 102.4-102.4 102.4h-655.36c-57.344 0-102.4-45.056-102.4-102.4v-655.36c0-57.344 45.056-102.4 102.4-102.4h655.36c57.344 0 102.4 45.056 102.4 102.4v389.12z">
                                    </path>
                                </svg>
                                </i>
                                `},{type:"shrink","data-header":true});w.before(l,d),w.before(l,h),w.on(d,"click",void 0,function(){w.addClass(d,"pops-hide-important"),w.removeClass(h,"pops-hide-important"),w.removeClass(c,"pops-no-border-important"),w.removeClass(u,"pops-hide-important"),r.view["netdisl-small-window-shrink-status"].value=false;},{capture:true}),w.on(h,"click",void 0,function(){w.removeClass(d,"pops-hide-important"),w.addClass(h,"pops-hide-important"),w.addClass(c,"pops-no-border-important"),w.addClass(u,"pops-hide-important"),r.view["netdisl-small-window-shrink-status"].value=true;},{capture:true}),r.view["netdisl-small-window-shrink-status"].value?h.click():d.click();},dragMoveCallBack(i,o,l){r.view["netdisk-ui-small-window-position"].value={left:o,top:l};},class:"whitesevPop",style:`
                    ${Ct}

                    .pops {
                        --container-title-height: 35px;
                        --content-max-height: ${y.smallWindow["netdisk-ui-small-window-max-height"].value}px;
                        --netdisk-line-space: 8px;
                        --netdisk-icon-size: 24px;
                    }
                    .pops[type-value="alert"]{
                        transform: none;
                    }
                    .pops {
                        max-height: var(--content-max-height);
                    }
                    .pops[type-value=alert] .pops-alert-content{
                        max-height: calc(var(--content-max-height) - var(--container-title-height) - var(--container-bottom-btn-height));
                    }
                    .pops-header-controls button.pops-header-control[type][data-header]{
                        padding: 0px 5px;
                    }
                    .netdisk-url-div{
                        padding: 0px;
                    }
                    .netdisk-icon .netdisk-icon-img{
                        width: var(--netdisk-icon-size);
                        height: var(--netdisk-icon-size);
                        min-width: var(--netdisk-icon-size);
                        min-height: var(--netdisk-icon-size);
                        margin: 0px var(--netdisk-line-space);
                    }
                    .netdisk-status{
                        margin-right: var(--netdisk-line-space);
                    }
                    .netdisk-url{
                        padding: 2px 0px;
                    }
                    `},C.popsStyle.mainViewSmallWindow);let n=r.view["netdisk-ui-small-window-position"].value,s=C.Alias.uiLinkAlias.popsElement;if(n){let i=w.width(s,true),o=w.height(s,true),l=w.width(window),c=w.height(window);const{transformLeft:u,transformTop:d}=w.getTransform(s);let h=l-i+u,m=c-o+d,k=0+u,b=0+d;n.top>m?n.top=m:n.top<b&&(n.top=b),n.left>h?n.left=h:n.left<k&&(n.left=k),s.style.transitionDuration="0s",s.style.left=n.left+"px",s.style.top=n.top+"px",setTimeout(()=>{s.style.transitionDuration="0s";},300);}}else C.Alias.uiLinkAlias=q.alert({title:{text:"ÁΩëÁõò",position:"center"},content:{text:a,html:true},btn:{ok:{enable:false},close:{callback(n){C.Alias.uiLinkAlias=void 0,n.close();}}},mask:{clickCallBack(n){n(),C.Alias.uiLinkAlias=void 0;}},class:"whitesevPop",style:`
                    ${Ct}

                    .pops {
                        max-height: 60vh;
                    }
					@media screen and (max-width: 600px) {
						.pops {
                       		max-height: 50vh;
                    	}
					}
                    `},C.popsStyle.mainView);let e=C.Alias.uiLinkAlias.$shadowRoot.querySelector(".netdisk-url-box-all");C.isMatchedNetDiskIconMap.forEach(n=>{let s=L.$match.matchedInfo.get(n),i=document.createDocumentFragment();s.forEach((o,l)=>{let c=L.handleLinkShow({ruleKeyName:n,ruleIndex:o.ruleIndex,shareCode:l,accessCode:o.accessCode,matchText:o.matchText,showToast:false});if(!c)return;let u=this.createViewBoxElementInfo(C.src.icon[n],n,o.ruleIndex,l,o.accessCode,c);i.appendChild(u.$viewBox);}),e.appendChild(i);});let t=y.smallWindow["netdisk-link-view-z-index"].value;t>0&&w.css(C.Alias.uiLinkAlias.popsElement,{"z-index":t}),C.Alias.uiLinkAlias.popsElement.querySelectorAll(".netdisk-url-box-all .netdisk-url-box").forEach(n=>{let s=n.querySelector(".netdisk-link").getAttribute("data-rule-key"),i=parseInt(n.querySelector(".netdisk-link").getAttribute("data-rule-index")),o=n.querySelector(".netdisk-link").getAttribute("data-sharecode"),l=n.querySelector(".netdisk-link").getAttribute("data-accesscode");T.check(n,s,i,o,l);});},initViewEvent(){C.setRightClickMenu(C.Alias.uiLinkAlias.$shadowRoot,".whitesevPop .netdisk-url a"),this.registerIconGotoPagePosition(C.Alias.uiLinkAlias.$shadowRoot),this.setNetDiskUrlClickEvent(C.Alias.uiLinkAlias.$shadowRoot,".netdisk-url a"),C.setGlobalRightClickMenu(C.Alias.uiLinkAlias.$shadowRoot.querySelector(".pops .pops-alert-title > p"));},createElementAttributeRuleInfoJSON(r){return {"data-rule-key":r.ruleKeyName,"data-rule-index":r.ruleIndex,"data-sharecode":r.shareCode,"data-accesscode":r.accessCode}},handleElementAttributeRuleInfo(r,a){let e=this.createElementAttributeRuleInfoJSON(r);for(const t in e){const n=e[t];Array.isArray(a)?a.forEach(s=>{s.setAttribute(t,n.toString());}):a.setAttribute(t,n.toString());}},praseElementAttributeRuleInfo(r){let a={ruleKeyName:r.getAttribute("data-rule-key"),ruleIndex:parseInt(r.getAttribute("data-rule-index")),shareCode:r.getAttribute("data-sharecode"),accessCode:r.getAttribute("data-accesscode")};return isNaN(a.ruleIndex)&&(g.warn("ÂÖÉÁ¥†‰∏äÁöÑ ruleIndex ÁöÑÂÄºÊòØNaNÔºåË∞ÉÊï¥‰∏∫ÈªòËÆ§ÂÄº0",r),a.ruleIndex=0),a},createViewBoxElementInfo(r,a,e,t,n,s){let i=w.createElement("div",{className:"netdisk-url-box",innerHTML:`
			<div class="netdisk-url-div">
                <div class="netdisk-icon">
                    <div class="netdisk-icon-img">
                    </div>
                </div>
                <div class="netdisk-status">

                </div>
                <div class="netdisk-url">
                    <a  class="netdisk-link" href="javascript:;" isvisited="false"></a>
                </div>
            </div>
			`});const{$urlDiv:o,$icon:l,$iconImg:c,$checkValidStatus:u,$url:d,$link:h}=this.parseViewBoxElementInfo(i);return c.style.cssText=`background: url(${r}) no-repeat;background-size: 100%;`,w.html(h,s),this.handleElementAttributeRuleInfo({ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:n},[c,h]),L.$rule.rule.forEach(m=>{m.setting.key===a&&typeof m.afterRenderUrlBox=="function"&&m.afterRenderUrlBox({$viewBox:i,$urlDiv:o,$url:d,$link:h,ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:n});}),{$viewBox:i,$urlDiv:o,$icon:l,$iconImg:c,$checkValidStatus:u,$url:d,$link:h}},parseViewBoxElementInfo(r){let a=r.matches(".netdisk-url-box")?r:r.closest(".netdisk-url-box"),e=a.querySelector(".netdisk-url-div"),t=a.querySelector(".netdisk-icon"),n=a.querySelector(".netdisk-icon-img"),s=a.querySelector(".netdisk-status"),i=a.querySelector(".netdisk-url"),o=a.querySelector(".netdisk-link");return {$urlBox:a,$urlDiv:e,$icon:t,$iconImg:n,$checkValidStatus:s,$url:i,$link:o}},setNetDiskUrlClickEvent(r,a){w.on(r,"click",a,e=>{let t=e.target;t.setAttribute("isvisited","true");const n=de.praseElementAttributeRuleInfo(t);e.ctrlKey?this.netDiskUrlClickEvent({data:n,clickMode:"openBlank",$click:t}):this.netDiskUrlClickEvent({data:n,$click:t});}),w.on(r,"auxclick",a,(e,t)=>{if(e.button!==1)return;p.preventEvent(e),t.setAttribute("isvisited","true");const n=de.praseElementAttributeRuleInfo(t);let s=ae.getBlankUrl({ruleKeyName:n.ruleKeyName,ruleIndex:n.ruleIndex,shareCode:n.shareCode,accessCode:n.accessCode});ye.openBlankUrl(s,n.ruleKeyName,n.ruleIndex,n.shareCode,n.accessCode,true);});},netDiskUrlClickEvent(r){const{ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:n}=r.data;let s=r.clickMode??ee.function.linkClickMode(r.data.ruleKeyName),i=()=>{if(r.$click){let o=r.$click.closest(".pops");if(o){let l=o.querySelector('.pops-header-control[type="close"]');l&&l.click();}}};if(s==="copy"||s==="copy-closePopup")ye.copy(a,e,t,n),s==="copy-closePopup"&&i();else if(s==="openBlank"||s==="openBlank-closePopup"){let o=ae.getBlankUrl({ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:n});K.isForwardBlankLink(a)?ye.openBlankWithScheme(a,e,t,n):ye.openBlankUrl(o,a,e,t,n),s==="openBlank-closePopup"&&i();}else s==="parseFile"||s==="parseFile-closePopup"?ye.parseFile(a,e,t,n).then(()=>{s==="parseFile-closePopup"&&i();}):(g.error("Êú™Áü•ÁÇπÂáªÂä®‰ΩúÔºö"+s),f.error("Êú™Áü•ÁÇπÂáªÂä®‰ΩúÔºö"+s));},registerContextMenu(r,a,e=[],t="whitesevSuspensionContextMenu"){let n=[];e.forEach(i=>{n.push({text:i.text,callback:i.callback,icon:(i==null?void 0:i.icon)??"",iconIsLoading:(i==null?void 0:i.iconIsLoading)??false,item:(i==null?void 0:i.item)??null});});let s={target:r,targetSelector:a,data:n,isAnimation:false,className:t,only:true,chileMenuLeftOrRightDistance:-3,childMenuTopOrBottomDistance:-5};q.rightClickMenu(s);},addLinkView(r,a,e,t,n){if(C.netDiskHistoryMatch.changeMatchedData(r,a,e,t,n),!C.Alias.uiLinkAlias)return;g.info(r,a,e,t);let s=C.src.icon[r],i=L.handleLinkShow({ruleKeyName:r,ruleIndex:a,shareCode:e,accessCode:t,matchText:n});if(!i)return;let o=this.createViewBoxElementInfo(s,r,a,e,t,i),l=C.Alias.uiLinkAlias.$shadowRoot.querySelector(".netdisk-url-box-all");w.append(l,o.$viewBox);let c=l.children[l.children.length-1];T.check(c,r,a,e,t);},changeLinkView(r,a,e,t,n){if(C.netDiskHistoryMatch.changeMatchedData(r,a,e,t,n),!C.Alias.uiLinkAlias)return;let s=L.handleLinkShow({ruleKeyName:r,ruleIndex:a,shareCode:e,accessCode:t,matchText:n});if(!s)return;let i=C.Alias.uiLinkAlias.popsElement.querySelector(`.netdisk-url a[data-sharecode='${e}'][data-rule-index='${a}']`);g.info("‰øÆÊîπÁΩëÁõòÈìæÊé•ËßÜÂõæ"),g.info(i),i.setAttribute("data-accesscode",t),w.html(i,s);},registerIconGotoPagePosition(r){let a,e,t;w.on(r,"click",".whitesevPop .netdisk-icon .netdisk-icon-img",function(n){let i=n.target.getAttribute("data-sharecode");if(y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode"].value){if(typeof i!="string"){f.error("Ëé∑Âèñdata-sharecodeÂ±ûÊÄßÂ§±Ë¥•");return}if(t==null?t=i:t!==i&&(g.info(`‰∏ä‰∏Ä‰∏™ÊêúÁ¥¢Ôºö${t}ÔºåÂàáÊç¢Ëá≥Ôºö${i}`),a=void 0,e=void 0,t=i),a==null&&(a=p.findElementsWithText(document.documentElement,i),e=a.next()),e!=null&&e.value)if(g.success("ÂÆö‰ΩçÂÖÉÁ¥†",e),e.value.nodeType===Node.ELEMENT_NODE&&e.value.getClientRects().length){if(e.value.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode-with-select"].value){let o=e.value.innerText||e.value.textContent,l,c,u;if(o.includes(i)){let d=Array.from(e.value.childNodes).filter(h=>h.nodeType===Node.TEXT_NODE);for(const h of d)if(h.textContent.includes(i)){l=h,c=h.textContent.indexOf(i),u=c+i.length;break}}try{p.selectElementText(e.value,l,c,u);}catch(d){g.error(d),p.selectElementText(e.value);}}}else if(e.value.nodeType===Node.TEXT_NODE&&e.value.parentElement.getClientRects().length)if(y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode-with-select"].value){let o=e.value.textContent||e.value.nodeValue,l=e.value,c=o.indexOf(i),u=c+i.length;try{p.selectElementText(e.value,l,c,u);}catch(h){g.error(h),p.selectElementText(e.value.parentElement);}let d=globalThis.getSelection();if(d.rangeCount>0){let m=d.getRangeAt(0).getBoundingClientRect(),k=globalThis.scrollY,b=m.top+k-globalThis.innerHeight/2;globalThis.scrollTo({behavior:"smooth",top:b});}else e.value.parentElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});}else try{let o=new Range;o.selectNodeContents(e.value);let l=o.getBoundingClientRect(),c=globalThis.scrollY,u=l.top+c-globalThis.innerHeight/2;globalThis.scrollTo({behavior:"smooth",top:u});}catch(o){g.error(o),e.value.parentElement.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});}else g.error("Êó†Ê≥ïÂÆö‰ΩçËØ•ÂÖÉÁ¥†‰ΩçÁΩÆ",e.value),f.error(`Êó†Ê≥ïÂÆö‰ΩçËØ•ÂÖÉÁ¥†‰ΩçÁΩÆÔºåÁ±ªÂûãÔºö<${(e.value.nodeName||e.value.localName||e.value.tagName).toLowerCase()}>`,{html:false});if(e=a.next(),e.done){if(!y.smallIconNavgiator["pops-netdisk-icon-click-event-loop-find-sharecode"].value){f.info("Â∑≤ÁªèÂÆö‰ΩçËá≥ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∫Ü");return}a=void 0,e=void 0;}}});}};class ba extends be{async init(a){let{ruleIndex:e,shareCode:t,accessCode:n}=a,s="chengtong";if(e!==3){g.warn("Ëß£ÊûêÁ´ôÊöÇÊó∂Âè™ÊîØÊåÅÂçïÊñá‰ª∂Ëß£ÊûêÔºåÈùûÂçïÊñá‰ª∂ÈìæÊé•ÁöÑÁÇπÂáªÂä®‰Ωú‰∏∫Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ"),de.netDiskUrlClickEvent({data:{ruleKeyName:s,ruleIndex:e,shareCode:t,accessCode:n},clickMode:"openBlank"});return}let i=le("chengtong-parse-file-api-host");if(p.isNull(i)){f.error("ËØ∑ÂÖàÈÖçÁΩÆÊñá‰ª∂Ëß£ÊûêÊé•Âè£Âú∞ÂùÄ");return}i.endsWith("/")||(i+="/");let o=i+"?file="+t;p.isNotNull(n)&&(o+="&pass="+n),window.open(o,"_blank");}}const at={async parseFileMetaInfo(r){const a=await E.get("https://whatslink.info/api/v1/link?url="+r,{headers:{Referer:"https://whatslink.info/"},allowInterceptConfig:false});let e=p.toJSON(a.data.responseText);if(!a.status){if(typeof e.error=="string"&&e.error.trim()!==""){f.error(e.error);return}f.error("ËØ∑Ê±ÇÂ§±Ë¥•");return}return e},showFileMetaInfoDialog(r){q.alert({title:{text:"ÂÖÉÊï∞ÊçÆ‰ø°ÊÅØ",position:"center"},content:{text:`
						<div class="wrapper">
							<div class="title">Summary</div>
							<div class="content">
								<div>Resource Name: ${r.name}</div>
								<div>Number of Files: ${r.count}</div>
								<div>Total File Size: ${p.formatByteToSize(r.size)}</div>
								<div>File Type: ${r.type.toLowerCase()}</div>
							</div>
						</div>
						${Array.isArray(r.screenshots)?`
							<div class="wrapper">
								<div class="title">Screenshots</div>
								<div class="content">
									<div class="image-list">
										${r.screenshots.map(a=>`
											<div class="img">
												<img src="${a.screenshot}" alt="img">
											</div>
										`).join("")}
										
									</div>
								</div>
							</div>
						`:""}
						`,html:true},btn:{ok:{enable:false}},width:Z.setting.width,height:"auto",style:`
                .pops-alert-content{
                    padding: 0 15px;
                }
                .wrapper{
                    border: 1px solid #2c3e50;
                    margin: 24px 0;
                    max-width: 100%;
                }
                .wrapper .title{
                    font-size: 18px;
                    font-weight: 700;
                    padding: 8px 24px;
                    border-bottom: 1px solid #2c3e50;
                }
                .wrapper .content{
                    padding: 24px;
                }
                .wrapper .image-list{
                    display: flex;
                    max-width: 100%;
                    overflow-x: auto;
                    overflow-y: hidden;
                    gap: 12px;
                }
                .wrapper .image-list .img{
                    flex-shrink: 0;
                    height: 120px;
                    width: 160px;
                }
                .wrapper .image-list img{
                    height: 100%;
                    width: 100%;
                    cursor: pointer;
                }
            `});}};class wa extends be{async init(a){let{ruleIndex:e,shareCode:t,accessCode:n}=a,s=ae.getBlankUrl({ruleKeyName:"ed2k",ruleIndex:e,shareCode:t,accessCode:n}),i=f.loading("Ê≠£Âú®ËØ∑Ê±ÇApi‰∏≠..."),o=await at.parseFileMetaInfo(s);i.close(),o&&at.showFileMetaInfoDialog(o);}}class ka extends be{constructor(){super(...arguments);G(this,"errorCode",{UnAuthorized:"ËØ∑ÂÖàÁôªÂΩïÂùöÊûú‰∫ëË¥¶Âè∑"});}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;const i=this;let o=await i.getRequestDownloadParams();if(o)if(o.isdir){let l=f.loading("Ê≠£Âú®ÈÅçÂéÜÂ§öÊñá‰ª∂‰ø°ÊÅØ..."),c=await i.getFolderInfo(o.hash);if(!c){l.close();return}let u=i.parseMoreFile(c,o.hash,o.name);l.close(),C.staticView.moreFile("ÂùöÊûú‰∫ëÊñá‰ª∂Ëß£Êûê",u);}else {let l=p.formatByteToSize(o.size),c=await i.getFileLink(o.hash,o.name);if(!c)return;K.isForwardDownloadLink("jianguoyun")&&(c=K.parseDataToSchemeUri("jianguoyun",c)),g.info(c),C.staticView.oneFile({title:"ÂùöÊûú‰∫ëÁõòÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:o.name,fileSize:l,downloadUrl:c});}}parseMoreFile(e,t="",n=""){const s=this;g.info("Ëß£ÊûêÂ§öÊñá‰ª∂‰ø°ÊÅØ",e);let i=[];return e.forEach(o=>{let l=o.relPath;l.startsWith("/")&&(l=l.replace(/^\//,"")),i.push({fileName:l,fileSize:o.size,fileType:"",createTime:o.mtime,latestTime:o.mtime,isFolder:false,index:0,async clickEvent(){f.info("Ê≠£Âú®Ëé∑Âèñ‰∏ãËΩΩÈìæÊé•...");let c=await s.getDirLink(t,l,o.relPath);if(c)return f.success("Ëé∑ÂèñÊàêÂäüÔºÅ"),K.isForwardDownloadLink("jianguoyun")&&(c=K.parseDataToSchemeUri("jianguoyun",c)),g.info(c),{autoDownload:true,mode:"aBlank",url:c}}});}),i}async getRequestDownloadParams(){const e=this;g.info("Ëé∑ÂèñhashÂÄº"),f.info("Ê≠£Âú®Ëé∑ÂèñËØ∑Ê±Ç‰ø°ÊÅØ");let t=/var[\s]*PageInfo[\s]*=[\s]*{([\s\S]+)};/i;new FormData().append("pd",e.accessCode);let s={url:`https://www.jianguoyun.com/p/${e.shareCode}`,data:e.accessCode===""?void 0:`pd=${e.accessCode}`,responseType:"html",headers:{"Content-Type":"application/x-www-form-urlencoded","User-Agent":p.getRandomPCUA(),Referer:`https://www.jianguoyun.com/p/${e.shareCode}`}},i;if(e.accessCode===""?i=await E.get(s):i=await E.post(s),!i.status)return;let o=i.data;g.info("ËØ∑Ê±Ç‰ø°ÊÅØ"),g.info(o);let l=o.responseText.match(t);if(l){let c=l[l.length-1];c=`({${c}})`,c=window.eval(c),g.info(c);let u=c.name,d=c.size,h=c.hash,m=c.needsPassword,k=c.owner,b=c.isdir,R=c.errorCode;if(u=decodeURIComponent(u),g.success("ÊòØÂê¶ÊòØÊñá‰ª∂Â§π ===> "+b),g.success("hash ===> "+h),g.success("name ===> "+u),g.success("size ===> "+d),m&&(e.accessCode==null||e.accessCode==="")){f.error("ÂØÜÁ†Å‰∏çÊ≠£Á°Æ!"),C.newAccessCodeView("ÂØÜÁ†ÅÁº∫Â§±","jianguoyun",e.ruleIndex,e.shareCode,e.accessCode,v=>{e.init({ruleIndex:e.ruleIndex,shareCode:e.shareCode,accessCode:v.accessCode});});return}if(R==="AuthenticationFailed"){f.error("ÂØÜÁ†ÅÈîôËØØ"),C.newAccessCodeView(void 0,"jianguoyun",e.ruleIndex,e.shareCode,e.accessCode,v=>{e.init({ruleIndex:e.ruleIndex,shareCode:e.shareCode,accessCode:v.accessCode});});return}if(h===""||h==null){g.error("hash‰∏∫Á©∫ÔºåÂèØËÉΩÊñá‰ª∂Ë¢´Êí§ÈîÄÂàÜ‰∫´‰∫Ü"),f.error("Êñá‰ª∂ÂàÜ‰∫´Â∑≤Ë¢´Êí§ÈîÄ");return}if(d==null&&b==false){g.error("Êó†sizeÔºåÂèØËÉΩÊñá‰ª∂Ë¢´Âà†Èô§‰∫Ü"),f.error(`‚Äú${u}‚ÄùÊñá‰ª∂Â∑≤Ë¢´Êã•ÊúâËÄÖÔºà‚Äú${k}‚ÄùÔºâÂà†Èô§`);return}else return {name:u,hash:h,size:d,needsPassword:m,owner:k,isdir:b}}else o.responseText.match("ÂØπ‰∏çËµ∑ÔºåÊâæ‰∏çÂà∞ÊÇ®ÊåáÂÆöÁöÑÊñá‰ª∂„ÄÇ")?(g.error("ÂïäÂô¢ÔºÅ (404) ÂØπ‰∏çËµ∑ÔºåÊâæ‰∏çÂà∞ÊÇ®ÊåáÂÆöÁöÑÊñá‰ª∂„ÄÇ"),f.error("ÂùöÊûú‰∫ë: ÂØπ‰∏çËµ∑ÔºåÊâæ‰∏çÂà∞ÊÇ®ÊåáÂÆöÁöÑÊñá‰ª∂„ÄÇ")):o.responseText.match("ÂØπ‰∏çËµ∑ÔºåÊÇ®ÁöÑÊüê‰∫õËæìÂÖ•‰∏çÊ≠£Á°Æ„ÄÇ")?(g.error("ÂèØËÉΩËØ•ÈìæÊé•‰∏çÈúÄË¶ÅËÆøÈóÆÁ†ÅÊàñËÄÖËÆøÈóÆÁ†ÅÊúâÈóÆÈ¢ò"),C.newAccessCodeView(void 0,"jianguoyun",e.ruleIndex,e.shareCode,e.accessCode,c=>{e.init({ruleIndex:e.ruleIndex,shareCode:e.shareCode,accessCode:c.accessCode});})):(g.error("Ëé∑ÂèñPageInfoÂ§±Ë¥•"),f.error("ÂùöÊûú‰∫ë: Ëé∑ÂèñPageInfoÂ§±Ë¥•"));}async getFileLink(e="",t=""){var l;const n=this;t=encodeURIComponent(t);let s=await E.get({url:`https://www.jianguoyun.com/d/ajax/fileops/pubFileLink?k=${e}&name=${t}&wm=false${n.accessCode===""?"":"&pd="+n.accessCode}&forwin=1&_=${new Date().getTime()}`,responseType:"json",headers:{"User-Agent":p.getRandomPCUA()},allowInterceptConfig:false});if(!s.status){if(p.isNotNull((l=s.data)==null?void 0:l.responseText)){let c=p.toJSON(s.data.responseText);g.error("ÂùöÊûú‰∫ë",c),c.errorCode==="UnAuthorized"?n.gotoLogin():f.error(c.detailMsg);}else f.error("ËØ∑Ê±ÇÂºÇÂ∏∏");return}let i=s.data;g.info("ËØ∑Ê±Ç‰ø°ÊÅØ",i);let o=p.toJSON(i.responseText);if(g.info("Ëß£ÊûêJSON",o),o.hasOwnProperty("errorCode")){f.error("ÂùöÊûú‰∫ë: "+o.detailMsg);return}else {if(o.hasOwnProperty("url"))return o.url;f.error("ÂùöÊûú‰∫ë: Â§ÑÁêÜ‰∏ãËΩΩÈìæÊé•ÂºÇÂ∏∏");}}async getDirLink(e="",t="",n="/"){var c;const s=this;t=encodeURIComponent(t);let i=await E.get({url:`https://www.jianguoyun.com/d/ajax/dirops/pubDIRLink?k=${e}&dn=${t}&p=${n}&forwin=1&_=${new Date().getTime()}`,responseType:"json",headers:{"User-Agent":p.getRandomPCUA()},allowInterceptConfig:false});if(!i.status){if(p.isNotNull((c=i.data)==null?void 0:c.responseText)){let u=p.toJSON(i.data.responseText);g.error("ÂùöÊûú‰∫ë",u),u.errorCode==="UnAuthorized"?s.gotoLogin():f.error(u.detailMsg);}else f.error("ËØ∑Ê±ÇÂºÇÂ∏∏");return}let o=i.data;g.info("ËØ∑Ê±Ç‰ø°ÊÅØ",o);let l=p.toJSON(o.responseText);if(g.info(l),l.hasOwnProperty("errorCode")){f.error("ÂùöÊûú‰∫ë: "+l.detailMsg);return}else {if(l.hasOwnProperty("url"))return l.url;f.error("ÂùöÊûú‰∫ë: Â§ÑÁêÜ‰∏ãËΩΩÈìæÊé•ÂºÇÂ∏∏");}}async getFolderInfo(e=""){let t=await E.get({url:`https://www.jianguoyun.com/d/ajax/dirops/pubDIRBrowse?hash=${e}&relPath=%2F&_=${Date.now()}`,responseType:"json",headers:{"User-Agent":p.getRandomPCUA()}});if(!t.status)return;let n=t.data;g.info("ËØ∑Ê±Ç‰ø°ÊÅØ",n);let s=p.toJSON(n.responseText);if(g.info(s),"objects"in s)return s.objects;f.error("ÂùöÊûú‰∫ë: Â§ÑÁêÜÂ§öÊñá‰ª∂‰ø°ÊÅØÂºÇÂ∏∏");}gotoLogin(){q.confirm({title:{text:"ÊèêÁ§∫",position:"center"},content:{text:"Ëß£ÊûêÂ§±Ë¥•ÔºåÂéüÂõ†ÔºöÂΩìÂâçÂ∞öÊú™ÁôªÂΩïÂùöÊûú‰∫ëÔºåÊòØÂê¶ÂâçÂæÄÁôªÂΩïÔºü"},btn:{reverse:true,position:"end",ok:{text:"ÂâçÂæÄ",callback:function(e){window.open("https://www.jianguoyun.com/d/login#from=https%3A%2F%2Fwww.jianguoyun.com%2F","_blank");}}}},C.popsStyle.jianGuoYunLoginTip);}}const ge={DEFAULT_HOST_NAME:"www.lanzout.com",MENU_KEY:"lanzou-host-name",get hostname(){return F(this.MENU_KEY,this.DEFAULT_HOST_NAME).value}};let ya=r=>(r=r.replace(/\/\/.+/gi,""),r=r.replace(/\/\*[\s\S\n]+\*\//gi,""),r);class xa extends be{constructor(){super(...arguments);G(this,"router",{root(e=""){return e.startsWith("/")&&(e=e.replace(/^\//,"")),`https://${ge.hostname}/${e}`},root_tp(e=""){return e.startsWith("/")&&(e=e.replace(/^\//,"")),`https://${ge.hostname}/tp/${e}`},root_s(e=""){return e.startsWith("/")&&(e=e.replace(/^\//,"")),`https://${ge.hostname}/s/${e}`}});G(this,"regexp",{unicode:{match:/[%\u4e00-\u9fa5]+/g,tip:"‰∏≠ÊñáÈìæÊé•",isUnicode:false},noFile:{match:/div>Êù•ÊôöÂï¶...Êñá‰ª∂ÂèñÊ∂àÂàÜ‰∫´‰∫Ü<\/div>/g,tip:"Êù•ÊôöÂï¶...Êñá‰ª∂ÂèñÊ∂àÂàÜ‰∫´‰∫Ü"},noExists:{match:/div>Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÊàñÂ∑≤Âà†Èô§<\/div>/g,tip:"Êñá‰ª∂‰∏çÂ≠òÂú®ÔºåÊàñÂ∑≤Âà†Èô§"},linkInValid:{match:/div>Êñá‰ª∂ÈìæÊé•Â§±ÊïàÔºåËØ∑Ëé∑ÂèñÊñ∞ÈìæÊé•<\/div>/g,tip:"Êñá‰ª∂ÈìæÊé•Â§±ÊïàÔºåËØ∑Ëé∑ÂèñÊñ∞ÈìæÊé•"},needVipToShare:{match:/class="fbox">Èùû‰ºöÂëò.+ËØ∑ÂÖàÂºÄÈÄö‰ºöÂëò/gi,tip:"ËØ•ÈìæÊé•‰∏∫Èùû‰ºöÂëòÁî®Êà∑ÂàÜ‰∫´ÁöÑÊñá‰ª∂ÔºåÁõÆÂâçÊó†Ê≥ï‰∏ãËΩΩ"},moreFile:{match:/<span id=\"filemore\" onclick=\"more\(\);\">/g},sign:{match:/var[\s]*(posign|postsign|vidksek|skdklds)[\s]*=[\s]*'(.+?)';/},fileName:{match:/<title>(.*)<\/title>/},fileSize:{match:/<span class=\"mtt\">\((.*)\)<\/span>/},loadDownHost:{match:/var[\s]*(vkjxld)[\s]*=[\s]*'(.+?)'/i},loadDown:{match:/var[\s]*(loaddown|oreferr|spototo|domianload|hyggid)[\s]*=[\s]*'(.+?)'/i},appleDown:{match:/var[\s]*appitem[\s]*=[\s]*'(.+?)'/i},uploadTime:{match:/mt2\"\>Êó∂Èó¥:<\/span>(.+?)[\s]*<span/i}});}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;this.regexp.unicode.isUnicode=!!n.match(this.regexp.unicode.match);let i=t===1?this.router.root_s(n):this.router.root(n),o=await this.getPageInfo(i);if(o)if(this.isMoreFile(o)){g.info("Â§öÊñá‰ª∂");let l=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),c=await this.parseFiles(n,s);if(!c){l.close();return}let u=this.getFolderInfo(this.transformFileInfoToInfoList(n,s,c),0);l.close(),g.info("ÈÄíÂΩíÂÆåÊØï"),C.staticView.moreFile("ËìùÂ•è‰∫ëÊñá‰ª∂Ëß£Êûê",u);}else {g.info("ÂçïÊñá‰ª∂");let l=await this.getFileDownloadInfo(n,s,o);l&&C.staticView.oneFile({title:"ËìùÂ•è‰∫ëÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:l.fileName,fileSize:l.fileSize,downloadUrl:l.downloadUrl,fileUploadTime:l.fileUploadTime});}}transformFileInfoToInfoList(e,t,n){return [...n.folders.map(s=>({isFolder:true,fileName:s.folderName,fileSize:0,createTime:"",latestTime:"",shareCode:s.shareCode,accessCode:s.accessCode})),...(n.infos||[]).map(s=>({isFolder:false,fileName:s.name_all,fileSize:s.size,createTime:s.time,latestTime:s.time,shareCode:s.id,accessCode:t}))].filter(s=>s!=null)}getFolderInfo(e,t){const n=this;let s=[],i=[],o=[];return e.forEach(l=>{l.isFolder?i.push({fileName:l.fileName,fileSize:0,fileType:"",createTime:l.createTime,latestTime:l.latestTime,isFolder:true,index:t,clickEvent:async()=>{let c=await this.parseFiles(l.shareCode,l.accessCode);return c?n.getFolderInfo(this.transformFileInfoToInfoList(this.shareCode,this.accessCode,c),t+1):[]}}):o.push({fileName:l.fileName,fileSize:l.fileSize,fileType:"",createTime:l.createTime,latestTime:l.latestTime,isFolder:false,index:t,clickEvent:async()=>{let c=this.ruleIndex===1?this.router.root_s(l.shareCode):this.router.root(l.shareCode),u=await this.getPageInfo(c);if(!u)return;let d=await this.getFileDownloadInfo(l.shareCode,l.accessCode,u);if(d)return {url:d.downloadUrl,autoDownload:true,mode:"aBlank"}}});}),i.sort((l,c)=>l.fileName.localeCompare(c.fileName)),o.sort((l,c)=>l.fileName.localeCompare(c.fileName)),s=s.concat(i),s=s.concat(o),s}async getFileDownloadInfo(e,t,n){var c,u,d,h,m,k,b,R,v;let s,i=w.parseHTML(n.responseText,true,true),o=ya(n.responseText),l=i.querySelector('iframe[class^="ifr"]')||i.querySelector('iframe[class^="n_downlink"]');if(l){let N=l.getAttribute("src");g.error("ËØ•ÈìæÊé•ÈúÄË¶ÅÈáçÊñ∞ÈÄöËøáiframeÂú∞ÂùÄËÆøÈóÆËé∑Âèñ‰ø°ÊÅØ",N),f.info("Ê≠£Âú®ËØ∑Ê±Ç‰∏ãËΩΩ‰ø°ÊÅØ");let A=((c=i.querySelector("body div.d > div"))==null?void 0:c.innerText)||((u=i.querySelector("#filenajax"))==null?void 0:u.innerText)||((h=(d=i.querySelector("title"))==null?void 0:d.textContent)==null?void 0:h.replace(/ - ËìùÂ•è‰∫ë$/i,"")),D=o.match(/Êñá‰ª∂Â§ßÂ∞èÔºö<\/span>(.+?)<br>/i)||((m=i.querySelector("div.n_box div.n_file div.n_filesize"))==null?void 0:m.innerText)||((k=i.querySelector(".d2 table tr td .fileinfo:nth-child(1) .fileinforight"))==null?void 0:k.innerText),x=o.match(/‰∏ä‰º†Êó∂Èó¥Ôºö<\/span>(.+?)<br>/i)||((b=i.querySelector("#file[class=''] .n_file_info span.n_file_infos"))==null?void 0:b.innerText)||((R=i.querySelector(".d2 table tr td .fileinfo:nth-child(3) .fileinforight"))==null?void 0:R.innerText)||((v=i.querySelector("#file[class='filter'] .n_file_info span.n_file_infos"))==null?void 0:v.innerText);D?(Array.isArray(D)&&(D=D[D.length-1]),typeof D=="string"&&(D=D.replaceAll("Â§ßÂ∞èÔºö",""))):g.error("Ëß£ÊûêÊñá‰ª∂Â§ßÂ∞è‰ø°ÊÅØÂ§±Ë¥•"),x?(Array.isArray(x)&&(x=x[x.length-1]),x.toString().toLowerCase().startsWith("android")&&(g.error("Ëß£ÊûêÂá∫ÁöÑÊñá‰ª∂‰∏ä‰º†Êó∂Èó¥‰ø°ÊÅØÊòØAndroid/xxxxÂºÄÂ§¥"),x=void 0)):g.error("Ëß£ÊûêÊñá‰ª∂‰∏ä‰º†Êó∂Èó¥‰ø°ÊÅØÂ§±Ë¥•");let S=await this.getLinkByIframe(e,t,N,{fileName:A,fileSize:D,fileUploadTime:x});if(!S)return;s={fileName:A,fileSize:D,downloadUrl:S,fileUploadTime:x};}else {g.warn("ËØ•È°µÈù¢‰∏çÊòØ‰ΩøÁî®iframeËé∑ÂèñÈìæÊé•Ôºå‰ΩøÁî®ÂÖ∂ÂÆÉÊñπÂºèËß£Êûê");let N=o.match(/'sign':'(.+?)',/i)||o.match(this.regexp.sign.match),A="",D="",x=o.match(this.regexp.fileName.match),S=x?x[x.length-1].trim():"",_=o.match(this.regexp.fileSize.match)||o.match(/<div class="n_filesize">Â§ßÂ∞èÔºö(.+?)<\/div>/i),M=_?_[_.length-1].trim():"",I=o.match(this.regexp.uploadTime.match)||o.match(/<span class="n_file_infos">(.+?)<\/span>/i),V=I?I[I.length-1].trim():"",$=o.match(/[\s]+url[\s]+:[\s]+'\/ajaxm.php\?file=([0-9]+)',/i)||o.match(/\/\/url[\s]+:[\s]+'\/ajaxm.php\?file=([0-9]+)',/i),z=$?$[$.length-1]:"1";if(N){D=N[N.length-1],g.info(`Ëé∑ÂèñSign: ${D}`),p.isNotNull(t)?(g.info("‰º†ÂÖ•ÂèÇÊï∞=>ÊúâÂØÜÁ†Å"),A=t):g.info("‰º†ÂÖ•ÂèÇÊï∞=>Êó†ÂØÜÁ†Å");let O=await this.getKNDS(),Y=await E.post({url:this.router.root("ajaxm.php?file="+z),responseType:"json",headers:{accept:"application/json, text/javascript, */*","Content-Type":"application/x-www-form-urlencoded","User-Agent":p.getRandomAndroidUA(),Origin:"https://"+ge.hostname,Referer:this.router.root(e)},data:`action=downprocess&sign=${D}&p=${A}&kd=${O}`});if(!Y.status)return;let te=Y.data;g.info(te);let J=p.toJSON(te.responseText),Ae=`${J.dom}/file/${J.url}`;if(typeof J.url=="string"&&(J.url.startsWith("http")||J.url.startsWith(J.dom))&&(Ae=J.url),J.zt,"ÂØÜÁ†Å‰∏çÊ≠£Á°Æ".indexOf(J.inf)!=-1){f.error("ÂØÜÁ†Å‰∏çÊ≠£Á°Æ!");let Me=await new Promise(Ge=>{C.newAccessCodeView(void 0,"lanzou",this.ruleIndex,e,t,We=>{Ge({accessCode:We.accessCode});},()=>{Ge(void 0);});});if(!Me)return;t=Me.accessCode;let ct=this.ruleIndex===1?this.router.root_s(e):this.router.root(e),Be=await this.getPageInfo(ct);return Be?await this.getFileDownloadInfo(e,t,Be):void 0}else S=J.inf?J.inf:S;s={fileName:S,fileSize:M,fileUploadTime:V,downloadUrl:Ae};}else {let O=o.match(this.regexp.loadDownHost.match),Y=o.match(this.regexp.loadDown.match),te=o.match(this.regexp.appleDown.match),J=te[te.length-1];if(p.isNull(Y)&&(Y=o.match(/var[\s]*(cppat)[\s]*=[\s]*'(.+?)'/i)),p.isNull(O)&&J&&(J=J[J.length-1],O=[J],Y=[""],g.success("Â§öÊñá‰ª∂-ÂΩìÂâçÈìæÊé•ÁåúÊµã‰∏∫ËãπÊûúÁöÑÊñá‰ª∂",J)),p.isNull(O)){f.error("ËìùÂ•è‰∫ëÁõ¥ÈìæÔºöËé∑ÂèñsignÁöÑÂüüÂêçÂ§±Ë¥•ÔºåËØ∑ÂèçÈ¶àÂºÄÂèëËÄÖ",{timeout:3500});return}if(p.isNull(Y)){f.error("ËìùÂ•è‰∫ëÁõ¥ÈìæÔºöËé∑ÂèñsignÂ§±Ë¥•ÔºåËØ∑ÂèçÈ¶àÂºÄÂèëËÄÖ",{timeout:3500});return}let Ae=`${O[O.length-1]}${Y[Y.length-1]}`;s={fileName:S,fileSize:M,fileUploadTime:V,downloadUrl:Ae};}}return s&&K.isForwardDownloadLink("lanzou")&&(s.downloadUrl=K.parseDataToSchemeUri("lanzou",s.downloadUrl)),s}async getPageInfo(e){let t=await E.get({url:e,headers:{Accept:"*/*","User-Agent":p.getRandomPCUA(),Referer:e},allowInterceptConfig:false});if(!t.status){if(g.error(t),t.type==="ontimeout"){f.error("ËØ∑Ê±ÇË∂ÖÊó∂");return}if(p.isNull(t.data.responseText)){f.error("ËØ∑Ê±ÇÂºÇÂ∏∏");return}this.checkPageCode(t.data)&&f.error("ËØ∑Ê±ÇÂ§±Ë¥•ÔºåÊú™Áü•ÊÉÖÂÜµ");return}let n=t.data.responseText;if(p.isNull(n)){g.error(t),f.error("Ëé∑ÂèñÁΩëÈ°µÂÜÖÂÆπ‰∏∫Á©∫");return}if(!this.checkPageCode(t.data)){g.error(t);return}return t.data}checkPageCode(e){let t=e.responseText;return t.match(this.regexp.noFile.match)?(f.error(this.regexp.noFile.tip),false):t.match(this.regexp.noExists.match)?(f.error(this.regexp.noExists.tip),false):t.match(this.regexp.needVipToShare.match)?(f.error(this.regexp.needVipToShare.tip),false):t.match(this.regexp.linkInValid.match)?(f.error(this.regexp.linkInValid.tip),false):true}isMoreFile(e){return e.responseText.match(this.regexp.moreFile.match)?(g.info("ËØ•ÈìæÊé•‰∏∫Â§öÊñá‰ª∂"),true):(g.info("ËØ•ÈìæÊé•‰∏∫ÂçïÊñá‰ª∂"),false)}async parseFiles(e,t){let n=this.ruleIndex===1?this.router.root_s(e):this.router.root(e),s=await this.getPageInfo(n);if(!s)return;let i=s.responseText,o=w.parseHTML(i,true,true),l=Array.from(o.querySelectorAll("#folder a.mlink[href]")).map(_=>{var Y;let M=_.href,V=new URL(M).pathname.match(/^\/([0-9a-zA-Z]{5,})/);if(V==null)return;let $=V[V.length-1],z=_.querySelector(".filename"),O=((Y=z==null?void 0:z.firstChild)==null?void 0:Y.textContent)||"";return {url:M,shareCode:$,accessCode:t,folderName:O}}).filter(_=>_!=null),c,u=i.match(/\'fid\':(.+?),/)[1].replaceAll("'",""),d=i.match(/\'uid\':(.+?),/)[1].replaceAll("'",""),h=1,m=i.match(/\'t\':(.+?),/)[1],k=new RegExp(m+`[\\s]*=[\\s]*('|")(.+?)('|");`),b=i.match(k)[2],R=i.match(/\'k\':(.+?),/)[1],v=new RegExp(R+`[\\s]*=[\\s]*('|")(.+?)('|");`),N=i.match(v)[2],A=e.match(this.regexp.unicode.match)?1:2,D=await this.fileMoreAjax(e,t,{lx:A,fid:u,uid:d,pg:h,t:b,k:N,pwd:t}),x;if(D){g.info("json_dataÔºö",D);const{zt:_,info:M,text:I}=D;if(_!==1)if(_===4)x=I;else if(M!=null&&M.includes("ÂØÜÁ†Å‰∏çÊ≠£Á°Æ")){f.error("ÂØÜÁ†Å‰∏çÊ≠£Á°Æ!");let V=await new Promise($=>{C.newAccessCodeView(void 0,"lanzou",this.ruleIndex,e,t,z=>{$({accssCode:z.accessCode});},()=>{$(void 0);});});return V?await this.parseFiles(e,V.accssCode):void 0}else M!=null&&M.includes("Ê≤°Êúâ‰∫Ü")?x="Ê≤°ÊúâÊñá‰ª∂‰∫Ü":x="Êú™Áü•ÈîôËØØ";Array.isArray(I)&&(c=I);}typeof x=="string"&&g.error(x);let S={folders:l,infos:c};return g.info(S),S}async getLinkByIframe(e,t,n,s){g.info(n,s);let i=this.router.root(n),o=await E.get({url:i,headers:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","User-Agent":p.getRandomPCUA(),Referer:this.router.root(e)}});if(!o.status)return;let l=o.data;g.info(l);let c=l.responseText,u=c.match(/'websignkey'[\s]*:[\s]*'(.+?)'/i)||c.match(/var[\s]*aihidcms[\s]*=[\s]*'(.*)';/i),d=c.match(/var[\s]*ciucjdsdc[\s]*=[\s]*'(.*)';/i),h=c.match(/var[\s]*ajaxdata[\s]*=[\s]*'(.+)';/i),m=c.match(/'sign':[\s]*'(.+)',/i)||c.match(/var[\s]*wp_sign[\s]*=[\s]*'(.*)';/i),k=c.match(/[^\/\/]url[\s]*:[\s]*'(.+?)'[\s]*,/i)||c.match(/url[\s]*:[\s]*'(.+?)'[\s]*,/),b="ajaxm.php",R="",v="",N="",A="",D=await this.getKNDS();if(k?b=k[k.length-1]:f.error("ÊèêÂèñajaxm.phpÁöÑÂÖ∑‰ΩìÂèÇÊï∞Â§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÁöÑ"+b),u)R=u[u.length-1];else {f.error("ajaxm.phpËØ∑Ê±ÇÂèÇÊï∞ websignkey Ëé∑ÂèñÂ§±Ë¥•");return}if(d)v=d[d.length-1];else {f.error("ajaxm.phpËØ∑Ê±ÇÂèÇÊï∞ websign Ëé∑ÂèñÂ§±Ë¥•");return}if(h)N=h[h.length-1];else {f.error("ajaxm.phpËØ∑Ê±ÇÂèÇÊï∞ signs Ëé∑ÂèñÂ§±Ë¥•");return}if(m)A=m[m.length-1];else {f.error("ajaxm.phpËØ∑Ê±ÇÂèÇÊï∞ sign Ëé∑ÂèñÂ§±Ë¥•");return}let x={action:"downprocess",signs:N,sign:A,websign:v,websignkey:R,kd:D,ves:1};g.success("ËØ∑Ê±ÇÁöÑË∑ØÂæÑÂèÇÊï∞Ôºö"+b),g.success(["ajaxm.phpÁöÑËØ∑Ê±ÇÂèÇÊï∞-> ",x]);let S=await E.post(this.router.root(b),{data:p.toSearchParamsStr(x),headers:{Accept:"application/json, text/javascript, */*","Content-Type":"application/x-www-form-urlencoded",Referer:this.router.root(e),"User-Agent":p.getRandomPCUA()}});if(!S.status)return;let _=S.data;g.info(_);let M=p.toJSON(_.responseText),I=`${M.dom}/file/${M.url}`;if(M.zt,await E.get("https://down-load.lanrar.com/file/kdns.js",{allowInterceptConfig:false}),(await E.get("https://boce.lanosso.com/file/kdns2.js",{allowInterceptConfig:false})).status?g.info("ÊµãËØïkilldns2ÊàêÂäüÔºå‰∏çÊîπÂèòÂéüdownloadUrl"):(I+="&lanosso",g.info("ÊµãËØïkilldns2Â§±Ë¥•‰ΩøÁî®ÂèÇÊï∞ lanosso")),g.success("Áõ¥Èìæ",I),"ÂØÜÁ†Å‰∏çÊ≠£Á°Æ".indexOf(M.inf)!=-1)f.error("ÂØÜÁ†Å‰∏çÊ≠£Á°Æ!"),C.newAccessCodeView(void 0,"lanzou",this.ruleIndex,e,t,$=>{this.init({ruleIndex:this.ruleIndex,shareCode:e,accessCode:$.accessCode});});else return s.fileName=p.isNotNull(M.inf)?M.inf:s.fileName,g.info(I),I}async getKNDS(){let e=await E.get("https://down-load.lanrar.com/file/kdns.js",{allowInterceptConfig:false});return e.status&&p.isNotNull(e.data.responseText)?1:0}async fileMoreAjax(e,t,n){let s=p.toFormData({rep:0,up:1,ls:1,...n}),i=this.router.root("filemoreajax.php"),o=await E.post({url:this.router.root("filemoreajax.php"),responseType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","User-Agent":p.getRandomAndroidUA(),Referer:i},data:s});if(!o.status)return;let l=o.data;return g.info(l),p.toJSON(l.responseText)}}const Ye={LanZouDiskApp:"lanZouY-disk-app",EncryptList:["Y","y","0","Z","z","N","n","M","I","6","m","W","w","1","X","x","L","l","K","7","k","i","U","u","2","V","v","J","j","8","G","g","F","S","s","3","T","t","H","h","f","E","e","D","Q","q","4","R","r","9","d","a","C","c","B","O","o","5","P","p","b","A"],decodeChar(r){for(let a=0;a<this.EncryptList.length;a++)if(r==this.EncryptList[a])return a;return  -1},idEncrypt(r){let a=1,e=0;if(r!=""&&r.length>4){let t;r=r.substring(3,r.length-1);for(let n=0;n<r.length;n++)t=r.charAt(r.length-n-1),e+=this.decodeChar(t)*a,a*=62;}return e},encrypt(r){const a=Ue.enc.Utf8.parse(this.LanZouDiskApp),e=Ue.enc.Utf8.parse(r);return Ue.AES.encrypt(e,a,{mode:Ue.mode.ECB,padding:Ue.pad.Pkcs7})},encryptHex(r){return this.encrypt(r,this.LanZouDiskApp).ciphertext.toString().toUpperCase()}};class Ca extends be{constructor(){super(...arguments);G(this,"$data",{devType:6,devModel:"Chrome",extra:2,type:0,offset:1,limit:60});G(this,"uuid");G(this,"userId");G(this,"shareCodeId");}async init(e){var l,c,u,d;let{ruleIndex:t,shareCode:n,accessCode:s}=e;const i=this;i.shareCodeId=i.getDecodeShareCodeId(n),i.uuid=i.getEncodeUUID();let o=await this.recommendList(i.$data.devType,i.$data.devModel,i.uuid,i.$data.extra,i.getEncodeTimeStamp(),i.shareCode,i.$data.type,i.$data.offset,i.$data.limit);if(o&&o.list.length){if((c=(l=o.list[0])==null?void 0:l.map)!=null&&c.userId)i.userId=(d=(u=o.list[0])==null?void 0:u.map)==null?void 0:d.userId;else {f.error("Ëß£ÊûêËé∑Âèñ„ÄêuserId„Äë‰∏∫Á©∫");return}if(o.list[0].folderIds==null){g.success("ËØ•ÈìæÊé•ÊòØ ÂçïÊñá‰ª∂");let h=o.list[0].fileList[0],k=await i.parseFolderInfo(o.list[0].fileList,0)[0].clickEvent();if(k&&!Array.isArray(k)){let b=k.url;K.isForwardDownloadLink("lanzouyx")&&(b=K.parseDataToSchemeUri("lanzouyx",b)),C.staticView.oneFile({title:"ËìùÂ•è‰∫ë‰ºò‰∫´ÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:h.fileName,fileSize:h.fileSize*1024,downloadUrl:b,fileUploadTime:p.formatToTimeStamp(h.updTime),fileLatestTime:p.formatToTimeStamp(h.updTime)});}}else {g.success("ËØ•ÈìæÊé•ÊòØ Â§öÊñá‰ª∂"),f.info("Ê≠£Âú®ÈÄíÂΩíÊñá‰ª∂");let h=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),m=i.parseFolderInfo(o.list[0].fileList,0);h.close(),g.info("ÈÄíÂΩíÂÆåÊØï"),C.staticView.moreFile("ËìùÂ•è‰∫ë‰ºò‰∫´Ëß£Êûê",m);}}}parseFolderInfo(e,t){const n=this;let s=[],i=[],o=[];return e.forEach(l=>{l.fileType===2?i.push({fileName:l.folderName,fileSize:0,fileType:"",createTime:new Date(l.updTime).getTime(),latestTime:new Date(l.updTime).getTime(),isFolder:true,index:t,async clickEvent(c,u){let d=n.getEncodeTimeStamp(),h=l.folderId,m=await n.getFolderInfo(n.$data.devType,n.$data.devModel,n.uuid,n.$data.extra,d,n.shareCode,h,n.$data.offset,n.$data.limit);return m&&m.list?n.parseFolderInfo(m.list,t+1):[]}}):o.push({fileName:l.fileName,fileSize:l.fileSize*1024,fileType:"",createTime:new Date(l.updTime).getTime(),latestTime:new Date(l.updTime).getTime(),isFolder:false,index:t,async clickEvent(){let c=l.fileId,u=l.userId||n.userId,d=n.uuid;if(p.isNull(u)){f.error("Ëé∑Âèñ„ÄêuserId„Äë‰∏∫Á©∫");return}if(p.isNull(d)){f.error("Ëé∑Âèñ„Äêuuid„Äë‰∏∫Á©∫");return}let h=await n.getDownloadFileUrl(...n.getDownloadFileParams(c,u,d));if(h)return K.isForwardDownloadLink("lanzouyx")&&(h=K.parseDataToSchemeUri("lanzouyx",h)),{url:h,autoDownload:true,mode:"aBlank"}}});}),i.sort((l,c)=>l.fileName.localeCompare(c.fileName)),o.sort((l,c)=>l.fileName.localeCompare(c.fileName)),s=s.concat(i),s=s.concat(o),s}async recommendList(e=this.$data.devType,t=this.$data.devModel,n="",s=this.$data.extra,i="",o="",l=this.$data.type,c=this.$data.offset,u=this.$data.limit){let d=await E.post(`https://api.ilanzou.com/unproved/recommend/list?${p.toSearchParamsStr({devType:e,devModel:t,uuid:n,extra:s,timestamp:i,shareId:o,code:this.accessCode,type:l,offset:c,limit:u})}`,{headers:{Accept:"application/json, text/plain, */*",Origin:"https://www.ilanzou.com",Referer:"https://www.ilanzou.com/","Sec-Fetch-Site":"same-site",Host:"api.ilanzou.com","User-Agent":p.getRandomPCUA()},responseType:"json"});if(!d.status)return;let h=p.toJSON(d.data.responseText);if(g.success("Ëé∑ÂèñÈìæÊé•‰ø°ÊÅØÔºö",h),h.code!==200){f.error("ËØ∑Ê±ÇÈìæÊé•‰ø°ÊÅØÂ§±Ë¥•");return}if(!h.list.length){f.error("Ëé∑ÂèñÈìæÊé•‰ø°ÊÅØ‰∏∫Á©∫");return}return h}async getFolderInfo(e=this.$data.devType,t=this.$data.devModel,n="",s=this.$data.extra,i="",o="",l="",c=this.$data.offset,u=this.$data.limit){let d=await E.post(`https://api.ilanzou.com/unproved/share/list?${p.toSearchParamsStr({devType:e,devModel:t,uuid:n,extra:s,timestamp:i,shareId:o,code:this.accessCode,folderId:l,offset:c,limit:u})}`,{headers:{Accept:"application/json, text/plain, */*",Origin:"https://www.ilanzou.com",Referer:"https://www.ilanzou.com/","Sec-Fetch-Site":"same-site",Host:"api.ilanzou.com","User-Agent":p.getRandomPCUA()}});if(!d.status)return;let h=p.toJSON(d.data.responseText);if(g.success("Ëé∑ÂèñÊñá‰ª∂ÂàóË°®‰ø°ÊÅØÔºö",h),h.code===200)return h;f.error(h.msg);}async getDownloadFileUrl(e="",t=1,n=this.$data.devType,s="",i="",o="",l=this.shareCode){return `https://api.ilanzou.com/unproved/file/redirect?${p.toSearchParamsStr({downloadId:e,enable:t,devType:n,uuid:s,timestamp:i,auth:o,shareId:l})}`}getEncodeUUID(e=21){return ((n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((s,i)=>(i&=63,s+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i>62?"-":"_",s),""))(e)}getDecodeShareCodeId(e){return Ye.idEncrypt(e)}getEncodeTimeStamp(e=Date.now()){return Ye.encryptHex(e)}getDownloadFileParams(e,t="",n){const s=this;let i=Date.now(),o=Ye.encryptHex(e+"|"+t),l=1,c=s.getEncodeTimeStamp(i),u=Ye.encryptHex(e+"|"+i);return [o,l,s.$data.devType,n,c,u,s.shareCode]}gotoLogin(){q.confirm({title:{position:"center",text:"ËìùÂ•è‰∫ë‰ºò‰∫´"},content:{text:"ÂøÖÈ°ªÂÖàÂú®„ÄêËìùÂ•è‰∫ë‰ºò‰∫´„ÄëËøõË°åÁôªÂΩïÔºåÁÑ∂ÂêéÁôªÂΩïÊàêÂäüÂêéÂà∑Êñ∞Ëé∑ÂèñÂøÖÂ§áÁöÑ‰∏ãËΩΩÂèÇÊï∞„Äêuuid„ÄëÂíå„ÄêuserId„Äë„ÄÇ",html:false},btn:{reverse:true,position:"end",ok:{text:"ÂâçÂæÄ",enable:true,callback(){window.open("https://www.ilanzou.com","_blank");}}}},C.popsStyle.tianYiYunLoginTip);}}class va extends be{async init(a){let{ruleIndex:e,shareCode:t,accessCode:n}=a,s=ae.getBlankUrl({ruleKeyName:"magnet",ruleIndex:e,shareCode:t,accessCode:n}),i=f.loading("Ê≠£Âú®ËØ∑Ê±ÇApi‰∏≠..."),o=await at.parseFileMetaInfo(s);i.close(),o&&at.showFileMetaInfoDialog(o);}}const Et={isSupport_GM_download(){try{return typeof mt=="function"}catch(r){return console.error(r),false}}};class Aa extends be{constructor(){super(...arguments);G(this,"panelList",[]);G(this,"panelContent","");G(this,"OK_CODE","0000");}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;const i=this;i.panelList=[],i.panelContent="";let o=await i.checkLinkValidity(i.shareCode,i.accessCode);if(o)if(o.isFolder){f.info("Ê≠£Âú®ÈÄíÂΩíÊñá‰ª∂");let l=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),c=await i.getShareFolder(o.data.guid);if(!c){l.close();return}let u=await i.getShareFiles(o.data.guid);if(!u){l.close();return}let d=i.getFolderInfo(o.data.guid,c,u,0);l.close(),g.info("ÈÄíÂΩíÂÆåÊØï"),C.staticView.moreFile("Â•∂ÁâõÂø´‰º†Êñá‰ª∂Ëß£Êûê",d);}else {let l;if(o.zipDownload?l=await i.getZipFileDownloadUrl(i.shareCode,o.guid,o.fileName):l=await i.getDownloadUrl(i.shareCode,o.guid,o.id),!l)return;K.isForwardDownloadLink("nainiu")&&(l=K.parseDataToSchemeUri("nainiu",l)),C.staticView.oneFile({title:"Â•∂ÁâõÂø´‰º†ÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:o.fileName,fileType:o.fileType,fileSize:o.fileSize,downloadUrl:l,fileUploadTime:o.fileUploadTime,fileLatestTime:o.fileLatestTime,clickCallBack:c=>{i.downloadFile(o.fileName,l);}});}}async checkLinkValidity(e,t){const n=this;let s=await n.getShareByUniqueUrl(e);if(!s)return  false;let i=s.code,o=s.message;if(i!==n.OK_CODE)return f.error(o),false;{let l=s.data.needPassword,c=s.data.zipDownload;return l&&p.isNull(t)?(f.error("ÂØÜÁ†ÅÁº∫Â§±!"),C.newAccessCodeView("ÂØÜÁ†ÅÁº∫Â§±","nainiu",n.ruleIndex,n.shareCode,n.accessCode,u=>{n.init({ruleIndex:n.ruleIndex,shareCode:n.shareCode,accessCode:u.accessCode});}),false):c?(f.success("ËØ•ÈìæÊé•‰∏∫zipÂçïÊñá‰ª∂"),{zipDownload:c,guid:s.data.guid,fileSize:p.formatByteToSize(s.data.firstFolder.size),fileName:s.data.firstFolder.title,fileUploadTime:p.formatTime(s.data.firstFolder.created_at),fileLatestTime:p.formatTime(s.data.firstFolder.updated_at)}):s.data.firstFile==null?(f.success("ËØ•ÈìæÊé•‰∏∫Êñá‰ª∂Â§πÁ±ªÂûã"),{isFolder:true,guid:s.data.guid,firstFolder:s.data.firstFolder,data:s.data}):{zipDownload:c,guid:s.data.guid,id:s.data.firstFile.id,fileSize:p.formatByteToSize(s.data.firstFile.file_info.size),fileName:s.data.firstFile.file_info.title,fileType:s.data.firstFile.file_info.format,fileUploadTime:p.formatTime(s.data.firstFile.created_at),fileLatestTime:p.formatTime(s.data.firstFile.updated_at)}}}getFolderInfo(e,t,n,s=0){const i=this;let o=[],l=[],c=[];return t.forEach(u=>{o.push({fileName:u.title,fileSize:0,fileType:"",createTime:u.created_at,latestTime:u.updated_at,isFolder:true,index:s,async clickEvent(){if(!u.child_folder_count&&!u.content_count)return [];let d=await i.getShareFolder(e,u.id);if(!d)return [];let h=await i.getShareFiles(e,u.id);return h?i.getFolderInfo(e,d,h,s+1):[]}});}),n.forEach(u=>{let d=u.file_info.title,h=u.file_info.format??"";h&&(d=d+"."+h),o.push({fileName:d,fileSize:u.file_info.size,fileType:h,createTime:u.created_at,latestTime:u.updated_at,isFolder:false,index:s,async clickEvent(){let m=await i.getDownloadUrl(i.shareCode,e,u.id);m&&(K.isForwardDownloadLink("nainiu")&&(m=K.parseDataToSchemeUri("nainiu",m)),i.downloadFile(d,m));}});}),l.sort((u,d)=>u.fileName.localeCompare(d.fileName)),c.sort((u,d)=>u.fileName.localeCompare(d.fileName)),o=o.concat(l),o=o.concat(c),g.info("getFolderInfo",o),o}async parseMoreFile(e,t){}async getShareFolder(e,t="",n=0,s=100){const i=this;let o=await E.get(`https://cowtransfer.com/core/api/transfer/share/folders?transferGuid=${e}&folderId=${t}&page=${n}&size=${s}`,{headers:{Accept:"application/json","User-Agent":p.getRandomPCUA(),Referer:"https://cowtransfer.com/"}});if(g.success(o),!o.status)return;let l=p.toJSON(o.data.responseText);if(l.code!==i.OK_CODE){f.error(l.message);return}let c=l.data.folders;if(!Array.isArray(c)){f.error("data.folders‰∏çÊòØÊï∞ÁªÑ");return}return c}async getShareFiles(e,t="",n=0,s=20,i=false){const o=this;let l=await E.get(`https://cowtransfer.com/core/api/transfer/share/files?transferGuid=${e}&folderId=${t}&page=${n}&size=${s}&subContent=${i}`,{headers:{Accept:"application/json","User-Agent":p.getRandomPCUA(),Referer:"https://cowtransfer.com/"}});if(g.success(l),!l.status)return;let c=p.toJSON(l.data.responseText);if(c.code!==o.OK_CODE){f.error(c.message);return}let u=c.data.files;if(!Array.isArray(u)){f.error("data.files‰∏çÊòØÊï∞ÁªÑ");return}return u}async getShareByUniqueUrl(e){let t=`https://cowtransfer.com/core/api/transfer/share?uniqueUrl=${e}`,n=await E.get({url:t,headers:{"User-Agent":p.getRandomPCUA(),Referer:"https://cowtransfer.com/s/"+e}});if(g.info(n),!n.status)return;let s=n.data,i=p.toJSON(s.responseText);return g.info("ËΩ¨Êç¢ÁöÑJSON",i),i}async getDownloadUrl(e,t="",n=""){const s=this;let i=`https://cowtransfer.com/core/api/transfer/share/download?transferGuid=${t}&fileId=${n}`,o=await E.get({url:i,headers:{"User-Agent":p.getRandomPCUA(),Referer:"https://cowtransfer.com/s/"+e}});if(g.info(o),!o.status)return;let l=o.data,c=p.toJSON(l.responseText);if(g.info("ËΩ¨Êç¢ÁöÑJSON",c),c.code===s.OK_CODE)return c.data.downloadUrl;f.error(`Â•∂ÁâõÂø´‰º†-Ëé∑ÂèñÁõ¥ÈìæÔºö${c.message}`);}async getZipFileDownloadUrl(e,t="",n=""){const s=this;let i=`https://cowtransfer.com/core/api/transfer/share/download?transferGuid=${t}&title=${n}`,o=await E.get({url:i,headers:{"User-Agent":p.getRandomPCUA(),Referer:"https://cowtransfer.com/s/"+e}});if(g.info(o),!o.status)return;let l=o.data,c=p.toJSON(l.responseText);if(g.info("ËΩ¨Êç¢ÁöÑJSON",c),c.code===s.OK_CODE)return c.data.downloadUrl;f.error(`Â•∂ÁâõÂø´‰º†-Ëé∑ÂèñÁõ¥ÈìæÔºö${c.message}`);}async downloadFile(e,t){if(g.info("‰∏ãËΩΩÊñá‰ª∂Ôºö",e,t),window.location.hostname==="cowtransfer.com"){window.open(t,"_blank");return}if(!Et.isSupport_GM_download()){f.error("ÂΩìÂâçËÑöÊú¨ÁéØÂ¢É‰∏çÊîØÊåÅAPI „ÄêGM_download„Äë");return}f.info(`Ë∞ÉÁî®„ÄêGM_download„Äë‰∏ãËΩΩÔºö${e}`);let n=null,s=false,i=false,o=f.loading("‰∏ãËΩΩ‰∏≠...",{showClose:true,onClose(){!s&&typeof n=="function"&&n();}}),l=mt({url:t,name:e,headers:{Referer:"https://cowtransfer.com/s/"+this.shareCode},onload(){s=true,o.close(),f.success(`‰∏ãËΩΩ ${e} Â∑≤ÂÆåÊàê`,{consoleLogContent:true});},onprogress(c){if(typeof c=="object"&&"loaded"in c&&"total"in c&&!i){let d=(c.loaded/c.total*100).toFixed(2);o.setText(`‰∏ãËΩΩ‰∏≠...${d}%`),c.loaded===c.total&&(i=true);}},onerror(c){o.close(),g.error("‰∏ãËΩΩÂ§±Ë¥•errorüëâ",c),typeof c=="object"&&c.error?f.error(`‰∏ãËΩΩ ${e} Â§±Ë¥•ÊàñÂ∑≤ÂèñÊ∂à ÂéüÂõ†Ôºö${c.error}`,{timeout:6e3,consoleLogContent:true}):f.error(`‰∏ãËΩΩ ${e} Â§±Ë¥•ÊàñÂ∑≤ÂèñÊ∂à`,{consoleLogContent:true});},ontimeout(){o.close(),f.error(`‰∏ãËΩΩ ${e} ËØ∑Ê±ÇË∂ÖÊó∂`,{consoleLogContent:true});}});typeof l=="object"&&l!=null&&"abort"in l&&(n=l.abort);}}class Sa extends be{constructor(){super(...arguments);G(this,"shareId");G(this,"shareMode",1);G(this,"code",{ShareNotFoundFlatDir:"Êä±Ê≠âÔºåËØ•Êñá‰ª∂ÁöÑÂàÜ‰∫´Âπ≥Èì∫ÁõÆÂΩïÊú™ÊâæÂà∞",ShareNotFound:"Êä±Ê≠âÔºåÊÇ®ËÆøÈóÆÁöÑÈ°µÈù¢Âú∞ÂùÄÊúâËØØÔºåÊàñËÄÖËØ•È°µÈù¢‰∏çÂ≠òÂú®„ÄÇ",ShareAuditNotPass:"Êä±Ê≠âÔºåËØ•ÂÜÖÂÆπÂÆ°Ê†∏‰∏çÈÄöËøá",FileNotFound:"Êä±Ê≠âÔºåÊñá‰ª∂‰∏çÂ≠òÂú®",ShareExpiredError:"Êä±Ê≠âÔºåÊÇ®ËÆøÈóÆÁöÑÈ°µÈù¢Âú∞ÂùÄÊúâËØØÔºåÊàñËÄÖËØ•È°µÈù¢‰∏çÂ≠òÂú®",ShareAuditWaiting:"Êä±Ê≠âÔºåËØ•ÈìæÊé•Â§Ñ‰∫éÂÆ°Ê†∏‰∏≠",ShareInfoNotFound:"Êä±Ê≠âÔºåÊÇ®ËÆøÈóÆÁöÑÈ°µÈù¢Âú∞ÂùÄÊúâËØØÔºåÊàñËÄÖËØ•È°µÈù¢‰∏çÂ≠òÂú®",FileTooLarge:"Êä±Ê≠âÔºåÊñá‰ª∂Â§™Â§ßÔºå‰∏çÊîØÊåÅ‰∏ãËΩΩ",InvalidSessionKey:"Â§©Áøº‰∫ëPCÁ´ØCookieÊú™ÁîüÊàêÔºåÊòØÂê¶ÂâçÂéªÁôªÂΩïÔºü<br />&nbsp;&nbsp;&nbsp;&nbsp;(Ê≥®ÊÑè,ÈúÄË¶ÅÂΩìÂâçÊµèËßàÂô®ÁöÑUAÂàáÊç¢ÊàêPC‰∏îÂú®ÁôªÂΩïÂêéË¶ÅÁ≠âÂæÖËøõÂÖ•‰∏™‰∫∫‰∫ëÁ©∫Èó¥ÂêéÁîüÊàêCookieÔºå‰∏çÊòØÊâãÊú∫Á´ØÊµèËßàÁöÑ‰∏™‰∫∫‰∫ëÁ©∫Èó¥ÔºåÈÇ£Ê†∑ÁîüÊàêÁöÑCookieÊó†Ê≥ï‰ΩøÁî®)"});}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;const i=this;let o=await i.getShareInfoByCodeV2(n);if(o){if(g.info("Ëß£ÊûêÁöÑJSON‰ø°ÊÅØ",o),o.needAccessCode&&p.isNull(i.accessCode)){f.error("ÂØÜÁ†Å‰∏çÊ≠£Á°Æ!"),C.newAccessCodeView(void 0,"tianyiyun",i.ruleIndex,i.shareCode,i.accessCode,l=>{i.init({ruleIndex:i.ruleIndex,shareCode:i.shareCode,accessCode:l.accessCode});});return}if("shareId"in o)this.shareId=o.shareId;else {let l=await i.getShareId(n,s);l&&(this.shareId=l);}if("shareMode"in o&&(this.shareMode=o.shareMode),this.shareId!=null)if(o.isFolder){f.info("Ê≠£Âú®ÈÄíÂΩíÊñá‰ª∂");let l=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),c=o.fileId,u=await i.listShareDir(n,s,void 0,void 0,c,c,void 0,this.shareId,void 0,void 0,void 0);if(!u){l.close();return}let d=i.getFolderInfo(n,s,u,0);l.close(),g.info("ÈÄíÂΩíÂÆåÊØï"),C.staticView.moreFile("Â§©Áøº‰∫ëÊñá‰ª∂Ëß£Êûê",d);return}else {let l=await i.getDownloadUrl(i.shareCode,i.accessCode,o.fileId,this.shareId);l&&(K.isForwardDownloadLink("tianyiyun")&&(l=K.parseDataToSchemeUri("tianyiyun",l)),C.staticView.oneFile({title:"Â§©Áøº‰∫ëÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:o.fileName,fileSize:p.formatByteToSize(o.fileSize),downloadUrl:l,fileUploadTime:o.fileCreateDate,fileLatestTime:o.fileLastOpTime}));}}}async getUserBriefInfo(e){const t=this;let n=await E.get("https://cloud.189.cn/api/portal/v2/getUserBriefInfo.action",{headers:{Accept:"application/json;charset=UTF-8",Referer:"https://cloud.189.cn/web/share?code="+e,"User-Agent":p.getRandomPCUA()},allowInterceptConfig:false});if(g.info(n),!n.status){let i=p.toJSON(n.data.responseText);i.res_code in t.code?f.error(t.code[i.res_code]):f.error("ËØ∑Ê±ÇÂºÇÂ∏∏");return}let s=p.toJSON(n.data.responseText);if(s.res_code===0)return s}async getShareInfoByCodeV2(e){const t=this;let n=await E.post({url:"https://cloud.189.cn/api/open/share/getShareInfoByCodeV2.action",data:`shareCode=${e}`,headers:{Accept:"application/json;charset=UTF-8","Content-Type":"application/x-www-form-urlencoded","User-Agent":p.getRandomPCUA(),"Sign-Type":1,Referer:"https://cloud.189.cn/web/share?code="+e,Origin:"https://cloud.189.cn"},allowInterceptConfig:false});if(!n.status){let o=p.toJSON(n.data.responseText);g.error("Ëé∑Âèñ‰∏ãËΩΩÂèÇÊï∞Â§±Ë¥•ÁöÑJSON‰ø°ÊÅØ",o),o.res_code in t.code?f.error(t.code[o.res_code]):f.error(o.res_message);return}let s=n.data;g.info(s);let i=p.toJSON(s.responseText);if(i.res_code==0)return i;t.code.hasOwnProperty(i.res_code)?f.error(t.code[i.res_code]):f.error("Ëé∑ÂèñFileIdÂ§±Ë¥•");}async getShareId(e,t){let n=await E.get({url:`https://cloud.189.cn/api/open/share/checkAccessCode.action?shareCode=${e}&accessCode=${t}`,headers:{Accept:"application/json;charset=UTF-8","Cache-Control":"no-cache","User-Agent":p.getRandomPCUA(),"Sign-Type":1,Referer:`https://cloud.189.cn/web/share?code=${e}`},responseType:"json"});if(!n.status)return;let s=n.data;g.info(s);let i=p.toJSON(s.responseText);if(i.res_code===0&&"shareId"in i)return i.shareId;f.error("Ëé∑ÂèñshareIdÂ§±Ë¥•"),g.info(i);}getNoCacheValue(){let e="";for(let t=0;t<17;t++)e+=p.getRandomValue(1,9);return "0."+e}async getDownloadUrl(e,t,n,s){const i=this;let o=await E.get({url:`https://cloud.189.cn/api/open/file/getFileDownloadUrl.action?fileId=${n}&dt=1&shareId=${s}`,headers:{Accept:"application/json;charset=UTF-8","Cache-Control":"no-cache","User-Agent":p.getRandomPCUA(),Referer:`https://cloud.189.cn/web/share?code=${e}`,"Sign-Type":1},responseType:"json",allowInterceptConfig:false});if(g.info(o),!o.status){let u=p.toJSON(o.data.responseText);u.errorCode==="InvalidSessionKey"?i.gotoLogin(i.code.InvalidSessionKey):u.res_code in i.code?f.error(i.code[u.res_code]):f.error("ËØ∑Ê±ÇÂºÇÂ∏∏");return}let l=o.data,c=p.toJSON(l.responseText);if(g.info(c),c.res_code===0)return c.fileDownloadUrl;c.res_code==="InvalidSessionKey"||c.errorCode==="InvalidSessionKey"?i.gotoLogin(i.code.InvalidSessionKey):i.code.hasOwnProperty(c.res_code)?f.error(i.code[c.res_code]):(f.error("ËØ∑Ê±ÇÂ§±Ë¥•"),g.error(l));}gotoLogin(e=""){q.confirm({title:{position:"center",text:"Â§©Áøº‰∫ë"},content:{text:e,html:false},btn:{reverse:true,position:"end",ok:{text:"ÂâçÂæÄ",enable:true,callback(){window.open("https://cloud.189.cn/api/portal/loginUrl.action?redirectURL=https://cloud.189.cn/web/main","_blank");}}}},C.popsStyle.tianYiYunLoginTip);}async listShareDir(e,t,n=1,s=60,i,o,l=true,c,u=5,d="lastOpTime",h=true){const m=this,k={pageNum:n,pageSize:s,fileId:i,shareDirFileId:o,isFolder:l,shareId:c,shareMode:this.shareMode,iconOption:u,orderBy:d,descending:h,accessCode:t};let b=await E.get(`https://cloud.189.cn/api/open/share/listShareDir.action?${p.toSearchParamsStr(k)}`,{headers:{Accept:"application/json;charset=UTF-8",Referer:`https://cloud.189.cn/web/share?code=${e}`,"Sign-Type":1,"User-Agent":p.getRandomPCUA()},responseType:"json",allowInterceptConfig:false});if(!b.status){let N=p.toJSON(b.data.responseText);g.error("Ëß£ÊûêÊñá‰ª∂Â§π‰ø°ÊÅØÂ§±Ë¥•",N),N.res_code in m.code?f.error(m.code[N.res_code]):"res_message"in N?f.error(N.res_message):f.error("Ëß£ÊûêÊñá‰ª∂Â§π‰ø°ÊÅØÂ§±Ë¥•");return}let R=b.data;g.info(R);let v=p.toJSON(R.responseText);if(v.res_code==0)return v.fileListAO;m.code.hasOwnProperty(v.res_code)?f.error(m.code[v.res_code]):f.error("Ëé∑ÂèñFileIdÂ§±Ë¥•");}getFolderInfo(e,t,n,s=0){const i=this;let o=[],l=[],c=[];return n.folderList.forEach(u=>{o.push({fileName:u.name,fileSize:0,fileType:"",createTime:p.formatToTimeStamp(u.createDate),latestTime:p.formatToTimeStamp(u.lastOpTime),isFolder:true,index:s,async clickEvent(){let d=await i.listShareDir(e,t,1,100,u.id,u.id,void 0,i.shareId,void 0,void 0,void 0);return d?i.getFolderInfo(e,t,d,s+1):[]}});}),n.fileList.forEach(u=>{o.push({fileName:u.name,fileSize:u.size,fileType:"",createTime:p.formatToTimeStamp(u.createDate),latestTime:p.formatToTimeStamp(u.lastOpTime),isFolder:false,index:s,async clickEvent(){let d=await i.getDownloadUrl(e,t,u.id,i.shareId);if(d)return K.isForwardDownloadLink("tianyiyun")&&(d=K.parseDataToSchemeUri("tianyiyun",d)),{autoDownload:true,mode:"aBlank",url:d}}});}),l.sort((u,d)=>u.fileName.localeCompare(d.fileName)),c.sort((u,d)=>u.fileName.localeCompare(d.fileName)),o=o.concat(l),o=o.concat(c),g.info("getFolderInfo",o),o}}class _a extends be{async init(a){let{ruleIndex:e,shareCode:t,accessCode:n}=a;const s=this;if(f.info("Ê£ÄÊü•ÊòØÂê¶Â∑≤ÁôªÂΩïUCÁΩëÁõò"),!await s.isLogin()){s.gotoLogin("Ê£ÄÊµãÂà∞Â∞öÊú™ÁôªÂΩïUCÁΩëÁõòÔºåÊòØÂê¶ÂâçÂéªÁôªÂΩïÔºü<br />&nbsp;&nbsp;&nbsp;&nbsp;(Ê≥®ÊÑè,ÈúÄË¶ÅÂΩìÂâçÊµèËßàÂô®ÁöÑUAÂàáÊç¢ÊàêPCÊâçÊúâÁôªÂΩïÈÄâÈ°π)");return}let o=await s.getStoken(s.shareCode,s.accessCode);if(!o)return;let l=await s.getDetail(s.shareCode,s.accessCode,o);if(!l){f.error("UCÁΩëÁõòÔºöËé∑ÂèñdetailÂ§±Ë¥•");return}if(l.length===1&&l[0].dir==false&&l[0].file_type===1){let c=l[0],u=await s.getDownload(s.shareCode,o,c.fid,c.share_fid_token);if(!u)return;if(!u[0].download_url){f.error("Ëé∑Âèñdownload_urlÂ§±Ë¥•");return}C.staticView.oneFile({title:"UCÁΩëÁõòÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:u[0].file_name,fileSize:p.formatByteToSize(u[0].size),downloadUrl:u[0].download_url,fileUploadTime:p.formatTime(u[0].created_at),fileLatestTime:p.formatTime(u[0].last_update_at),clickCallBack(){s.downloadFile(u[0].file_name,u[0].download_url);}});}else {f.info("Ê≠£Âú®ÈÄíÂΩíÊñá‰ª∂");let c=f.loading("Ê≠£Âú®Ëß£ÊûêÂ§öÊñá‰ª∂‰∏≠ÔºåËØ∑Á®çÂêé..."),u=s.getFolderInfo(l,o,0);c.close(),g.info("ÈÄíÂΩíÂÆåÊØï"),C.staticView.moreFile("UCÁΩëÁõòÊñá‰ª∂Ëß£Êûê",u);return}}async isLogin(){let a=await E.get("https://drive.uc.cn/",{headers:{"User-Agent":p.getRandomPCUA()}});if(g.success("Âà§Êñ≠ÊòØÂê¶Â∑≤ÁôªÂΩïUCÁΩëÁõò",a),!!a.status)return a.data.finalUrl==="https://drive.uc.cn/list"?"Â∑≤ÁôªÂΩï":false}downloadFile(a,e){if(g.info("Ë∞ÉÁî®„ÄêGM_download„Äë‰∏ãËΩΩÔºö",arguments),window.location.hostname==="drive.uc.cn"){window.open(e,"_blank");return}if(!Et.isSupport_GM_download()){f.error("ÂΩìÂâçËÑöÊú¨ÁéØÂ¢É‰∏çÊîØÊåÅAPI „ÄêGM_download„Äë");return}f.info(`Ë∞ÉÁî®„ÄêGM_download„Äë‰∏ãËΩΩÔºö${a}`);let t=null,n=false,s=false,i=f.loading("‰∏ãËΩΩ‰∏≠...",{showClose:true,onClose(){!n&&typeof t=="function"&&t();}}),o=mt({url:e,name:a,headers:{Referer:"https://drive.uc.cn/"},onload(){n=true,i.close(),f.success(`‰∏ãËΩΩ ${a} Â∑≤ÂÆåÊàê`,{consoleLogContent:true});},onprogress(l){if(typeof l=="object"&&"loaded"in l&&"total"in l&&!s){let u=(l.loaded/l.total*100).toFixed(2);i.setText(`‰∏ãËΩΩ‰∏≠...${u}%`),l.loaded===l.total&&(s=true);}},onerror(l){i.close(),g.error("‰∏ãËΩΩÂ§±Ë¥•errorüëâ",l),typeof l=="object"&&l.error?f.error(`‰∏ãËΩΩ ${a} Â§±Ë¥•ÊàñÂ∑≤ÂèñÊ∂à ÂéüÂõ†Ôºö${l.error}`,{timeout:6e3,consoleLogContent:true}):f.error(`‰∏ãËΩΩ ${a} Â§±Ë¥•ÊàñÂ∑≤ÂèñÊ∂à`,{consoleLogContent:true});},ontimeout(){i.close(),f.error(`‰∏ãËΩΩ ${a} ËØ∑Ê±ÇË∂ÖÊó∂`,{consoleLogContent:true});}});typeof o=="object"&&o!=null&&"abort"in o&&(t=o.abort);}gotoLogin(a=""){q.confirm({title:{position:"center",text:"UCÁΩëÁõò"},content:{text:a,html:false},btn:{reverse:true,position:"end",ok:{text:"ÂâçÂæÄ",enable:true,callback(){window.open("https://drive.uc.cn","_blank");}}}},C.popsStyle.tianYiYunLoginTip);}async getStoken(a,e){let t=await E.post("https://pc-api.uc.cn/1/clouddrive/share/sharepage/token?entry=ft&fr=pc&pr=UCBrowser",{data:JSON.stringify({share_for_transfer:true,passcode:e,pwd_id:a}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=UTF-8","User-Agent":p.getRandomPCUA(),Origin:"https://drive.uc.cn",Referer:"https://drive.uc.cn/"},allowInterceptConfig:false});if(!t.status){let s=p.toJSON(t.data.responseText);g.error("Ëé∑ÂèñstokenÂ§±Ë¥•JSON‰ø°ÊÅØ",s),"message"in s?f.error(s.message):f.error("ËØ∑Ê±ÇÂºÇÂ∏∏ÔºåËé∑ÂèñstokenÂ§±Ë¥•");return}let n=p.toJSON(t.data.responseText);if(g.info("Ëé∑ÂèñstokenÔºö",n),n.code!==0){g.error("Ëé∑ÂèñstokenÂ§±Ë¥•",n),f.error("Ëé∑ÂèñstokenÂ§±Ë¥•");return}return n.data.stoken}async getDetail(a,e,t,n=0,s=0,i=1,o=50,l=0,c=0,u=1){let d=await E.get(`https://pc-api.uc.cn/1/clouddrive/transfer_share/detail?pr=UCBrowser&fr=h5&pwd_id=${a}&__t=${new Date().getTime()}&passcode=${e}&stoken=${encodeURIComponent(t)}&pdir_fid=${n}&force=${s}&_page=${i}&_size=${o}&_fetch_banner=${l}&_fetch_share=${c}&_fetch_total=${u}&_sort=${encodeURIComponent("file_type:asc,file_name:asc")}`,{headers:{Accept:"application/json, text/plain, */*","User-Agent":p.getRandomPCUA(),Origin:"https://drive.uc.cn",Referer:"https://drive.uc.cn/"}});if(!d.status)return;let h=p.toJSON(d.data.responseText);if(g.info("Ëé∑ÂèñdetailÔºö",h),h.code!==0){g.error("Ëé∑ÂèñdetailÂ§±Ë¥•",h),f.error("Ëé∑ÂèñdetailÂ§±Ë¥•");return}let m=h.metadata;return m&&m._total&&m._total>m._size?await this.getDetail(a,e,t,n,s,i,m._total,l,c,u):h.data.list}async getDownload(a,e,t,n){let s=await E.post("https://pc-api.uc.cn/1/clouddrive/file/download?entry=ft&fr=pc&pr=UCBrowser",{data:JSON.stringify({fids:[t],pwd_id:a,stoken:e,fids_token:[n]}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=UTF-8","User-Agent":p.getRandomPCUA(),Origin:"https://drive.uc.cn",Referer:"https://drive.uc.cn/"}});if(!s.status)return;let i=p.toJSON(s.data.responseText);if(g.info("Ëé∑ÂèñdownloadÔºö",i),i.code!==0){g.error("Ëé∑ÂèñdownloadÂ§±Ë¥•",i),f.error("Ëé∑ÂèñdownloadÂ§±Ë¥•");return}if(i.data.length===0){g.error("Ëé∑Âèñdownload detailÂ§±Ë¥•",i),f.error("Ëé∑Âèñdownload detailÂ§±Ë¥•Â§±Ë¥•");return}return i.data}getFolderInfo(a,e,t=0){const n=this;let s=[],i=[],o=[];return a.forEach(l=>{l.dir==false&&l.file_type===1?o.push({fileName:l.file_name,fileSize:l.size,fileType:"",createTime:l.created_at,latestTime:l.updated_at,isFolder:false,index:t,async clickEvent(){let c="",u=await n.getDownload(n.shareCode,e,l.fid,l.share_fid_token);if(u&&u.length?c=u[0].download_url:c="",l.ban)f.error("Êñá‰ª∂Â∑≤Ë¢´Á¶ÅÊ≠¢‰∏ãËΩΩ");else {let d=c;if(K.isForwardDownloadLink("uc")&&(d=K.parseDataToSchemeUri("uc",d)),d===c)n.downloadFile(l.file_name,c);else return {autoDownload:true,mode:"aBlank",url:c}}}}):i.push({fileName:l.file_name,fileSize:l.size,fileType:"",createTime:l.created_at,latestTime:l.updated_at,isFolder:true,index:t,async clickEvent(){if(l.include_items===0)return g.success("ÈáåÈù¢Ê≤°ÊúâÊñá‰ª∂"),[];let c=await n.getDetail(n.shareCode,n.accessCode,e,l.fid);return c?n.getFolderInfo(c,e,t+1):[]}});}),i.sort((l,c)=>l.fileName.localeCompare(c.fileName)),o.sort((l,c)=>l.fileName.localeCompare(c.fileName)),s=s.concat(i),s=s.concat(o),g.info("getFilesInfoByRec",s),s}}class Ra extends be{constructor(){super(...arguments);G(this,"token");G(this,"code",{1004:"no token",1008:"ÊÇ®Ê≤°ÊúâÊùÉÈôêËÆøÈóÆ",1013:"Á≥üÁ≥ïÔºåÊ≠§‰ªªÂä°Â∑≤ËøáÊúüÈîÄÊØÅÔºå‰∏ãÊ¨°Ë¶ÅËÆ∞ÂæóÁª≠Êúü",1066:"ÂØπÊñπËÆæÁΩÆÁöÑ‰∏ãËΩΩ / È¢ÑËßàÊ¨°Êï∞Â∑≤Áî®ÂÆå",1088:"Á≥üÁ≥ïÔºåÊÇ®ËÆøÈóÆÁöÑÈ°µÈù¢‰∏çÂ≠òÂú®"});}async init(e){let{ruleIndex:t,shareCode:n,accessCode:s}=e;if(f.info("Ê≠£Âú®ËØ∑Ê±ÇÁõ¥Èìæ‰∏≠..."),!await this.getWssToken())return;let o=await this.getPid();o&&await this.getFileNList(o.bid,o.pid);}async getWssToken(){const e=this;let t=await E.post("https://www.wenshushu.cn/ap/login/anonymous",{responseType:"json",data:JSON.stringify({dev_info:"{}"}),headers:{Accept:"application/json, text/plain, */*","User-Agent":p.getRandomAndroidUA(),Referer:"https://www.wenshushu.cn/f/"+e.shareCode}});if(g.success(t),!t.status)return;let n=p.toJSON(t.data.responseText);if(n.code===0)return e.token=n.data.token,n.data.token;n.code in e.code?f.error(e.code[n.code]):f.error("Ëé∑ÂèñwssÂ§±Ë¥•");}async getPid(){const e=this;let t=await E.post({url:"https://www.wenshushu.cn/ap/task/mgrtask",responseType:"json",data:JSON.stringify({tid:e.shareCode,password:"",ufileid:""}),headers:{Accept:"application/json, text/plain, */*","User-Agent":p.getRandomAndroidUA(),Referer:"https://www.wenshushu.cn/f/"+e.shareCode,"x-token":e.token}});if(g.success(t),!t.status)return;let n=t.data,s=p.toJSON(n.responseText);if(s.code===0)return {bid:s.data.boxid,pid:s.data.ufileid};s.code in e.code?f.error(e.code[s.code]):f.error("Ëé∑ÂèñpidÂ§±Ë¥•");}async getFileNList(e,t){const n=this;let s=await E.post("https://www.wenshushu.cn/ap/ufile/nlist",{responseType:"json",data:JSON.stringify({start:0,sort:{name:"asc"},bid:e,pid:t,options:{uploader:"true"},size:50}),headers:{Accept:"application/json, text/plain, */*","User-Agent":p.getRandomAndroidUA(),Referer:"https://www.wenshushu.cn/f/"+n.shareCode,"x-token":n.token}});if(g.success(s),!s.status)return;let i=s.data,o=p.toJSON(i.responseText);o.code===0?o.data.fileList[0].type===2?(f.error("ËØ•ÈìæÊé•‰∏∫Â§öÂ±ÇÁ∫ßÊñá‰ª∂ÂµåÂ•óÔºåË∑≥ËΩ¨"),ye.openBlankUrl(ae.getBlankUrl({ruleKeyName:"wenshushu",ruleIndex:n.ruleIndex,shareCode:n.shareCode,accessCode:n.accessCode}),"wenshushu",n.ruleIndex,n.shareCode,n.accessCode)):await n.getDownloadUrl(o.data.fileList[0]):o.code in n.code?f.error(n.code[o.code]):f.error("Ëé∑ÂèñÊñá‰ª∂‰ø°ÊÅØÂ§±Ë¥•");}async getDownloadUrl(e){const t=this;let n=e.fname,s=p.formatByteToSize(e.size),i=await E.post("https://www.wenshushu.cn/ap/dl/sign",{responseType:"json",data:JSON.stringify({ufileid:e.fid,consumeCode:0}),headers:{Accept:"application/json, text/plain, */*","User-Agent":p.getRandomAndroidUA(),Referer:"https://www.wenshushu.cn/f/"+t.shareCode,"x-token":t.token}});if(!i.status)return;g.success(i);let o=i.data,l=p.toJSON(o.responseText);if(l.code==0){let c=l.data.url;c===""?f.error("ÂØπÊñπÁöÑÂàÜ‰∫´ÊµÅÈáè‰∏çË∂≥"):(K.isForwardDownloadLink("wenshushu")&&(c=K.parseDataToSchemeUri("wenshushu",c)),C.staticView.oneFile({title:"ÊñáÂèîÂèîÂçïÊñá‰ª∂Áõ¥Èìæ",fileName:n,fileSize:s,downloadUrl:c}));}else l.data in t.code?f.error(t.code[l.data]):f.error("Ëé∑Âèñ‰∏ãËΩΩÈìæÊé•Â§±Ë¥•");}}const rt={rule:{baidu:ma,lanzou:xa,lanzouyx:Ca,tianyiyun:Sa,wenshushu:Ra,_123pan:fa,jianguoyun:ka,nainiu:Aa,uc:_a,aliyun:ga,chengtong:ba,magnet:va,ed2k:wa}},pt={replaceText(r,a,e){if(Array.isArray(a))for(const t of a)r=r.replace(t,e);else r=r.replace(a,e);return r}},ae={getBlankUrl(r){var t,n,s,i,o,l,c,u,d,h;let a=((t=r.debugConfig)==null?void 0:t.config)??L.$rule.ruleOption[r.ruleKeyName][r.ruleIndex],e=a.blank;if(r.shareCode&&(e=se.replaceParam(e,{shareCode:r.shareCode}),(s=(n=r.debugConfig)==null?void 0:n.logCallBack)==null||s.call(n,{status:true,msg:["Ê≠£Âàô: blank","‰ΩúÁî®: Áî®‰∫éÁÇπÂáªË∑≥ËΩ¨ÁöÑÈìæÊé•","Â§áÊ≥®: ÂØπshareCodeËøõË°åÂèÇÊï∞ÊõøÊç¢",`ÁªìÊûú: ${e}`]})),r.accessCode&&r.accessCode!==""?(e=se.replaceParam(e,{accessCode:r.accessCode}),(o=(i=r.debugConfig)==null?void 0:i.logCallBack)==null||o.call(i,{status:true,msg:["Ê≠£Âàô: blank","‰ΩúÁî®: Áî®‰∫éÁÇπÂáªË∑≥ËΩ¨ÁöÑÈìæÊé•","Â§áÊ≥®: ÂØπaccessCodeËøõË°åÂèÇÊï∞ÊõøÊç¢",`ÁªìÊûú: ${e}`]})):(e=pt.replaceText(e,L.$extraRule.noAccessCodeRegExp,""),(c=(l=r.debugConfig)==null?void 0:l.logCallBack)==null||c.call(l,{status:true,msg:["Ê≠£Âàô: ÂÜÖÁΩÆÁöÑnoAccessCodeRegExp","‰ΩúÁî®: Âõ†accessCode‰∏∫Á©∫Ôºå‰ΩøÁî®ËØ•Ê≠£ÂàôÂéªÈô§‰∏çÈúÄË¶ÅÁöÑÂ≠óÁ¨¶‰∏≤",`ÁªìÊûú: ${e}`]})),a.paramMatch){let m=L.$match.matchedInfo.get(r.ruleKeyName).get(r.shareCode),b=(((u=r.debugConfig)==null?void 0:u.matchText)||m.matchText).match(a.paramMatch),R={};if(b)for(let v=0;v<b.length;v++)R[`$${v}`]=b[v];e=se.replaceParam(e,R),(h=(d=r.debugConfig)==null?void 0:d.logCallBack)==null||h.call(d,{status:true,msg:["Ê≠£Âàô: paramMatch","‰ΩúÁî®: Áî®‰∫éÂØπmatchTextËøõË°åÊèêÂèñÈúÄË¶ÅÁöÑÂÖ≥ÈîÆÂÜÖÂÆπÔºåÊõøÊç¢ÂÖ≥ÈîÆÂ≠óÔºö{#$1#}„ÄÅ{#$2#}...","ÂèÇÊï∞: "+JSON.stringify(R,void 0,4),`ÁªìÊûú: ${e}`]});}return e},getCopyUrlInfo(r){var t,n,s,i,o,l,c,u,d,h,m,k;let a=((t=r.debugConfig)==null?void 0:t.config)??L.$rule.ruleOption[r.ruleKeyName][r.ruleIndex],e=a.copyUrl;if(r.shareCode&&(e=se.replaceParam(e,{shareCode:r.shareCode}),(s=(n=r.debugConfig)==null?void 0:n.logCallBack)==null||s.call(n,{status:true,msg:["Ê≠£Âàô: copyUrl","‰ΩúÁî®: Áî®‰∫éÂ§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÁöÑÈìæÊé•","Â§áÊ≥®: ÂØπshareCodeËøõË°åÂèÇÊï∞ÊõøÊç¢",`ÁªìÊûú: ${e}`]})),r.accessCode&&r.accessCode!==""?(e=se.replaceParam(e,{accessCode:r.accessCode}),(o=(i=r.debugConfig)==null?void 0:i.logCallBack)==null||o.call(i,{status:true,msg:["Ê≠£Âàô: copyUrl","‰ΩúÁî®: Áî®‰∫éÂ§çÂà∂Âà∞Ââ™Ë¥¥ÊùøÁöÑÈìæÊé•","Â§áÊ≥®: ÂØπaccessCodeËøõË°åÂèÇÊï∞ÊõøÊç¢",`ÁªìÊûú: ${e}`]})):(e=pt.replaceText(e,L.$extraRule.noAccessCodeRegExp,""),(c=(l=r.debugConfig)==null?void 0:l.logCallBack)==null||c.call(l,{status:true,msg:["Ê≠£Âàô: ÂÜÖÁΩÆÁöÑnoAccessCodeRegExp","‰ΩúÁî®: Âõ†accessCode‰∏∫Á©∫Ôºå‰ΩøÁî®ËØ•Ê≠£ÂàôÂéªÈô§‰∏çÈúÄË¶ÅÁöÑÂ≠óÁ¨¶‰∏≤",`ÁªìÊûú: ${e}`]})),a.paramMatch){let b=L.$match.matchedInfo.get(r.ruleKeyName).get(r.shareCode),v=(((u=r.debugConfig)==null?void 0:u.matchText)||b.matchText).match(a.paramMatch),N={};if(v)for(let A=0;A<v.length;A++)N[`$${A}`]=v[A];e=se.replaceParam(e,N),(h=(d=r.debugConfig)==null?void 0:d.logCallBack)==null||h.call(d,{status:true,msg:["Ê≠£Âàô: paramMatch","‰ΩúÁî®: Áî®‰∫éÂØπmatchTextËøõË°åÊèêÂèñÈúÄË¶ÅÁöÑÂÖ≥ÈîÆÂÜÖÂÆπÔºåÊõøÊç¢ÂÖ≥ÈîÆÂ≠óÔºö{#$1#}„ÄÅ{#$2#}...","ÂèÇÊï∞: "+JSON.stringify(N,void 0,4),`ÁªìÊûú: ${e}`]});}return (k=(m=r.debugConfig)==null?void 0:m.logCallBack)==null||k.call(m,{status:true,msg:"Â§ÑÁêÜÂÆåÊØïÁöÑcopyUrl: "+e}),e}},ye={copy(r,a,e,t,n="Â∑≤Â§çÂà∂"){p.setClip(ae.getCopyUrlInfo({ruleKeyName:r,ruleIndex:a,shareCode:e,accessCode:t})).then(s=>{s?f.success(n):f.error("ÊâßË°åÂ§çÂà∂Â§±Ë¥•",{consoleLogContent:true});}).catch(()=>{f.error("ÊâßË°åÂ§çÂà∂Â§±Ë¥•",{consoleLogContent:true});});},async parseFile(r,a,e,t){if(g.success("ÈìæÊé•Ëß£ÊûêÔºö",[...arguments]),rt.rule[r]){let n=new rt.rule[r];const s={ruleIndex:a,shareCode:e,accessCode:t??""};n.ruleIndex=s.ruleIndex,n.shareCode=s.shareCode,n.accessCode=s.accessCode,g.info(["Êñá‰ª∂Ëß£ÊûêÔºö",s]),await n.init(s);}else g.error(`${r} Êú™ÈÖçÁΩÆËß£ÊûêÂáΩÊï∞`,[r,a,e,t]),f.error("ËØ•ÈìæÊé•Êú™ÈÖçÁΩÆËß£ÊûêÂáΩÊï∞");},openBlankUrl(r,a,e,t,n,s=false){var o;g.success(`Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ${s?"ÔºàÂêéÂè∞ÊâìÂºÄÔºâ":""}`,[...arguments]),je.$data.enable&&je.addValue({url:r,ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:n,time:Date.now()}),K.isForwardBlankLink(a)&&(r=K.parseDataToSchemeUri(a,r)),(o=et("meta[name='referrer']"))==null||o.setAttribute("content","no-referrer");let i=()=>{if(s)Bt(r,{active:false});else try{let l=window.open(r,"_blank");l&&l.focus();}catch(l){g.error(l,r);let c=w.createElement("a");c.setAttribute("href",r),c.setAttribute("target","_blank"),c.click(),c.remove();}};p.isNotNull(n)&&ee.linkClickMode_openBlank.openBlankWithCopyAccessCode(a)?p.setClip(n).then(()=>{i();}):i();},openBlankWithScheme(r,a,e,t){g.success("schemeÊñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ",[...arguments]);let n=ae.getBlankUrl({ruleKeyName:r,ruleIndex:a,shareCode:e,accessCode:t});n=K.parseDataToSchemeUri(r,n),window.open(n,"_blank");}},Da={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=ae.getBlankUrl({ruleKeyName:"baidu",ruleIndex:a,shareCode:e,accessCode:t}),s=await E.get(n,{headers:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36",Host:"pan.baidu.com",Referer:`https://pan.baidu.com/share/init?surl=${e}&pwd=${t}`,"sec-ch-ua":'"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"',Origin:"https://pan.baidu.com"},...oe}),i=s.data.responseText,o=s.data.finalUrl;return typeof o=="string"&&new URL(o).hostname!=="pan.baidu.com"?{...T.status.verify,msg:`<a href='${o}' target='_blank' style="color: red;">Ëß¶ÂèëÁôæÂ∫¶ÂÆâÂÖ®È™åËØÅ</a>`,data:s}:!s.status&&p.isNull(i)?{...T.status.networkError,data:s}:s.data.finalUrl.includes("404.html")?{...T.status.networkError,data:s}:i.includes("ËøáÊúüÊó∂Èó¥Ôºö")?{...T.status.success,data:s}:i.includes("ËæìÂÖ•ÊèêÂèñ")?{...T.status.needAccessCode,data:s}:i.includes("‰∏çÂ≠òÂú®")||i.includes("Â∑≤Â§±Êïà")?{...T.status.failed,data:s}:{...T.status.unknown,data:s}}},Na={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=ae.getBlankUrl({ruleKeyName:"lanzou",ruleIndex:a,shareCode:e,accessCode:t}),s=new URL(n),i=await E.get(n,{headers:{"User-Agent":p.getRandomPCUA(),Host:s.hostname,Origin:s.origin,Referer:n},...oe});if(!i.status&&i.type==="ontimeout")return {...T.status.networkError,data:i};let o=i.data.responseText;return p.isNull(o)?{...T.status.failed,data:i,tipMsg:"ÂìçÂ∫îÊï∞ÊçÆ‰∏∫Á©∫"}:o.includes("ËæìÂÖ•ÂØÜÁ†Å")?{...T.status.needAccessCode,data:i}:o.includes("Êù•ÊôöÂï¶")||o.includes("‰∏çÂ≠òÂú®")||o.includes("div>Êñá‰ª∂ÈìæÊé•Â§±ÊïàÔºåËØ∑Ëé∑ÂèñÊñ∞ÈìæÊé•</div>")?{...T.status.failed,data:i}:i.status?{...T.status.success,data:i}:{...T.status.unknown,data:i,tipMsg:i.msg}}},Ta={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=new rt.rule.lanzouyx;n.shareCodeId=n.getDecodeShareCodeId(e);let s=n.getEncodeTimeStamp(),i=n.getEncodeUUID(),o=await E.post(`https://api.ilanzou.com/unproved/recommend/list?${p.toSearchParamsStr({devType:n.$data.devType,devModel:n.$data.devModel,uuid:i,extra:n.$data.extra,timestamp:s,code:t,shareId:e,type:n.$data.type,offset:n.$data.offset,limit:n.$data.limit})}`,{headers:{Accept:"application/json, text/plain, */*",Origin:"https://www.ilanzou.com",Referer:"https://www.ilanzou.com/","Sec-Fetch-Site":"same-site",Host:"api.ilanzou.com","User-Agent":p.getRandomPCUA()},responseType:"json",...oe});if(!o.status)return {...T.status.networkError,data:o};let l=p.toJSON(o.data.responseText);return g.success("Ëé∑ÂèñÈìæÊé•‰ø°ÊÅØÔºö",l),l.code!==200?{...T.status.networkError,data:l}:l.list.length?{...T.status.success,data:l}:{...T.status.failed,data:l}}},Ma={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.post("https://api.cloud.189.cn/open/share/getShareInfoByCodeV2.action",{data:`shareCode=${e}`,headers:{Accept:"application/json;charset=UTF-8","Content-Type":"application/x-www-form-urlencoded","User-Agent":p.getRandomPCUA(),"Sign-Type":1,Referer:"https://cloud.189.cn/web/share?code="+e,Origin:"https://cloud.189.cn"},...oe}),s=n.data.responseText;return !n.status&&p.isNull(s)?{...T.status.networkError,data:n}:s.includes("ShareInfoNotFound")||s.includes("ShareNotFound")||s.includes("FileNotFound")||s.includes("ShareAuditWaiting")||s.includes("ShareExpiredError")||s.includes("ShareAuditNotPass")?{...T.status.failed,data:n}:s.includes("needAccessCode")?{...T.status.needAccessCode,data:n}:{...T.status.success,data:n}}},Ia={async init(r){var n;const{shareCode:a}=r;let e=await E.post("https://api.aliyundrive.com/adrive/v3/share_link/get_share_by_anonymous?share_id="+a,{data:JSON.stringify({share_id:a}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","User-Agent":p.getRandomPCUA(),Referer:"https://www.aliyundrive.com/",Origin:"https://www.aliyundrive.com"},...oe}),t=p.toJSON(e.data.responseText);return !e.status&&p.isNull(t)?{...T.status.networkError,data:e}:t.code==="ParamFlowException"||t.code==="NotFound.ShareLink"||t.code==="ShareLink.Cancelled"?{...T.status.failed,data:t}:t.file_count===0||((n=t.file_infos)==null?void 0:n.length)===0?{...T.status.failed,data:t}:{...T.status.success,data:t}}},Ea={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.post("https://www.wenshushu.cn/ap/task/mgrtask",{data:JSON.stringify({tid:e}),headers:{"Content-Type":"application/json","User-Agent":p.getRandomPCUA(),"x-token":"wss:7pmakczzw6i",Host:"www.wenshushu.cn",Origin:"https://www.wenshushu.cn",Referer:ae.getBlankUrl({ruleKeyName:"wenshushu",ruleIndex:a,shareCode:e,accessCode:t})},responseType:"json",...oe});if(!n.status&&p.isNull(n.data.responseText))return {...T.status.networkError,data:n};let s=p.toJSON(n.data.responseText);return s.code!==0?{...T.status.failed,data:s}:{...T.status.success,data:s}}},$a={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.get(`https://cowtransfer.com/core/api/transfer/share?uniqueUrl=${e}`,{headers:{"User-Agent":p.getRandomPCUA(),Host:"cowtransfer.com",Origin:"https://cowtransfer.com",Referer:"https://cowtransfer.com/"},...oe});if(!n.status&&p.isNull(n.data.responseText))return {...T.status.networkError,data:n};let s=p.toJSON(n.data.responseText);return s.code!="0000"?{...T.status.failed,data:s}:s.data.needPassword&&s.data.needPassword?{...T.status.needAccessCode,data:s}:{...T.status.success,data:s}}},La={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.get("https://www.123pan.com/api/share/info?shareKey="+e,{headers:{"User-Agent":p.getRandomPCUA(),Host:"www.123pan.com",Origin:"https://www.123pan.com",Referer:"https://www.123pan.com/"},responseType:"json",...oe});if(!n.status&&p.isNull(n.data.responseText))return {...T.status.networkError,data:n};let s=p.toJSON(n.data.responseText);return n.data.responseText.includes("ÂàÜ‰∫´È°µÈù¢‰∏çÂ≠òÂú®")||s.code!==0?{...T.status.failed,data:s}:s.data.HasPwd?{...T.status.needAccessCode,data:s}:{...T.status.success,data:s}}},Fa={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=ae.getBlankUrl({ruleKeyName:"weiyun",ruleIndex:a,shareCode:e,accessCode:t}),s=await E.get(n,{headers:{"User-Agent":p.getRandomPCUA(),Host:"share.weiyun.com",Origin:"https://share.weiyun.com",Referer:n},...oe});if(!s.status&&p.isNull(s.data.responseText))return {...T.status.networkError,data:s};let i=s.data.responseText;return i.includes("Â∑≤Âà†Èô§")||i.includes("Â∑≤Ë¢´Âà†Èô§")||i.includes("Â∑≤ÁªèÂà†Èô§")||i.includes("ËøùÂèçÁõ∏ÂÖ≥Ê≥ïËßÑ")||i.includes("Â∑≤ËøáÊúü")||i.includes("ÁõÆÂΩïÊó†Êïà")?{...T.status.failed,data:s}:i.includes('"need_pwd":1')||i.includes('"pwd":"')&&!i.includes('"pwd":""')?{...T.status.needAccessCode,data:s}:{...T.status.success,data:s}}},Oa={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.post("https://xluser-ssl.xunlei.com/v1/shield/captcha/init",{data:JSON.stringify({client_id:"Xqp0kJBXWhwaTpB6",device_id:"925b7631473a13716b791d7f28289cad",action:"get:/drive/v1/share",meta:{package_name:"pan.xunlei.com",client_version:"1.45.0",captcha_sign:"1.fe2108ad808a74c9ac0243309242726c",timestamp:"1645241033384"}}),headers:{"User-Agent":p.getRandomPCUA(),Host:"pan.xunlei.com",Referer:ae.getBlankUrl({ruleKeyName:"xunlei",ruleIndex:a,shareCode:e,accessCode:t}),Origin:"https://pan.xunlei.com"},...oe});if(!n.status&&p.isNull(n.data.responseText))return {...T.status.networkError,data:n};let i=p.toJSON(n.data.responseText).captcha_token,o=await E.get("https://api-pan.xunlei.com/drive/v1/share?share_id="+e,{headers:{"User-Agent":p.getRandomPCUA(),Host:"pan.xunlei.com",Referer:ae.getBlankUrl({ruleKeyName:"xunlei",ruleIndex:a,shareCode:e,accessCode:t}),Origin:"https://pan.xunlei.com","x-captcha-token":i,"x-client-id":"Xqp0kJBXWhwaTpB6","x-device-id":"925b7631473a13716b791d7f28289cad"},...oe});if(!o.status&&p.isNull(o.data.responseText))return {...T.status.networkError,data:[n,o]};let l=o.data.responseText;return l.includes("NOT_FOUND")||l.includes("SENSITIVE_RESOURCE")||l.includes("EXPIRED")||l.includes("DELETED")?{...T.status.failed,data:o}:l.includes("PASS_CODE_EMPTY")?{...T.status.needAccessCode,data:o}:{...T.status.success,data:o}}},Ua={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=ae.getBlankUrl({ruleKeyName:"chengtong",ruleIndex:a,shareCode:e,accessCode:t});const i=new URL(n).pathname.split("/")[1].trim();let o="";if(i==="f"||i==="file")o=`https://webapi.ctfile.com/getfile.php?path=${i}&f=${e}&passcode=${t}&token=0&r=${Math.random()}&ref=`;else if(i==="d"||i==="dir")o=`https://webapi.ctfile.com/getdir.php?path=${i}&d=${e}&folder_id=&passcode=${t}&token=0&r=${Math.random()}&ref=`;else return g.warn("Êú™Áü•path",[a,e,t]),{...T.status.unknown,data:null};let l=await E.get(o,{headers:{Host:"webapi.ctfile.com",Origin:"https://url95.ctfile.com",Referer:n,Accept:"application/json, text/javascript, */*; q=0.01","User-Agent":p.getRandomPCUA()},...oe}),c=l.data.responseText;if(!l.status&&p.isNull(c))return {...T.status.networkError,data:l};let u=p.toJSON(c);return u.code===200?{...T.status.success,data:u}:u.code===401?{...T.status.needAccessCode,data:u}:u.code===404||u.code===503||u.code===504?{...T.status.failed,data:u}:{...T.status.unknown,data:u}}},Va={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.post("https://drive.quark.cn/1/clouddrive/share/sharepage/token?pr=ucpro&fr=pc",{data:JSON.stringify({pwd_id:e,passcode:""}),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json;charset=UTF-8","User-Agent":p.getRandomPCUA(),Origin:"https://pan.quark.cn",Referer:ae.getBlankUrl({ruleKeyName:"kuake",ruleIndex:a,shareCode:e,accessCode:t})},...oe});if(!n.status&&p.isNull(n.data.responseText))return {...T.status.networkError,data:n};let s=p.toJSON(n.data.responseText);if(s.message.includes("ÈúÄË¶ÅÊèêÂèñÁ†Å"))return {...T.status.needAccessCode,data:s};if(s.message.includes("ok")){let i=s.data.stoken,o={pwd_id:e,stoken:i,_fetch_share:1,__t:Date.now()},l=await E.get(`https://drive-h.quark.cn/1/clouddrive/share/sharepage/detail?${p.toSearchParamsStr(o)}`,{headers:{Accept:"application/json, text/plain, */*",Origin:"https://pan.quark.cn",Referer:"https://pan.quark.cn/","User-Agent":p.getRandomPCUA()},...oe});if(!l.status||p.isNull(l.data.responseText))return {...T.status.networkError,data:l};let c=p.toJSON(l.data.responseText);return c.data.share.status==1?c.data.share.partial_violation?{...T.status.partialViolation,data:[s,c]}:{...T.status.success,data:[s,c]}:{...T.status.failed,data:[s,c]}}else return {...T.status.failed,data:s}}},Pa={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=ae.getBlankUrl({ruleKeyName:"jianguoyun",ruleIndex:a,shareCode:e,accessCode:t}),s=await E.get(n,{headers:{"User-Agent":p.getRandomPCUA(),Host:"www.jianguoyun.com",Referer:ae.getBlankUrl({ruleKeyName:"jianguoyun",ruleIndex:a,shareCode:e,accessCode:t}),Origin:"https://www.jianguoyun.com"},...oe}),i=s.data.responseText;return !s.status&&p.isNull(i)?{...T.status.networkError,data:s}:i.includes("<h1>ÂïäÂô¢ÔºÅ")?{...T.status.failed,data:s}:{...T.status.success,data:s}}},za={async init(r){var l,c,u;const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=ae.getBlankUrl({ruleKeyName:"onedrive",ruleIndex:a,shareCode:e,accessCode:t}),s=new URL(n),i=await E.get(n,{headers:{"User-Agent":p.getRandomPCUA(),Host:s.hostname,Referer:n,Origin:s.origin},...oe});if(!i.status){let d=(c=(l=i.data)==null?void 0:l.status)==null?void 0:c.toString();return d==="429"?{...T.status.networkError,data:i}:d==="404"?{...T.status.failed,data:i}:{...T.status.networkError,data:i}}let o=i.data.responseText;if(p.isNotNull(o))try{let h=(u=w.parseHTML(o,!0,!0).querySelector("title"))==null?void 0:u.innerHTML;if(h!=null&&h.includes("ÈîôËØØ"))return {...T.status.failed,data:i}}catch{}return {...T.status.success,data:i}}},Ba={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.get("https://drive.uc.cn/s/"+e,{headers:{"User-Agent":p.getRandomAndroidUA(),Host:"drive.uc.cn",Referer:ae.getBlankUrl({ruleKeyName:"uc",ruleIndex:a,shareCode:e,accessCode:t}),Origin:"https://drive.uc.cn"},...oe}),s=n.data.responseText;if(!n.status&&p.isNull(s))return {...T.status.networkError,data:n};let i=w.parseHTML(s,true,true);if(i.querySelector(".h5-page-main")){let o=i.querySelector(".h5-page-main"),l=o.textContent||o.innerText;return l.includes("Â§±Êïà")||l.includes("‰∏çÂ≠òÂú®")||l.includes("ËøùËßÑ")||l.includes("Âà†Èô§")?{...T.status.failed,data:n}:{...T.status.unknown,data:n}}else return i.querySelector(".main-body .input-wrap input")?{...T.status.needAccessCode,data:n}:{...T.status.success,data:n}}},Ga={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n=await E.get(`https://webapi.115.com/share/snap?share_code=${e}&offset=0&limit=20&receive_code=&cid=`,{headers:{Accept:"application/json, text/javascript, */*;","User-Agent":p.getRandomPCUA(),Host:"webapi.115.com",Referer:"https://115.com/",Origin:"https://115.com"},...oe});if(!n.status)return p.isNull(n.data.responseText)?{...T.status.failed,data:n}:{...T.status.networkError,data:n};let s=p.toJSON(n.data.responseText);if(s.state)return {...T.status.success,data:s};if(typeof s.error=="string"){if(s.error.includes("ËÆøÈóÆÁ†Å"))return {...T.status.needAccessCode,data:s};if(s.error.includes("ÈìæÊé•")||s.error.includes("ÂàÜ‰∫´Â∑≤ÂèñÊ∂à"))return {...T.status.failed,data:s}}return {...T.status.unknown,data:s}}},Ha={async init(r){const{ruleIndex:a,shareCode:e,accessCode:t}=r;let n="https://www.yunpan.com/lk/surl_"+e,s=await E.get(n,{headers:{"User-Agent":p.getRandomPCUA()},responseType:"json",...oe});if(!s.status&&p.isNull(s.data.responseText))return {...T.status.networkError,data:s};let o=w.parseHTML(s.data.responseText,true,true).querySelector(".page-error .error-msg");if(o){let l=w.text(o);return l.includes("ÂàÜ‰∫´ÈìæÊé•Â∑≤Â§±Êïà")?{...T.status.failed,data:s}:{...T.status.unknown,data:s,tipMsg:l}}return {...T.status.success,data:s}}},ja={loading:{code:1,msg:"È™åËØÅ‰∏≠...",setIcon(r){w.html(r,H.config.iconSVG.loading);},setView(r,a,e){T.setViewCheckValid(r,"loading",e??this.msg),this.setIcon(r);}},success:{code:200,msg:"ÊúâÊïà",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
					<path
					fill="currentColor"
					d="M874.119618 149.859922A510.816461 510.816461 0 0 0 511.997 0.00208a509.910462 509.910462 0 0 0-362.119618 149.857842c-199.817789 199.679789-199.817789 524.581447 0 724.260236a509.969462 509.969462 0 0 0 362.119618 149.857842A508.872463 508.872463 0 0 0 874.119618 874.120158c199.836789-199.679789 199.836789-524.581447 0-724.260236zM814.94268 378.210681L470.999043 744.132295a15.359984 15.359984 0 0 1-5.887994 4.095996c-1.751998 1.180999-2.913997 2.362998-5.276994 2.913997a34.499964 34.499964 0 0 1-13.469986 2.914997 45.547952 45.547952 0 0 1-12.897986-2.303998l-4.095996-2.363997a45.291952 45.291952 0 0 1-7.009992-4.095996l-196.902793-193.789796a34.126964 34.126964 0 0 1-10.555989-25.186973c0-9.37399 3.583996-18.74698 9.98399-25.186974a36.429962 36.429962 0 0 1 50.372947 0l169.98382 167.423824L763.389735 330.220732a37.059961 37.059961 0 0 1 50.371947-1.732998 33.647965 33.647965 0 0 1 11.165988 25.186973 35.544963 35.544963 0 0 1-9.98399 24.575974v-0.04z m0 0"></path>
				</svg>
				`);},setView(r,a,e){T.setViewCheckValid(r,"success",e??this.msg),this.setIcon(r),T.setViewAgainCheckClickEvent(r,a);}},networkError:{code:-404,msg:"ÁΩëÁªúÂºÇÂ∏∏",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
					<path
					fill="currentColor"
					d="M511.808 692.224c-18.048 0-35.136 3.968-50.432 11.392-25.472 12.416-46.528 33.92-57.792 60.032-5.632 14.144-9.024 29.504-9.024 45.952 0 65.152 52.672 117.824 117.248 117.824 65.28 0 117.952-52.672 117.952-117.824 0-64.64-52.672-117.376-117.952-117.376z m0 178.496c-33.408 0-60.608-27.712-60.608-61.12 0-33.472 27.2-60.672 60.608-60.672s61.248 27.2 61.248 60.672c0 33.472-27.776 61.12-61.248 61.12zM286.784 661.632c3.968 3.392 8.512 5.632 12.992 5.632L438.08 523.328c-60.032 14.72-114.432 49.344-155.328 98.624-9.536 11.84-7.872 30.08 4.032 39.68zM622.912 534.656l-43.008 45.312c45.312 13.056 86.72 40.256 117.376 78.208 5.632 6.784 13.568 10.24 22.08 10.24 6.272 0 12.416-2.24 18.176-6.784 11.904-9.6 13.568-27.84 3.392-39.68-31.808-39.104-72.704-69.12-118.016-87.296zM511.808 391.168c17.024 0 33.408 1.216 49.856 3.456l47.68-49.856c-31.744-6.848-64.064-10.24-97.536-10.24-142.784 0-277.12 63.488-367.232 174.656-10.24 11.904-8.576 30.08 3.904 39.68 5.12 4.48 11.328 6.784 18.176 6.784 7.936 0 15.872-3.968 21.568-10.816 79.872-97.536 197.76-153.664 323.584-153.664zM751.616 400.32l-40.256 41.92c47.04 24.96 89.536 60.032 124.096 102.592 10.24 12.48 27.84 14.208 40.256 3.968 11.968-9.6 13.632-27.84 3.968-39.68-36.16-44.8-79.872-81.088-128.064-108.8zM705.152 244.928l42.56-44.672c-73.664-28.992-153.6-44.224-235.904-44.224-196.672 0-380.864 87.872-505.6 239.744-9.6 12.48-7.872 30.08 3.968 40.256 5.632 3.968 11.904 6.208 18.112 6.208 7.936 0 16.448-3.392 22.144-10.176C163.84 292.608 332.096 212.672 511.808 212.672c66.944 0 132.16 10.752 193.344 32.256zM1017.472 395.776c-40.192-49.92-87.296-92.416-139.456-126.976l-39.68 41.344C889.408 343.04 935.36 383.808 973.888 432c9.6 11.904 27.776 13.568 39.68 3.968 11.84-10.176 14.144-27.712 3.904-40.192zM937.408 104.512c-11.328-10.944-29.312-10.496-40.064 0.832L179.008 854.72c-10.816 11.328-10.496 29.248 0.896 40.064 5.44 5.312 12.48 7.872 19.584 7.872 7.488 0 14.848-2.88 20.416-8.704L938.24 144.576c10.88-11.328 10.496-29.248-0.832-40.064z"></path>
				</svg>
				`);},setView(r,a,e){T.setViewCheckValid(r,"error",e??this.msg),this.setIcon(r),T.setViewAgainCheckClickEvent(r,a);}},verify:{code:-405,msg:"Ëß¶ÂèëÂÆâÂÖ®È™åËØÅ",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
					<path 
						fill="currentColor"
						d="M514.389 1005.60899999c-269.967 0-489.59499999-219.642-489.595-489.59499999S244.42199999 26.405 514.389 26.405 1003.984 246.047 1003.984 516s-219.62800001 489.60899999-489.595 489.60900001z m0-938.24399999C267.00400001 67.365 65.754 268.615 65.754 516s201.264 448.63499999 448.635 448.635S963.024 763.385 963.024 516 761.774 67.365 514.389 67.365z" p-id="9895"></path><path d="M245.993 621.56800001c41.014-8.138 86.112-18.03600001 135.264-29.71000001-0.355 14.145-0.177 26.69199999 0.532 37.65499999-40.318 8.493-82.93 18.92400001-127.836 31.29400001l-7.959-39.23900001z m78.506-261.50200001l-12.206 145.872h53.57500001l13.78999998-178.763H259.249v-36.073h160.727l-16.438 214.821h33.423c-2.471 74.61499999-4.779 135.973-6.895 184.06100002-1.065 53.754-24.399 80.623-70.01399999 80.62299998-19.101 0-41.547-0.53200001-67.36500001-1.598-1.775-13.079-4.06799999-27.047-6.895-41.902 25.46300001 3.181 48.087 4.779 67.898 4.779 24.753 0 37.834-15.033 39.253-45.084 2.11599999-38.898 3.891-87.163 5.31099998-144.807H270.951l16.971-181.945h36.577z m309.248-98.659l-10.076 16.971c42.789 76.03500001 95.833 131.373 159.13 166.025-11.318 14.145-20.685 26.528-28.112 37.13699999-62.231-45.971-112.981-101.30799999-152.235-166.02499998-36.073 64.006-86.466 121.474-151.17000001 172.38699999-6.363-9.18799999-15.21-20.33-26.52799998-33.423 70.369-48.797 124.30000001-113.158 161.77799999-193.086h47.213zM441.194 718.111h191.488c25.46300001-62.942 48.087-128.723 67.89800001-197.318l40.31799999 12.725c-20.862 63.297-42.96699999 124.832-66.301 184.593h93.361v36.60499999H441.19300001v-36.60499999z m27.047-169.73900001l37.137-11.67399999c17.32599998 50.217 31.82600002 94.945 43.5 134.198l-39.253 13.258c-11.674-45.261-25.46300001-90.522-41.383-135.78200001z m27.06099999-91.76399999h218.53500001v36.605H495.30200001v-36.605z m64.17100001 67.885l37.655-10.076c14.854 53.043 27.047 99.369 36.605 138.977l-38.72099999 11.141c-10.254-48.797-22.091-95.477-35.53900001-140.04300001z">
					</path>
				</svg>
				`);},setView(r,a,e){T.setViewCheckValid(r,"verify",e??this.msg),this.setIcon(r),T.setViewAgainCheckClickEvent(r,a);}},failed:{code:0,msg:"Â∑≤Â§±Êïà",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
					<path
						fill="currentColor"
						d="M549.044706 512l166.189176-166.249412a26.383059 26.383059 0 0 0 0-36.98447 26.383059 26.383059 0 0 0-37.044706 0L512 475.015529l-166.249412-166.249411a26.383059 26.383059 0 0 0-36.98447 0 26.383059 26.383059 0 0 0 0 37.044706L475.015529 512l-166.249411 166.249412a26.383059 26.383059 0 0 0 0 36.98447 26.383059 26.383059 0 0 0 37.044706 0L512 548.984471l166.249412 166.249411a26.383059 26.383059 0 0 0 36.98447 0 26.383059 26.383059 0 0 0 0-37.044706L548.984471 512zM512 1024a512 512 0 1 1 0-1024 512 512 0 0 1 0 1024z"></path>
				</svg>
				`);},setView(r,a,e){T.setViewCheckValid(r,"failed",e??this.msg),this.setIcon(r),T.setViewAgainCheckClickEvent(r,a);}},needAccessCode:{code:201,msg:"ÈúÄË¶ÅÊèêÂèñÁ†Å",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
					<path
					fill="currentColor"
					d="M757.810429 373.751333 325.645708 373.751333l0-83.895759c0-103.694687 81.507362-184.922686 185.559183-184.922686 78.121242 0 146.053424 46.74565 173.062568 119.090329 3.865028 10.352789 15.384385 15.609513 25.742291 11.746532 10.351766-3.866051 15.609513-15.390525 11.744485-25.742291C688.844707 121.877815 606.198405 64.918545 511.204891 64.918545c-61.918211 0-119.246895 23.662933-161.423483 66.63156-41.3692 42.142819-64.151066 98.363262-64.151066 158.305469l0 83.895759-20.007683 0c-60.774155 0-110.042255 49.267077-110.042255 110.042255l0 366.139981c0 60.774155 49.267077 110.042255 110.042255 110.042255l492.187769 0c60.775178 0 110.042255-49.267077 110.042255-110.042255L867.852684 483.793588C867.852684 423.01841 818.585607 373.751333 757.810429 373.751333zM827.837318 849.933569c0 38.674834-31.352055 70.02689-70.02689 70.02689L265.62266 919.960459c-38.674834 0-70.02689-31.352055-70.02689-70.02689L195.59577 483.793588c0-38.674834 31.352055-70.02689 70.02689-70.02689l492.187769 0c38.674834 0 70.02689 31.352055 70.02689 70.02689L827.837318 849.933569z"></path>
					<path
					fill="currentColor"
					d="M509.715981 583.832002c-11.048637 0-20.007683 8.959046-20.007683 20.007683l0 110.042255c0 11.048637 8.958022 20.007683 20.007683 20.007683s20.007683-8.958022 20.007683-20.007683L529.723663 603.839685C529.723663 592.790024 520.765641 583.832002 509.715981 583.832002z"></path>
				</svg>
				`);},setView(r,a,e){T.setViewCheckValid(r,"needAccessCode",e??this.msg),this.setIcon(r),T.setViewAgainCheckClickEvent(r,a);}},partialViolation:{code:202,msg:"Â≠òÂú®ÈÉ®ÂàÜËøùËßÑÊñá‰ª∂",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
					<path 
					fill="currentColor"
					d="M954.963 810.267L543.112 96.919c-14.07-24.37-49.245-24.37-63.315 0L67.945 810.267c-14.07 24.37 3.518 54.832 31.657 54.832h823.703c28.141 0 45.728-30.463 31.658-54.832zM476.699 306.55c0-19.115 15.64-34.755 34.755-34.755 19.115 0 34.755 15.64 34.755 34.755v281.817c0 19.115-15.64 34.755-34.755 34.755-19.115 0-34.755-15.64-34.755-34.755V306.55z m34.755 445.293c-23.198 0-42.004-18.806-42.004-42.004s18.806-42.004 42.004-42.004c23.198 0 42.004 18.806 42.004 42.004s-18.806 42.004-42.004 42.004z"></path>
				</svg>`);},setView(r,a,e){T.setViewCheckValid(r,"partial-violation",e??this.msg),this.setIcon(r);}},unknown:{code:-200,msg:"Êú™Áü•Ê£ÄÊü•ÊÉÖÂÜµ",setIcon(r){w.html(r,`
				<svg viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg">
					<path
					fill="currentColor"
					d="M512.473172 1023.995242A511.814852 511.814852 0 0 1 313.545134 40.351073a512.244696 512.244696 0 0 1 398.855715 943.658633 508.815937 508.815937 0 0 1-199.927677 39.985536z m0-943.658634C274.559237 80.336608 80.629391 274.266455 80.629391 512.18039s193.929846 431.843781 431.843781 431.843781 431.843781-193.929846 431.843781-431.843781S751.386745 80.336608 512.473172 80.336608z"></path>
					<path
					fill="currentColor"
					d="M506.475342 716.10662a39.985535 39.985535 0 0 1-39.985536-39.985535v-76.972156c0-79.971071 64.976495-144.947566 144.947566-144.947565a77.971794 77.971794 0 0 0 0-155.943588H445.4974a56.979388 56.979388 0 0 0-56.979387 56.979388 39.985535 39.985535 0 0 1-79.971071 0c0-74.972879 60.977941-136.950458 136.950458-136.950459h164.940333c86.968539 0 157.942864 70.974325 157.942865 157.942865s-69.974687 157.942864-157.942865 157.942864a64.976495 64.976495 0 0 0-64.976494 64.976495v76.972156a39.985535 39.985535 0 0 1-38.985897 39.985535zM505.475703 742.097218a48.982281 48.982281 0 1 0 48.982281 48.982281 48.982281 48.982281 0 0 0-48.982281-48.982281z"></path>
				</svg>
				`);},setView(r,a,e){T.setViewCheckValid(r,"unknown",e??this.msg),this.setIcon(r),T.setViewAgainCheckClickEvent(r,a);}}},qa={baidu:Da,lanzou:Na,lanzouyx:Ta,tianyiyun:Ma,aliyun:Ia,wenshushu:Ea,nainiu:$a,_123pan:La,weiyun:Fa,xunlei:Oa,_115pan:Ga,chengtong:Ua,kuake:Va,jianguoyun:Pa,onedrive:za,uc:Ba,"360yunpan":Ha},oe={allowInterceptConfig:false,onerror(){},ontimeout(){}},T={$data:{isConsuming:false,subscribe:[]},status:ja,ruleCheckValidFunction:qa,async check(r,a,e,t,n){if(this.$data.subscribe.push({$urlBox:r,ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:n}),!this.$data.isConsuming){this.$data.isConsuming=true;for(let s=0;s<this.$data.subscribe.length;s++){const i=this.$data.subscribe[s];await this.checkLinkValidity(i,true),await p.sleep(250),this.$data.subscribe.splice(s,1),s--;}this.$data.isConsuming=false;}},async checkLinkValidity(r,a){const{$checkValidStatus:e}=de.parseViewBoxElementInfo(r.$urlBox);if(this.isViewCheckValid(e)&&!a)return;this.setCheckStatusElementToolTip(r);let t=r.ruleKeyName;if(!ee.function.checkLinkValidity(t)){g.error("Êú™ÂºÄÂêØcheckLinkValidityÂäüËÉΩ",r);return}let n=this.ruleCheckValidFunction[r.ruleKeyName];if(!n||n&&typeof n.init!="function"){g.error("Ê≤°ÊúâÈÖçÁΩÆËØ•ÁΩëÁõòÁöÑÊ†°È™åÊúâÊïàÊÄß",r);return}this.status.loading.setView(e,r);let s=await n.init({ruleIndex:r.ruleIndex,shareCode:r.shareCode,accessCode:r.accessCode});if(!s){g.error("ËØ•È™åËØÅÂáΩÊï∞ÁöÑËøîÂõûÂÄº‰∏çÊòØÊúâÊïàÂÄº",[s,r]);return}s.setView(e,r,s.tipMsg),s.data&&Reflect.set(e,"data-httpx-response",s.data);},setViewAgainCheckClickEvent(r,a){w.on(r,"click",void 0,()=>{const{$urlBox:e,$link:t}=de.parseViewBoxElementInfo(r),n=de.praseElementAttributeRuleInfo(t);let s={$urlBox:e,ruleKeyName:n.ruleKeyName,ruleIndex:n.ruleIndex,shareCode:n.shareCode,accessCode:n.accessCode};this.checkLinkValidity(s,true);},{once:true});},isViewCheckValid(r){return !(!r.hasAttribute("data-check-valid")||r.getAttribute("data-check-valid")==="error")},setViewCheckValid(r,a,e){r.setAttribute("data-check-valid",a),r.setAttribute("data-msg",e),Reflect.set(r,"data-msg",e);},removeViewCheckValid(r){r.removeAttribute("data-check-valid"),r.removeAttribute("data-msg"),Reflect.deleteProperty(r,"data-msg");},isStatusSuccess(r){return Math.floor(r.code/100)===2},getStatusName(r){for(const a of Object.keys(T.status)){let e=this.status[a];if(r.code===e.code)return a}},setCheckStatusElementToolTip(r){if(!ee.function.checkLinlValidityHoverTip(r.ruleKeyName))return;function a(){const{$checkValidStatus:n}=de.parseViewBoxElementInfo(r.$urlBox);return n}let e=a();if(e.hasAttribute("data-pops-tooltip"))return;e.setAttribute("data-pops-tooltip","true");let t=n=>{let s=Reflect.get(n,"data-msg"),i=n.getAttribute("data-msg");return s??i};H.tooltip({target:e,className:"github-tooltip",isFixed:true,content(){return t(e)},showBeforeCallBack(){let n=t(e);if(n==null||typeof n=="string"&&n.trim()==="")return  false},zIndex(){let n=p.getMaxZIndex(10),s=H.config.InstanceUtils.getPopsMaxZIndex(10).zIndex;return p.getMaxValue(n,s)+100}});}},Za={requiredFileMap:new Map,async file(r,a){if(p.isNull(r))return g.error("NetDiskRequire.fileÁöÑÂèÇÊï∞path‰∏∫Á©∫",r),false;if(this.requiredFileMap.has(r))return g.warn("NetDiskRequire.fileÁöÑÂèÇÊï∞pathÂ∑≤ÂºïÂÖ•Ëøá",r),true;let e=await E.get(r,a);if(!e.status)return  false;let t=e.data.responseText,n=this.requiredFileMap.get(r);return this.requiredFileMap.set(r,n++),g.info("Âä†ËΩΩjsÊñá‰ª∂",r),he.eval(`
		let exports = void 0;
		let module = void 0;
		let define = void 0;
		`+t),await p.sleep(300),true}},$t=r=>({"matchRange-text-before":ee.matchRange_text.before(r).toString(),"matchRange-text-after":ee.matchRange_text.after(r).toString()}),Lt=r=>({"matchRange-html-before":ee.matchRange_html.before(r).toString(),"matchRange-html-after":ee.matchRange_html.after(r).toString()}),He={depthQueryShadowRootAllNode(r){let a=[];function e(t){let n=Array.from(t.querySelectorAll("*"));return n.forEach(s=>{if(s.classList&&s.classList.contains("pops-shadow-container"))return;let i=s.shadowRoot;i&&i instanceof ShadowRoot&&a.push({shadowRoot:i,childNode:e(i)});}),n}return e(r),a},ignoreStrRemove(r,a=false){let e=[];return e.length&&e.forEach(t=>{if(t!=null)if(a)t.innerHTML!=null&&(r=r.replaceAll(t.innerHTML,""));else {let n=t.innerText||t.textContent;n!=null&&(n=n.replaceAll(n,""));}}),r},getPageText(r=document.documentElement,a){let e=[];if(e.push((r==null?void 0:r.textContent)||(r==null?void 0:r.innerText)||""),a){let t=this.depthQueryShadowRootAllNode(r);t.length&&t.forEach(n=>{let s=n.shadowRoot.textContent;s&&e.push(s);});}return e=e.filter(t=>t!==""),e},getPageHTML(r=document.documentElement,a){let e=[];if(e.push(r.innerHTML),a){let t=this.depthQueryShadowRootAllNode(r);t.length&&t.forEach(n=>{let s=n.shadowRoot.innerHTML;s&&e.push(s);});}return e=e.filter(t=>t!==""),e},getInputElementValue(r=document.documentElement,a){let e=[];if(Array.from(r.querySelectorAll("input")).forEach(t=>{e.push(t.value);}),a){let t=this.depthQueryShadowRootAllNode(r);t.length&&t.forEach(n=>{for(let s=0;s<n.childNode.length;s++){const i=n.childNode[s];i instanceof HTMLInputElement&&i.value&&e.push(i.value);}});}return e},getTextAreaElementValue(r=document.documentElement,a){let e=[];if(Array.from(r.querySelectorAll("textarea")).forEach(t=>{e.push(t.value);}),a){let t=this.depthQueryShadowRootAllNode(r);t.length&&t.forEach(n=>{for(let s=0;s<n.childNode.length;s++){const i=n.childNode[s];i instanceof HTMLTextAreaElement&&i.value&&e.push(i.value);}});}return e},getSelectContent(){let r={text:"",html:""},a=window.getSelection();if(a){r.text=a.toString();let e=w.createElement("div");if(!a.isCollapsed){const t=a.getRangeAt(0).cloneContents();e.appendChild(t),r.html=w.html(e);}}return r}},Wa=`.whitesevPopNetDiskHistoryMatch .pops-confirm-content {\r
	display: flex;\r
	flex-direction: column;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content ul {\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content li {\r
	display: flex;\r
	flex-direction: column;\r
	justify-content: center;\r
	border-radius: 10px;\r
	box-shadow: 0 0.3px 0.6px rgb(0 0 0 / 6%), 0 0.7px 1.3px rgb(0 0 0 / 8%),\r
		0 1.3px 2.5px rgb(0 0 0 / 10%), 0 2.2px 4.5px rgb(0 0 0 / 12%),\r
		0 4.2px 8.4px rgb(0 0 0 / 14%), 0 10px 20px rgb(0 0 0 / 20%);\r
	margin: 20px 10px;\r
	padding: 10px;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-search {\r
	/*height: 11%;*/\r
	flex: 0;\r
	padding: 5px 0px;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-table {\r
	/*height: calc(85% - 40px);*/\r
	overflow: auto;\r
	flex: 1;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-page {\r
	display: flex;\r
	justify-content: center;\r
	align-items: center;\r
	/*margin-top: 10px;*/\r
	flex: 0;\r
	padding: 5px 0px;\r
}\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-search\r
	input {\r
	border: none;\r
	border-bottom: 1px solid #000000;\r
	padding: 0px 5px;\r
	line-height: normal;\r
	width: -moz-available;\r
	width: -webkit-fill-available;\r
	width: fill-available;\r
	margin: 5px 5px 0px 5px;\r
	background: none;\r
}\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-search\r
	input:focus-visible {\r
	outline: none;\r
	border-bottom: 1px solid #0009ff;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-link {\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-link a {\r
	color: #ff4848;\r
	font-size: 0.8em;\r
	border: none;\r
	word-break: break-word;\r
}\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-link\r
	a[isvisited="true"] {\r
	color: #8b8888;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-icon {\r
}\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-icon\r
	.netdisk-icon-img {\r
	width: 28px;\r
	height: 28px;\r
	min-width: 28px;\r
	min-height: 28px;\r
	font-size: 0.8em;\r
	border-radius: 10px;\r
	box-shadow: 0 0.3px 0.6px rgb(0 0 0 / 6%), 0 0.7px 1.3px rgb(0 0 0 / 8%),\r
		0 1.3px 2.5px rgb(0 0 0 / 10%), 0 2.2px 4.5px rgb(0 0 0 / 12%),\r
		0 4.2px 8.4px rgb(0 0 0 / 14%), 0 10px 20px rgb(0 0 0 / 20%);\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-url {\r
	color: #000;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-top-url {\r
	color: #000;\r
}\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-functions\r
	button.btn-delete {\r
	background: #263cf3;\r
	color: #fff;\r
}\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-functions\r
	button.btn-delete:active {\r
	background: #6e7be8;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-link,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-icon,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-url,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-top-url,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-add-time,\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-update-time,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-url-title,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-functions {\r
	display: flex;\r
	margin: 5px 0px;\r
}\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-link p,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-icon p,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-url p,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-top-url p,\r
.whitesevPopNetDiskHistoryMatch .pops-confirm-content .netdiskrecord-add-time p,\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-update-time\r
	p,\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-url-title\r
	p,\r
.whitesevPopNetDiskHistoryMatch\r
	.pops-confirm-content\r
	.netdiskrecord-functions\r
	p {\r
	min-width: 80px;\r
	max-width: 80px;\r
	align-self: center;\r
}\r
`,st={storageKey:"netDiskHistoryMatch",isSetOtherEvent:false,dataPaging:void 0,show(){let r=this.getStorageData(),a="",e=this;r=this.orderNetDiskHistoryMatchData(r),a=`
        <div class="netdiskrecord-search">
            <input type="text" placeholder="ÊêúÁ¥¢ÈìæÊé•/ÁΩëÂùÄ/ÁΩëÂùÄÊ†áÈ¢òÔºåÂèØÊ≠£ÂàôÊêúÁ¥¢">
        </div>
        <div class="netdiskrecord-table">
			<ul></ul>
		</div>
        <div class="netdiskrecord-page">

        </div>`,C.Alias.historyAlias=q.confirm({title:{text:"ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï",position:"center"},content:{text:a,html:true},btn:{reverse:true,position:"space-between",close:{callback(t){t.close(),C.Alias.historyAlias=void 0;}},ok:{enable:false,callback(t){t.close(),C.Alias.historyAlias=void 0;}},cancel:{enable:true,text:"ÂÖ≥Èó≠",callback(t){t.close(),C.Alias.historyAlias=void 0;}},other:{enable:true,text:`Ê∏ÖÁ©∫ÊâÄÊúâ(${r.length})`,type:"xiaomi-primary",callback:()=>{q.confirm({title:{text:"Âà†Èô§",position:"center"},content:{text:"Á°ÆÂÆöÊ∏ÖÁ©∫ÊâÄÊúâÁöÑËÆ∞ÂΩïÔºü",html:false},btn:{ok:{enable:true,callback(t){e.clearStorageData(),e.clearLinkElements(),e.clearPageNavigator(),t.close();let n=C.Alias.historyAlias.$shadowRoot.querySelector(".netdiskrecord-page"),s=C.Alias.historyAlias.$shadowRoot.querySelector(".pops-confirm-btn-other");w.html(n,""),w.text(s,w.text(s).replace(/[\d]+/gi,"0"));}},cancel:{text:"ÂèñÊ∂à",enable:true}}});}}},mask:{clickCallBack(t){t(),C.Alias.historyAlias=null;}},class:"whitesevPopNetDiskHistoryMatch",style:Wa},C.popsStyle.historyMatchView),this.addLinkElements(r.slice(0,9)),this.setDataPaging(r),this.setEvent(C.Alias.historyAlias.$shadowRoot),this.setSearchEvent(),C.setRightClickMenu(C.Alias.historyAlias.$shadowRoot.querySelector(".whitesevPopNetDiskHistoryMatch"),".netdiskrecord-link a",true);},getLinkContainer(){return C.Alias.historyAlias.$shadowRoot.querySelector(".netdiskrecord-table ul")},addLinkElements(r){Array.isArray(r)||(r=[r]);let a=document.createDocumentFragment();for(let t=0;t<r.length;t++){let n=r[t],s=this.createLinkItemElementInfo(n);a.appendChild(s.$liItemContainer);}this.getLinkContainer().appendChild(a);},createLinkItemElementInfo(r){let a=L.handleLinkShow({ruleKeyName:r.ruleKeyName,ruleIndex:r.ruleIndex,shareCode:r.shareCode,accessCode:r.accessCode,matchText:r.matchText}),e=w.createElement("li",{innerHTML:`
			<div class="netdiskrecord-link">
				<p>ÈìæÊé•</p>
				<a  href="javascript:;" isvisited="false">${a}</a>
			</div>
			<div class="netdiskrecord-icon">
				<p>ÁΩëÁõò</p>
				<div class="netdisk-icon-img"></div>
			</div>
			<div class="netdiskrecord-url">
				<p>ÁΩëÂùÄ</p>
				<a href="${r.url}" target="_blank">${r.url}</a>
			</div>
			<div class="netdiskrecord-url-title">
				<p>ÁΩëÂùÄÊ†áÈ¢ò</p>
				${r.title}
			</div>
			<div class="netdiskrecord-add-time">
				<p>ËÆ∞ÂΩïÊó∂Èó¥</p>
				${p.formatTime(r.addTime)}
			</div>
			<div class="netdiskrecord-update-time">
				<p>Êõ¥Êñ∞Êó∂Èó¥</p>
				${p.formatTime(r.updateTime)}
			</div>
			<div class="netdiskrecord-functions">
				<p>ÂäüËÉΩ</p>
				<button class="btn-delete">Âà†Èô§</button>
			</div>
			`}),t=e.querySelector(".netdiskrecord-link"),n=t.querySelector("a"),s=e.querySelector(".netdiskrecord-icon"),i=e.querySelector(".netdisk-icon-img"),o=e.querySelector(".netdiskrecord-url"),l=e.querySelector(".netdiskrecord-url-title"),c=e.querySelector(".netdiskrecord-add-time"),u=e.querySelector(".netdiskrecord-update-time"),d=e.querySelector(".netdiskrecord-functions"),h=d.querySelector(".btn-delete");if(de.handleElementAttributeRuleInfo({ruleKeyName:r.ruleKeyName,ruleIndex:r.ruleIndex,shareCode:r.shareCode,accessCode:r.accessCode},n),i.style.cssText=`background: url(${C.src.icon[r.ruleKeyName]}) no-repeat;background-size:100%`,r.url!==r.topURL){let m=w.createElement("div",{className:"netdiskrecord-top-url",innerHTML:`
				<p>TopÁΩëÂùÄ</p>
				<a href="${r.topURL}" target="_blank">${r.topURL}</a>
				`});w.after(o,m);}return h.setAttribute("data-json",JSON.stringify(r)),Reflect.set(h,"data-json",r),{$liItemContainer:e,$link:t,$linkAnchor:n,$icon:s,$iconImg:i,$url:o,$urlTitle:l,$addTime:c,$updateTime:u,$features:d,$featuresBtnDelete:h,html:e.outerHTML}},clearLinkElements(){let r=this.getLinkContainer();w.empty(r);},clearPageNavigator(){w.remove(C.Alias.historyAlias.$shadowRoot.querySelectorAll(".netdiskrecord-page > *"));},setEvent(r){let a=this;C.view.setNetDiskUrlClickEvent(r,".netdiskrecord-link a"),w.on(r,"click",".netdiskrecord-functions button.btn-delete",function(e){var d;let t=r.querySelector(".pops-confirm-btn-other"),n=q.loading({parent:a.getLinkContainer(),content:{text:"Âà†Èô§‰∏≠..."},only:true,addIndexCSS:false}),s=e.target,i=s.getAttribute("data-json");(d=s.closest("li"))==null||d.remove(),a.deleteStorageData(i),n==null||n.close();let o=w.text(t),l=o.match(/[\d]+/gi),c=parseInt(l[l.length-1]);c--,o=o.replace(/[\d]+/gi,c.toString()),w.text(t,o);let u=a.getStorageData();u=a.orderNetDiskHistoryMatchData(u),a.dataPaging.refresh(u),a.pageChangeCallBack(u,a.dataPaging.CONFIG.currentPage);});},pageChangeCallBack(r,a){let e=(a-1)*10,t=r.slice(e,e+9);this.clearLinkElements(),this.addLinkElements(t);},setDataPaging(r){let a=this,e=new Xt({data:r,pageCount:10,pageStep:H.isPhone()?2:4,currentPage:1,pageChangeCallBack:function(t){a.pageChangeCallBack(r,t);}});this.dataPaging=e,e.addCSS(C.Alias.historyAlias.$shadowRoot),e.append(C.Alias.historyAlias.$shadowRoot.querySelector(".whitesevPopNetDiskHistoryMatch .netdiskrecord-page"));},setSearchEvent(){let r=false,a,e=this;function t(){if(r)return;r=true,a=q.loading({parent:e.getLinkContainer(),content:{text:"ÊêúÁ¥¢‰∏≠..."},only:true,addIndexCSS:false});let n=C.Alias.historyAlias.$shadowRoot.querySelector(".whitesevPopNetDiskHistoryMatch .netdiskrecord-search input").value.trim(),s=e.getStorageData();if(s=e.orderNetDiskHistoryMatchData(s),n===""){e.clearLinkElements(),e.clearPageNavigator(),e.addLinkElements(s.slice(0,9)),a==null||a.close(),r=false,e.setDataPaging(s);return}g.info("ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï-ÊêúÁ¥¢Ôºö"+n);let i=s.filter(o=>{let l=L.handleLinkShow({ruleKeyName:o.ruleKeyName,ruleIndex:o.ruleIndex,shareCode:o.shareCode,accessCode:o.accessCode,matchText:o.matchText,showToast:false});if(l||g.info(o),typeof l=="string"&&l.match(new RegExp(n,"i"))||o.shareCode.match(new RegExp(n,"i"))||o.url.match(new RegExp(n,"i"))||o.topURL.match(new RegExp(n,"i"))||o.title.match(new RegExp(n,"i")))return  true});e.clearLinkElements(),e.clearPageNavigator(),e.addLinkElements(i),a==null||a.close(),a=void 0,r=false;}w.listenKeyboard(C.Alias.historyAlias.$shadowRoot.querySelector(".whitesevPopNetDiskHistoryMatch .netdiskrecord-search input"),"keypress",n=>{n==="Enter"&&t();});},orderNetDiskHistoryMatchData(r){let a=y.historyMatch["netdisk-history-match-ordering-rule"].value,e=a.indexOf("ÈôçÂ∫è")!==-1,t=a.indexOf("ËÆ∞ÂΩïÊó∂Èó¥")!==-1?"addTime":"updateTime";return p.sortListByProperty(r,n=>n[t],e),r},queryAccessCode(r,a,e){let t=this.getStorageData();for(let n=0;n<t.length;n++){const s=t[n];if(s.ruleKeyName===r&&s.shareCode===a)return e&&p.isNotNull(s.accessCode),s.accessCode}},syncAccessCode(r,a,e,t){if(y.historyMatch.saveMatchNetDisk.value){if(st.changeMatchedDataAccessCode(r,a,e,t))return g.success("Â∑≤ÊàêÂäüÂêåÊ≠•ËÆøÈóÆÁ†ÅËá≥ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï"),true;g.error("ÂêåÊ≠•ËÆøÈóÆÁ†ÅËá≥ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩïÂ§±Ë¥•");}return  false},changeMatchedDataAccessCode(r,a,e,t){let n=this.getStorageData(),s=false;for(let i=0;i<n.length;i++){const o=n[i];o.ruleKeyName===r&&String(o.ruleIndex)===String(a)&&o.shareCode===e&&(s=true,n[i].accessCode=t,n[i].updateTime=Date.now());}return s&&this.saveStorageData(n),s},changeMatchedData(r,a,e,t,n){if(!y.historyMatch.saveMatchNetDisk.value)return  false;let s=this.getStorageData(),i=false;for(let o=0;o<s.length;o++){const l=s[o];if(l.ruleKeyName===r&&e.startsWith(l.shareCode)&&l.ruleIndex===a&&(y.historyMatch["netdisk-history-match-merge-same-link"].value||l.url===window.location.href&&l.topURL===top.window.location.href)){i=true;let c=false;if(n.trim()!==""&&l.matchText!==n&&(c=true,g.success("ÂåπÈÖçÂéÜÂè≤ËÆ∞ÂΩï -> ËÆæÁΩÆÊñ∞ÁöÑmatchText",[n]),s[o].matchText=n),p.isNotNull(t)&&l.accessCode!==t&&(c=true,g.success("ÂåπÈÖçÂéÜÂè≤ËÆ∞ÂΩï -> ‰øÆÊîπaccessCode"),s[o].accessCode=t),c){s[o].updateTime=Date.now(),s[o].title&&(s[o].title=document.title),y.historyMatch["netdisk-history-match-merge-same-link"].value&&(s[o].url=window.location.href,s[o].topURL=top.window.location.href);break}}}if(!i){i=true,g.success("ÂåπÈÖçÂéÜÂè≤ËÆ∞ÂΩï -> Â¢ûÂä†Êñ∞ÁöÑ");let o=Date.now();s=[...s,{url:window.location.href,topURL:top.window.location.href,ruleKeyName:r,ruleIndex:a,shareCode:e,accessCode:t,addTime:o,updateTime:o,title:document.title||top.document.title,matchText:n}];}return this.saveStorageData(s),true},checkAndRepairLocalData(){let r=0,a=le(this.storageKey);if(Array.isArray(a))for(let e=0;e<a.length;e++){let t=false;const n=a[e];typeof n.matchText!="string"&&(n.matchText="",t=true),typeof n.ruleKeyName!="string"&&typeof n.netDiskName=="string"&&(n.ruleKeyName=n.netDiskName,delete n.netDiskName,t=true),typeof n.ruleIndex!="number"&&typeof n.netDiskIndex=="number"&&(n.ruleIndex=n.netDiskIndex,delete n.netDiskIndex,t=true),t&&r++;}else a=[];return this.saveStorageData(a),{count:a.length,repairCount:r}},getStorageData(){let r=le(this.storageKey,[]);return r==null&&(r=[],this.saveStorageData(r)),r},saveStorageData(r){fe(this.storageKey,r);},deleteStorageData(r){let a=false,e=this.getStorageData();for(let t=0;t<e.length;t++)if(JSON.stringify(e[t])===r){g.success("Âà†Èô§ ===> ",e[t]),e.splice(t,1),a=true;break}return a&&this.saveStorageData(e),a},clearStorageData(){this.saveStorageData([]);}};let Ft=class{constructor(a){G(this,"option");G(this,"storageApi");this.option=a,this.storageApi=new Le(a.STORAGE_API_KEY);}getAllSubscribe(){return this.storageApi.get(this.option.STORAGE_KEY,[])}getAllSubscribeRule(a=false){let e=this.getAllSubscribe(),t=[];for(let n=0;n<e.length;n++){const s=e[n];if(!(a&&!s.data.enable))for(let i=0;i<s.subscribeData.ruleData.length;i++){const o=s.subscribeData.ruleData[i];a&&!o.enable||(o.subscribeUUID=s.uuid,t.push(o));}}return t}getSubscribe(a){return this.getAllSubscribe().find(t=>t.uuid==a)}getSubscribeRule(a,e){let t=this.getSubscribe(a);if(t)return t.subscribeData.ruleData.find(s=>s.uuid===e)}deleteAllSubscribe(){this.storageApi.delete(this.option.STORAGE_KEY);}deleteSubscribe(a){let e=typeof a=="string"?a:a.uuid,t=this.getAllSubscribe(),n=t.findIndex(s=>s.uuid===e);return n!==-1&&(t.splice(n,1),this.storageApi.set(this.option.STORAGE_KEY,t)),n!==-1}clearSubscribe(a){let e=typeof a=="string"?a:a.uuid,t=this.getAllSubscribe(),n=t.findIndex(s=>s.uuid===e);return n!==-1?(t[n].subscribeData.ruleData=[],this.storageApi.set(this.option.STORAGE_KEY,t),true):false}addSubscribe(a){let e=false,t=this.getAllSubscribe();return t.findIndex(s=>s.uuid===a.uuid)===-1&&(t.push(a),e=true),e&&this.storageApi.set(this.option.STORAGE_KEY,t),e}updateSubscribe(a){let e=false,t=this.getAllSubscribe(),n=t.findIndex(s=>s.uuid===a.uuid);return n!==-1&&(t[n]=a,e=true),e&&this.storageApi.set(this.option.STORAGE_KEY,t),e}updateSubscribeRule(a,e){let t=false,n=this.getAllSubscribe(),s=n.find(i=>i.uuid===a);if(s){let i=s.subscribeData.ruleData.findIndex(o=>o.uuid===e.uuid);i!==-1&&(s.subscribeData.ruleData[i]=e,t=true);}return t&&this.storageApi.set(this.option.STORAGE_KEY,n),true}deleteSubscribeRule(a,e){let t=false,n=this.getAllSubscribe(),s=n.findIndex(i=>i.uuid===a);if(s!==-1){let o=n[s].subscribeData.ruleData.findIndex(l=>l.uuid===e.uuid);o!==-1&&(n[s].subscribeData.ruleData.splice(o,1),this.storageApi.set(this.option.STORAGE_KEY,n),t=true);}return t}async getSubscribeInfo(a){let e=await E.get(a,{allowInterceptConfig:false,timeout:1e4,headers:{"User-Agent":p.getRandomPCUA()}});if(!e.status)return g.error(e),{data:null,msg:"Ëé∑ÂèñËÆ¢ÈòÖ‰ø°ÊÅØÂ§±Ë¥•"};let t=e.data.responseText,n=p.toJSON(t);return typeof n.title=="string"&&typeof n.version=="number"&&typeof n.lastModified=="number"&&Array.isArray(n.ruleData)?{data:{uuid:p.generateUUID(),subscribeData:n,data:{enable:true,url:a,latestUpdateTime:Date.now(),updateFailedTime:null}},msg:""}:(g.error(n),{data:null,msg:"ËÆ¢ÈòÖÈìæÊé•ÁöÑÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ"})}async updateAllSubscribe(){let a=this.getAllSubscribe();for(let e=0;e<a.length;e++){const t=a[e];if(!t.data.enable||typeof t.data.updateFailedTime=="number"&&p.formatTime(t.data.updateFailedTime,"yyyyMMdd")===p.formatTime(Date.now(),"yyyyMMdd")||typeof t.data.latestUpdateTime=="number"&&p.formatTime(Date.now(),"yyyyMMdd")===p.formatTime(t.data.latestUpdateTime,"yyyyMMdd"))continue;let n=await this.getSubscribeInfo(t.data.url),s=false;if(n.data){let i=n.data;i.uuid=t.uuid,i.data=t.data,i.data.latestUpdateTime=Date.now();let o=i.data.title||i.subscribeData.title||i.data.url;t.data.updateFailedTime=null,s=this.updateSubscribe(i),s?g.success(`Êõ¥Êñ∞ËÆ¢ÈòÖÊàêÂäüÔºö${o}`):g.error(`Êõ¥Êñ∞ËÆ¢ÈòÖÂ§±Ë¥•Ôºö${o}`,t);}else g.error("Êõ¥Êñ∞ËÆ¢ÈòÖÂ§±Ë¥•Ôºö"+n.msg,t);s||(t.data.updateFailedTime=Date.now(),this.updateSubscribe(t));}}importSubscribe(a){let e=H.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂÖ•ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="local">Êú¨Âú∞ÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="network">ÁΩëÁªúÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="clipboard">Ââ™Ë¥¥ÊùøÂØºÂÖ•</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(l,c){l.close();}}},drag:true,mask:{enable:true},width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='local']"),n=e.$shadowRoot.querySelector(".btn-control[data-mode='network']"),s=e.$shadowRoot.querySelector(".btn-control[data-mode='clipboard']"),i=l=>{let c=this.getAllSubscribe(),u=[];for(let d=0;d<l.length;d++){const h=l[d];c.findIndex(k=>k.uuid===h.uuid)!==-1||u.push(h);}c=c.concat(u),this.storageApi.set(this.option.STORAGE_KEY,c),f.success(`ÂÖ± ${l.length} Êù°ËÆ¢ÈòÖÔºåÊñ∞Â¢û ${u.length} Êù°`),a==null||a();},o=l=>new Promise(c=>{let u=p.toJSON(l);if(!Array.isArray(u)){g.error(u),f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåÊ†ºÂºè‰∏çÁ¨¶ÂêàÔºà‰∏çÊòØÊï∞ÁªÑÔºâ",{consoleLogContent:true}),c(false);return}if(!u.length){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÂá∫ÁöÑÊï∞ÊçÆ‰∏∫Á©∫",{consoleLogContent:true}),c(false);return}let d=u[0];if(!(typeof d.data=="object"&&d.data!=null&&typeof d.subscribeData=="object"&&d.subscribeData!=null&&typeof d.uuid=="string")){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÁöÑÊ†ºÂºè‰∏çÁ¨¶Âêà",{consoleLogContent:true}),c(false);return}i(u),c(true);});w.on(t,"click",l=>{p.preventEvent(l),e.close();let c=w.createElement("input",{type:"file",accept:".json"});w.on(c,["propertychange","input"],u=>{var m;if(!((m=c.files)!=null&&m.length))return;let d=c.files[0],h=new FileReader;h.onload=()=>{o(h.result);},h.readAsText(d,"UTF-8");}),c.click();}),w.on(n,"click",l=>{p.preventEvent(l),e.close();let c=H.prompt({title:{text:"ÁΩëÁªúÂØºÂÖ•",position:"center"},content:{text:"",placeholder:"ËØ∑Â°´ÂÜôURL",focus:true},btn:{close:{enable:true,callback(h,m){h.close();}},ok:{text:"ÂØºÂÖ•",callback:async(h,m)=>{let k=h.text;if(p.isNull(k)){f.error("ËØ∑Â°´ÂÖ•ÂÆåÊï¥ÁöÑurl");return}let b=f.loading("Ê≠£Âú®Ëé∑ÂèñÈÖçÁΩÆ..."),R=await E.get(k,{allowInterceptConfig:false});if(b.close(),!R.status){g.error(R),f.error("Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•",{consoleLogContent:true});return}await o(R.data.responseText)&&h.close();}},cancel:{enable:false}},drag:true,mask:{enable:true},width:Z.info.width,height:"auto"}),u=c.$shadowRoot.querySelector("input"),d=c.$shadowRoot.querySelector(".pops-prompt-btn-ok");w.on(u,["input","propertychange"],h=>{w.val(u)===""?w.attr(d,"disabled","true"):w.removeAttr(d,"disabled");}),w.listenKeyboard(u,"keydown",(h,m,k)=>{h==="Enter"&&k.length===0&&w.val(u)!==""&&p.dispatchEvent(d,"click");}),p.dispatchEvent(u,"input");}),w.on(s,"click",async l=>{p.preventEvent(l),e.close();let c=await Dt.getClipboardText();if(c.trim()===""){f.warning("Ëé∑ÂèñÂà∞ÁöÑÂâ™Ë¥¥ÊùøÂÜÖÂÆπ‰∏∫Á©∫");return}await o(c);});}exportSubscribe(a="rule.json"){let e=H.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂá∫ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="only-export-rule-list">ÂØºÂá∫ËÆ¢ÈòÖ</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(s,i){s.close();}}},drag:true,mask:{enable:true},width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='only-export-rule-list']"),n=(s,i)=>{let o=new Blob([JSON.stringify(i,null,4)]),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=s,c.click(),setTimeout(()=>{window.URL.revokeObjectURL(l);},1500);};w.on(t,"click",s=>{p.preventEvent(s);try{let i=this.getAllSubscribe();if(i.length===0){f.warning("ËÆ¢ÈòÖ‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}n(a,i),e.close();}catch(i){f.error(i.toString(),{consoleLogContent:true});}});}};const ie=new Ft({STORAGE_API_KEY:"character-mapping-rule",STORAGE_KEY:"character-mapping-subscribe-rule"}),dt=new Le("character-mapping-rule"),lt={$data:{STORAGE_KEY:"character-mapping",EXPORT_CONFIG_KEY:"rule-export-config"},getTemplateData(){return {uuid:p.generateUUID(),subscribeUUID:null,enable:true,name:"",data:{url:"",isRegExp:true,regExpFlag:"ig",searchValue:"",replaceValue:""},dynamicData:[]}},getRulePanelViewOption(r){const a=this;let e=H.config.panelHandleContentUtils(),t=()=>r??this.getTemplateData();function n(i){return {get(o,l){return i[o]??l},set(o,l){i[o]=l;}}}return {id:"netdisk-rule",title:"Â≠óÁ¨¶Êò†Â∞Ñ",headerTitle:"Â≠óÁ¨¶Êò†Â∞ÑËßÑÂàô",subscribe:{enable:true,data(){return ie.getAllSubscribe()},getData:i=>ie.getSubscribe(i.uuid)??i,getDataItemName(i){return `
						<style>
							.subscribe-rule-title-info-wrapper{
								display: flex;
								flex-direction: column;
								gap: 4px;
							}
							.subscribe-rule-title-info-wrapper .rule-name-text{
								white-space: nowrap;
								text-overflow: ellipsis;
								overflow: hidden;
								font-weight: 600;
								font-size: 16px;
								line-height: 24px;
							}
							.subscribe-rule-title-info-wrapper .subscribe-rule-small-span-text{
								font-size: 14px;
								line-height: 16px;
								white-space: pre-wrap;
							}
						</style>
						<div class="subscribe-rule-title-info-wrapper">
							<div class="rule-name-text" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;font-size: 16px;font-weight: 600;line-height: 24px;">${i.data.title||i.subscribeData.title||i.data.url}</div>
								<div class="subscribe-rule-small-span-text">${i.subscribeData.ruleData.length} Êù°ËßÑÂàôÔºåÊõ¥Êñ∞‰∫éÔºö${p.formatTime(i.data.latestUpdateTime,"yyyyÂπ¥MMÊúàddÊó• HH:mm:ss")}${typeof i.data.updateFailedTime=="number"?`Ôºå<span style="color: red;">Êõ¥Êñ∞Â§±Ë¥•‰∫éÔºö${p.formatTime(i.data.updateFailedTime,"yyyyÂπ¥MMÊúàddÊó• HH:mm:ss")}</span>`:""}</div>
								${i.subscribeData.homePage?`<a href="${i.subscribeData.homePage}" class="subscribe-rule-small-span-text" target="_blank" style="color:#67b279;">ËΩ¨Âà∞‰∏ªÈ°µ</a>`:""}
								<a href="${i.data.url}" class="subscribe-rule-small-span-text" target="_blank" style="color:#67b279;">ËÆ¢ÈòÖÂú∞ÂùÄ</a>
						</div>`},addData:i=>ie.addSubscribe(i),updateData:i=>ie.updateSubscribe(i),deleteData:i=>ie.deleteSubscribe(i),btnControls:{add:{enable:true},filter:{enable:true,title:"ËøáÊª§ËÆ¢ÈòÖ",option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËÆ¢ÈòÖ",filterCallBack(i){return i.data.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËÆ¢ÈòÖ",filterCallBack(i){return !i.data.enable}}]},clearAll:{enable:true,callback:()=>{ie.deleteAllSubscribe();}},ruleEnable:{enable:true,getEnable(i){return i.data.enable},async callback(i,o){i.data.enable=o,ie.updateSubscribe(i);}},ruleEdit:{enable:true,callback:i=>{let o=i.ruleData.uuid;return i.enterDeepMenu({headerTitle:i.ruleData.data.title||i.ruleData.subscribeData.title||i.ruleData.data.url,data(){var c;let l=ie.getSubscribe(o);return ((c=l==null?void 0:l.subscribeData)==null?void 0:c.ruleData)??i.ruleData.subscribeData.ruleData},getData(l){return ie.getSubscribeRule(o,l.uuid)??l},getDataItemName(l){return l.name??l.data.url},addData(l){return  true},updateData(l){return ie.updateSubscribeRule(o,l)},deleteData(l){return ie.deleteSubscribeRule(o,l)},btnControls:{filter:{enable:true,option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(l){return l.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(l){return !l.enable}}]},clearAll:{enable:true,callback:()=>{ie.clearSubscribe(o);}},ruleEnable:{enable:true,getEnable(l){return l.enable},callback(l,c){l.enable=c,ie.updateSubscribeRule(o,l);}},ruleEdit:{enable:true,getView:(l,c)=>{c||(l=t());let u=document.createDocumentFragment(),d=j("ÂêØÁî®","enable",true);Reflect.set(d.props,U,n(l));let h=e.createSectionContainerItem_switch(d),m=Q("ËßÑÂàôÂêçÁß∞","name","","",void 0,"ÂøÖÂ°´");Reflect.set(m.props,U,n(l));let k=e.createSectionContainerItem_input(m),b=Q("ÂåπÈÖçÁΩëÂùÄ","url","","",void 0,"ÂøÖÂ°´ÔºåÂèØÊ≠£Âàô");Reflect.set(b.props,U,n(l.data));let R=e.createSectionContainerItem_input(b),v=_=>{let M=this.getTemplateData(),I=Q("Â≠óÁ¨¶ËßÑÂàô","searchValue",M.data.searchValue,"",void 0,"ÂøÖÂ°´ÔºåÂèØÊ≠£Âàô");Reflect.set(I.props,U,n(_));let V=e.createSectionContainerItem_input(I),$=j("ÊòØÂê¶ÂêØÁî®Ê≠£Âàô","isRegExp",M.data.isRegExp,void 0,"‰ΩøÁî®Ê≠£ÂàôËøõË°åÂåπÈÖçÂ≠óÁ¨¶ËßÑÂàô");Reflect.set($.props,U,n(l.data));let z=e.createSectionContainerItem_switch($),O=Q("Ê≠£ÂàôÊ†áËØÜÁ¨¶","regExpFlag",M.data.regExpFlag,"",void 0,"i:‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô  g:ÂÖ®Â±Ä");Reflect.set(O.props,U,n(l.data));let Y=e.createSectionContainerItem_input(O),te=Q("Êò†Â∞Ñ‰∏∫","replaceValue",M.data.replaceValue,"",void 0,"");Reflect.set(te.props,U,n(l.data));let J=e.createSectionContainerItem_input(te);return {$data_searchValue:V,$data_isRegExp:z,$data_regExpFlag:Y,$data_replaceValue:J}},N=w.createElement("div",{className:"rule-form-ulist-dynamic",innerHTML:`
									<div class="rule-form-ulist-dynamic__inner">

									</div>
									<div class="pops-panel-button pops-panel-button-no-icon">
										<button class="pops-panel-button_inner" type="default">
											<i class="pops-bottom-icon" is-loading="false"></i>
											<span class="pops-panel-button-text">Ê∑ªÂä†È¢ùÂ§ñÂ±ûÊÄß</span>
										</button>
									</div>`}),A=N.querySelector(".rule-form-ulist-dynamic__inner"),D=N.querySelector(".pops-panel-button"),x=_=>{let M=this.getTemplateData();_=_??{searchValue:M.data.searchValue,isRegExp:M.data.isRegExp,regExpFlag:M.data.regExpFlag,replaceValue:M.data.replaceValue};let I=w.createElement("div",{className:"rule-form-ulist-dynamic__inner-container",innerHTML:`
										<div class="dynamic-control-delete">
											<div class="pops-panel-button pops-panel-button-no-icon">
												<button class="pops-panel-button_inner" type="danger">
													<i class="pops-bottom-icon" is-loading="false"></i>
													<span class="pops-panel-button-text">√ó</span>
												</button>
											</div>
										</div>
										<ul class="dynamic-forms">

										</ul>`}),V=I.querySelector(".dynamic-control-delete");w.on(V,"click",J=>{if(p.preventEvent(J),I.remove(),Array.isArray(l.dynamicData)){let Ae=l.dynamicData.findIndex(Me=>Me==_);Ae!==-1&&l.dynamicData.splice(Ae,1);}});let $=I.querySelector(".dynamic-forms"),{$data_searchValue:z,$data_isRegExp:O,$data_regExpFlag:Y,$data_replaceValue:te}=v(_);$.appendChild(z),$.appendChild(O),$.appendChild(Y),$.appendChild(te),A.appendChild(I);};if(w.on(D,"click",_=>{p.preventEvent(_),x();}),Array.isArray(l.dynamicData))for(let _=0;_<l.dynamicData.length;_++){const M=l.dynamicData[_];x(M);}let S=v(l.data);return u.appendChild(h),u.appendChild(k),u.appendChild(R),u.appendChild(S.$data_searchValue),u.appendChild(S.$data_isRegExp),u.appendChild(S.$data_regExpFlag),u.appendChild(S.$data_replaceValue),u.appendChild(N),u},onsubmit:(l,c,u)=>{let d=l.querySelectorAll(".rule-form-ulist > li"),h=this.getTemplateData();return c&&(h.uuid=u.uuid),d.forEach(m=>{let k=Reflect.get(m,"__formConfig__"),b=Reflect.get(k,"attributes"),R=Reflect.get(m,U),v=Reflect.get(b,pe),N=Reflect.get(b,me),A=R.get(v,N);Reflect.has(h,v)?Reflect.set(h,v,A):Reflect.has(h.data,v)?Reflect.set(h.data,v,A):g.error(`${v}‰∏çÂú®Êï∞ÊçÆ‰∏≠`);}),l.querySelectorAll(".rule-form-ulist-dynamic__inner-container").forEach(m=>{let k={};m.querySelectorAll(".dynamic-forms > li").forEach(b=>{let R=Reflect.get(b,"__formConfig__");if(!R)return;let v=Reflect.get(R,"attributes");if(!v)return;let N=Reflect.get(b,U),A=Reflect.get(v,pe),D=Reflect.get(v,me),x=N.get(A,D);Reflect.set(k,A,x);}),h.dynamicData.push(k);}),h.name.trim()===""?(f.error("ËßÑÂàôÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:h}):h.data.url.trim()===""?(f.error("ÂåπÈÖçÁΩëÂùÄ‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:h}):h.data.searchValue.trim()===""||Array.isArray(h.dynamicData)&&h.dynamicData.findIndex(m=>m.searchValue.trim()==="")!==-1?(f.error("Â≠óÁ¨¶ËßÑÂàô‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:h}):c?{success:this.updateData(h),data:h}:{success:this.addData(h),data:h}}},ruleDelete:{enable:true,deleteCallBack(l){return ie.deleteSubscribeRule(o,l)}}}}),false}},ruleDelete:{enable:true,deleteCallBack:i=>ie.deleteSubscribe(i)},import:{enable:true,callback(i){ie.importSubscribe(()=>{i();});}},export:{enable:true,callback(){ie.exportSubscribe(ve+"-Â≠óÂÖ∏Êò†Â∞Ñ-ËÆ¢ÈòÖ.json");}}},getSubscribeInfo:ie.getSubscribeInfo.bind(ie)},ruleOption:{btnControls:{add:{enable:true},filter:{enable:true,title:"ËøáÊª§ËßÑÂàô",option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(i){return i.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(i){return !i.enable}},{name:"ËøáÊª§„ÄêÂú®ÂΩìÂâçÁΩëÂùÄÁîüÊïà„ÄëÁöÑËßÑÂàô",filterCallBack(i){return !!window.location.href.match(i.data.url)}}]},clearAll:{enable:true,callback:()=>{a.clearData();}},import:{enable:true,callback:i=>{a.importRule(()=>{i();});}},export:{enable:true,callback:()=>{a.exportRule(ve+"-Â≠óÁ¨¶Êò†Â∞Ñ.json",ve+"-Â≠óÁ¨¶Êò†Â∞Ñ-ËÆ¢ÈòÖÊ®°Âºè.json");}},ruleEnable:{enable:true,getEnable(i){return i.enable},callback:(i,o)=>{i.enable=o,a.updateData(i);}},ruleEdit:{enable:true,getView:(i,o)=>{let l=document.createDocumentFragment();o||(i=t());let c=j("ÂêØÁî®","enable",true);Reflect.set(c.props,U,n(i));let u=e.createSectionContainerItem_switch(c),d=Q("ËßÑÂàôÂêçÁß∞","name","","",void 0,"ÂøÖÂ°´");Reflect.set(d.props,U,n(i));let h=e.createSectionContainerItem_input(d),m=Q("ÂåπÈÖçÁΩëÂùÄ","url","","",void 0,"ÂøÖÂ°´ÔºåÂèØÊ≠£Âàô");Reflect.set(m.props,U,n(i.data));let k=e.createSectionContainerItem_input(m),b=x=>{let S=this.getTemplateData(),_=Q("Â≠óÁ¨¶ËßÑÂàô","searchValue",S.data.searchValue,"",void 0,"ÂøÖÂ°´ÔºåÂèØÊ≠£Âàô");Reflect.set(_.props,U,n(x));let M=e.createSectionContainerItem_input(_),I=j("ÊòØÂê¶ÂêØÁî®Ê≠£Âàô","isRegExp",S.data.isRegExp,void 0,"‰ΩøÁî®Ê≠£ÂàôËøõË°åÂåπÈÖçÂ≠óÁ¨¶ËßÑÂàô");Reflect.set(I.props,U,n(i.data));let V=e.createSectionContainerItem_switch(I),$=Q("Ê≠£ÂàôÊ†áËØÜÁ¨¶","regExpFlag",S.data.regExpFlag,"",void 0,"i:‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜô  g:ÂÖ®Â±Ä");Reflect.set($.props,U,n(i.data));let z=e.createSectionContainerItem_input($),O=Q("Êò†Â∞Ñ‰∏∫","replaceValue",S.data.replaceValue,"",void 0,"");Reflect.set(O.props,U,n(i.data));let Y=e.createSectionContainerItem_input(O);return {$data_searchValue:M,$data_isRegExp:V,$data_regExpFlag:z,$data_replaceValue:Y}},R=w.createElement("div",{className:"rule-form-ulist-dynamic",innerHTML:`
									<div class="rule-form-ulist-dynamic__inner">

									</div>
									<div class="pops-panel-button pops-panel-button-no-icon">
										<button class="pops-panel-button_inner" type="default">
											<i class="pops-bottom-icon" is-loading="false"></i>
											<span class="pops-panel-button-text">Ê∑ªÂä†È¢ùÂ§ñÂ±ûÊÄß</span>
										</button>
									</div>`}),v=R.querySelector(".rule-form-ulist-dynamic__inner"),N=R.querySelector(".pops-panel-button"),A=x=>{let S=this.getTemplateData();x=x??{searchValue:S.data.searchValue,isRegExp:S.data.isRegExp,regExpFlag:S.data.regExpFlag,replaceValue:S.data.replaceValue};let _=w.createElement("div",{className:"rule-form-ulist-dynamic__inner-container",innerHTML:`
										<div class="dynamic-control-delete">
											<div class="pops-panel-button pops-panel-button-no-icon">
												<button class="pops-panel-button_inner" type="danger">
													<i class="pops-bottom-icon" is-loading="false"></i>
													<span class="pops-panel-button-text">√ó</span>
												</button>
											</div>
										</div>
										<ul class="dynamic-forms">

										</ul>`}),M=_.querySelector(".dynamic-control-delete");w.on(M,"click",Y=>{if(p.preventEvent(Y),_.remove(),Array.isArray(i.dynamicData)){let te=i.dynamicData.findIndex(J=>J==x);te!==-1&&i.dynamicData.splice(te,1);}});let I=_.querySelector(".dynamic-forms"),{$data_searchValue:V,$data_isRegExp:$,$data_regExpFlag:z,$data_replaceValue:O}=b(x);I.appendChild(V),I.appendChild($),I.appendChild(z),I.appendChild(O),v.appendChild(_);};if(w.on(N,"click",x=>{p.preventEvent(x),A();}),Array.isArray(i.dynamicData))for(let x=0;x<i.dynamicData.length;x++){const S=i.dynamicData[x];A(S);}let D=b(i.data);return l.appendChild(u),l.appendChild(h),l.appendChild(k),l.appendChild(D.$data_searchValue),l.appendChild(D.$data_isRegExp),l.appendChild(D.$data_regExpFlag),l.appendChild(D.$data_replaceValue),l.appendChild(R),l},onsubmit:(i,o,l)=>{let c=i.querySelectorAll(".rule-form-ulist > li"),u=this.getTemplateData();return o&&(u.uuid=l.uuid),c.forEach(d=>{let h=Reflect.get(d,"__formConfig__"),m=Reflect.get(h,"attributes"),k=Reflect.get(d,U),b=Reflect.get(m,pe),R=Reflect.get(m,me),v=k.get(b,R);Reflect.has(u,b)?Reflect.set(u,b,v):Reflect.has(u.data,b)?Reflect.set(u.data,b,v):g.error(`${b}‰∏çÂú®Êï∞ÊçÆ‰∏≠`);}),i.querySelectorAll(".rule-form-ulist-dynamic__inner-container").forEach(d=>{let h={};d.querySelectorAll(".dynamic-forms > li").forEach(m=>{let k=Reflect.get(m,"__formConfig__");if(!k)return;let b=Reflect.get(k,"attributes");if(!b)return;let R=Reflect.get(m,U),v=Reflect.get(b,pe),N=Reflect.get(b,me),A=R.get(v,N);Reflect.set(h,v,A);}),u.dynamicData.push(h);}),u.name.trim()===""?(f.error("ËßÑÂàôÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:u}):u.data.url.trim()===""?(f.error("ÂåπÈÖçÁΩëÂùÄ‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:u}):u.data.searchValue.trim()===""||Array.isArray(u.dynamicData)&&u.dynamicData.findIndex(d=>d.searchValue.trim()==="")!==-1?(f.error("Â≠óÁ¨¶ËßÑÂàô‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:u}):o?{success:this.updateData(u),data:u}:{success:this.addData(u),data:u}}},ruleDelete:{enable:true,deleteCallBack:i=>a.deleteData(i)}},data:()=>this.getData(),getAddData:()=>t(),getData:i=>this.getData().find(c=>c.uuid===i.uuid)??i,getDataItemName:i=>i.name??i.data.url,updateData:i=>this.updateData(i),deleteData:i=>this.deleteData(i)}}},getUrlMatchedRule(r=true,a=window.location.href){let e=this.getData(),t=ie.getAllSubscribeRule(r);return e=e.concat(t),e.filter(n=>{if(!(r&&!n.enable))return !!a.match(n.data.url)})},getMappingData(r=window.location.href){let a=this.getUrlMatchedRule(true,r),e=[];return a.forEach(t=>{try{let n=Array.isArray(t.dynamicData)?[...t.dynamicData].concat(t.data):[t.data];for(let s=0;s<n.length;s++){const i=n[s];i.isRegExp?e.push({searchValue:new RegExp(i.searchValue,i.regExpFlag),replaceValue:i.replaceValue}):e.push({searchValue:i.searchValue,replaceValue:i.replaceValue});}}catch(n){g.error("Â≠óÁ¨¶Êò†Â∞ÑËßÑÂàôËΩ¨Êç¢ÂèëÁîüÈîôËØØÔºö",n);}}),e},getData(){return le(this.$data.STORAGE_KEY,[])},setData(r){fe(this.$data.STORAGE_KEY,r);},addData(r){let a=this.getData();return a.findIndex(t=>t.uuid==r.uuid)===-1?(a.push(r),fe(this.$data.STORAGE_KEY,a),true):false},updateData(r){let a=this.getData(),e=a.findIndex(n=>n.uuid==r.uuid),t=false;return e!==-1&&(t=true,a[e]=r),this.setData(a),t},deleteData(r){let a=this.getData(),e=a.findIndex(n=>n.uuid==r.uuid),t=false;return e!==-1&&(t=true,a.splice(e,1)),this.setData(a),t},clearData(){gt(this.$data.STORAGE_KEY);},exportRule(r="rule.json",a="rule-subscribe.json"){let e=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂá∫ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="only-export-rule-list">ÂØºÂá∫ËßÑÂàô</div>
                    <div class="btn-control" data-mode="export-to-subscribe">ÂØºÂá∫ËÆ¢ÈòÖËßÑÂàô</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(i,o){i.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='only-export-rule-list']"),n=e.$shadowRoot.querySelector(".btn-control[data-mode='export-to-subscribe']"),s=(i,o)=>{let l=new Blob([JSON.stringify(o,null,4)]),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,u.click(),setTimeout(()=>{window.URL.revokeObjectURL(c);},1500);};w.on(t,"click",i=>{p.preventEvent(i);try{let o=this.getData();if(o.length===0){f.warning("ËßÑÂàô‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}s(r,o),e.close();}catch(o){f.error(o.toString(),{consoleLogContent:true});}}),w.on(n,"click",i=>{p.preventEvent(i);const o=this;e.close();try{if(this.getData().length===0){f.warning("ËßÑÂàô‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}let c=H.config.panelHandleContentUtils(),u=function(x){return {get(S,_){return x[S]??_},set(S,_){x[S]=_,dt.set(o.$data.EXPORT_CONFIG_KEY,x);}}},d=()=>{let x=dt.get(this.$data.EXPORT_CONFIG_KEY,{});if((x==null?void 0:x.title)===""||x.title==null){f.error("ËÆ¢ÈòÖÊ†áÈ¢ò‰∏çËÉΩ‰∏∫Á©∫");return}if(x.version==null){f.error("ÁâàÊú¨Âè∑‰∏çËÉΩ‰∏∫Á©∫");return}else x.version=Number(x.version);x.homePage==null&&(x.homePage=void 0),x.lastModified=Date.now(),x.ruleData=this.getData(),s(a,x),h.close();},h=q.alert({title:{text:"ËØ∑Â°´ÂÜôÂØºÂá∫ÈÖçÁΩÆ",position:"center"},content:{text:`
							
						`,html:!0},btn:{ok:{enable:!0,text:"ÂØºÂá∫",callback(x,S){d();}},close:{enable:!0,callback(x,S){x.close();}}},mask:{enable:!0},drag:!0,width:Z.info.width,height:Z.info.height,style:`
						${H.config.cssText.panelCSS}

						.pops-alert-content li{
							list-style-type: none;
							display: flex;
							align-items: center;
							justify-content: space-between;
							margin: 10px;
						}
					`}),m=h.$shadowRoot.querySelector(".pops-alert-content"),k=dt.get(this.$data.EXPORT_CONFIG_KEY,{}),b=Q("ËÆ¢ÈòÖÊ†áÈ¢ò","title","","",void 0,"");Reflect.set(b.props,U,u(k));let R=c.createSectionContainerItem_input(b),v=Q("ÁâàÊú¨Âè∑","version","","",void 0,"",!1);Reflect.set(v.props,U,u(k));let N=c.createSectionContainerItem_input(v),A=Q("‰∏ªÈ°µÂú∞ÂùÄ","homePage","","",void 0,"ÈÄâÂ°´");Reflect.set(A.props,U,u(k));let D=c.createSectionContainerItem_input(A);w.append(m,R),w.append(m,N),w.append(m,D);}catch(l){f.error(l.toString(),{consoleLogContent:true});}});},importRule(r){let a=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂÖ•ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="local">Êú¨Âú∞ÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="network">ÁΩëÁªúÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="clipboard">Ââ™Ë¥¥ÊùøÂØºÂÖ•</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(o,l){o.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
            `}),e=a.$shadowRoot.querySelector(".btn-control[data-mode='local']"),t=a.$shadowRoot.querySelector(".btn-control[data-mode='network']"),n=a.$shadowRoot.querySelector(".btn-control[data-mode='clipboard']"),s=o=>{let l=this.getData(),c=[];for(let u=0;u<o.length;u++){const d=o[u];l.findIndex(m=>m.uuid===d.uuid)!==-1||c.push(d);}l=l.concat(c),this.setData(l),f.success(`ÂÖ± ${o.length} Êù°ËßÑÂàôÔºåÊñ∞Â¢û ${c.length} Êù°`),r==null||r();},i=o=>new Promise(l=>{let c=p.toJSON(o);if(!Array.isArray(c)){g.error(c),f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåÊ†ºÂºè‰∏çÁ¨¶ÂêàÔºà‰∏çÊòØÊï∞ÁªÑÔºâ",{consoleLogContent:true}),l(false);return}if(!c.length){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÂá∫ÁöÑÊï∞ÊçÆ‰∏∫Á©∫",{consoleLogContent:true}),l(false);return}s(c),l(true);});w.on(e,"click",o=>{p.preventEvent(o),a.close();let l=w.createElement("input",{type:"file",accept:".json"});w.on(l,["propertychange","input"],c=>{var h;if(!((h=l.files)!=null&&h.length))return;let u=l.files[0],d=new FileReader;d.onload=()=>{i(d.result);},d.readAsText(u,"UTF-8");}),l.click();}),w.on(t,"click",o=>{p.preventEvent(o),a.close();let l=q.prompt({title:{text:"ÁΩëÁªúÂØºÂÖ•",position:"center"},content:{text:"",placeholder:"ËØ∑Â°´ÂÜôURL",focus:true},btn:{close:{enable:true,callback(d,h){d.close();}},ok:{text:"ÂØºÂÖ•",callback:async(d,h)=>{let m=d.text;if(p.isNull(m)){f.error("ËØ∑Â°´ÂÖ•ÂÆåÊï¥ÁöÑurl");return}let k=f.loading("Ê≠£Âú®Ëé∑ÂèñÈÖçÁΩÆ..."),b=await E.get(m,{allowInterceptConfig:false});if(k.close(),!b.status){g.error(b),f.error("Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•",{consoleLogContent:true});return}await i(b.data.responseText)&&d.close();}},cancel:{enable:false}},mask:{enable:true},drag:true,width:Z.info.width,height:"auto"}),c=l.$shadowRoot.querySelector("input"),u=l.$shadowRoot.querySelector(".pops-prompt-btn-ok");w.on(c,["input","propertychange"],d=>{w.val(c)===""?w.attr(u,"disabled","true"):w.removeAttr(u,"disabled");}),w.listenKeyboard(c,"keydown",(d,h,m)=>{d==="Enter"&&m.length===0&&w.val(c)!==""&&p.dispatchEvent(u,"click");}),p.dispatchEvent(c,"input");}),w.on(n,"click",async o=>{p.preventEvent(o),a.close();let l=await p.getClipboardInfo();if(l.error!=null){f.error(l.error.toString());return}if(l.content.trim()===""){f.warning("Ëé∑ÂèñÂà∞ÁöÑÂâ™Ë¥¥ÊùøÂÜÖÂÆπ‰∏∫Á©∫");return}await i(l.content);});}},Je={addHost(r){let a=this.getList();a.includes(r)||a.push(r),this.updateList(a);},findHost(r){return this.getList().findIndex(t=>t===r)!==-1},removeHost(r){let a=this.getList(),e=false,t=a.findIndex(n=>n===r);return t!==-1&&(e=true,a.splice(t,1),this.updateList(a)),e},getList(){let r=le(P.neverTipWorkerInitErrorKey,[]);return Array.isArray(r)||(r=[r]),r},updateList(r){fe(P.neverTipWorkerInitErrorKey,r);}};class Ka{constructor(a){G(this,"option");this.option=a;}showView(){let a=H.alert({title:{text:this.option.title,position:"center"},content:{text:`
                <div class="filter-container"></div>
                `},btn:{ok:{text:"ÂÖ≥Èó≠",type:"default"}},drag:true,mask:{enable:true},width:window.innerWidth>500?"350px":"80vw",height:window.innerHeight>500?"300px":"70vh",style:`
            .filter-container{
                height: 100%;
                display: flex;
                flex-direction: column;
                gap: 20px;
            }
            .filter-container button{
                text-wrap: wrap;
                padding: 8px;
                height: auto;
                text-align: left;
            }
            `}),e=a.$shadowRoot.querySelector(".filter-container"),t=document.createDocumentFragment();this.option.filterOption.forEach(n=>{let s=document.createElement("button");s.innerText=n.name;let i=async()=>{(await this.option.getAllRuleInfo()).forEach(async l=>{await n.filterCallBack(l.data)?w.show(l.$el,false):w.hide(l.$el,false);}),typeof this.option.execFilterCallBack=="function"&&await this.option.execFilterCallBack(),a.close();};w.on(s,"click",async o=>{p.preventEvent(o),!(typeof n.callback=="function"&&!await n.callback(o,i))&&await i();}),t.appendChild(s);}),e.appendChild(t);}}class Ya{constructor(a){G(this,"option");this.option=a;}async showView(){var i;let a=H.confirm({title:{text:this.option.title,position:"center"},content:{text:`
                    <form class="rule-form-container" onsubmit="return false">
                        <ul class="rule-form-ulist">
                            
                        </ul>
                        <input type="submit" style="display: none;" />
                    </form>
                    `,html:true},btn:p.assign({ok:{callback:async()=>{await s();}}},this.option.btn||{},true),drag:true,mask:{enable:true},style:`
                ${H.config.cssText.panelCSS}
                
                .rule-form-container {
                    
                }
                .rule-form-container li{
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 5px 20px;
                    gap: 10px;
                }
				.rule-form-ulist-dynamic{
					--button-margin-top: 0px;
					--button-margin-right: 0px;
					--button-margin-bottom: 0px;
					--button-margin-left: 0px;
					display: flex;
					flex-direction: column;
					align-items: flex-start;
					padding: 5px 0px 5px 20px;
				}
				.rule-form-ulist-dynamic__inner{
					width: 100%;
				}
				.rule-form-ulist-dynamic__inner-container{
					display: flex;
					align-items: center;
				}
				.dynamic-forms{
					width: 100%;
				}
                .pops-panel-item-left-main-text{
                    max-width: 150px;
                }
                .pops-panel-item-right-text{
                    padding-left: 30px;
                }
                .pops-panel-item-right-text,
                .pops-panel-item-right-main-text{
                    text-overflow: ellipsis;
                    overflow: hidden;
                    white-space: nowrap;
                }
				.pops-panel-item-left-desc-text{
					line-height: normal;
					margin-top: 6px;
					font-size: 0.8em;
					color: rgb(108, 108, 108);
				}

                ${((i=this.option)==null?void 0:i.style)??""}
            `,width:typeof this.option.width=="function"?this.option.width():window.innerWidth>500?"500px":"88vw",height:typeof this.option.height=="function"?this.option.height():window.innerHeight>500?"500px":"80vh"}),e=a.$shadowRoot.querySelector(".rule-form-container");a.$shadowRoot.querySelector("input[type=submit]");let t=a.$shadowRoot.querySelector(".rule-form-ulist"),n=await this.option.getView(await this.option.data());t.appendChild(n);const s=async()=>{(await this.option.onsubmit(e,await this.option.data())).success&&(a.close(),await this.option.dialogCloseCallBack(true));};}}class Ot{constructor(a){G(this,"option");this.option=a;}async showView(a){const e=this;let t=this.option.contentConfig;t.forEach(n=>{var i,o;n.forms=[],n.headerTitle=n.headerTitle||n.title,(i=n.subscribe)!=null&&i.enable&&(n.headerTitle=n.headerTitle+`
                <div class="subscribe-container">
                    <button class="subscribe-btn" type="subscribe" data-has-icon="false" data-righticon="false">
                        <span>${((o=n.subscribe)==null?void 0:o.title)||"ËÆ¢ÈòÖ"}</span>
                    </button>
                </div>
            `);let s=n.callback;n.callback=async(l,c,u)=>{if(typeof s=="function"&&s(l,u,u),n.subscribe&&n.subscribe.enable){let k=c.querySelector(".subscribe-btn");const b=n.subscribe;w.on(k,"click",async R=>{var D;p.preventEvent(R),await((D=b==null?void 0:b.callback)==null?void 0:D.call(b));let v=this.enterDeepMenu(u,(b==null?void 0:b.headerTitle)||(b==null?void 0:b.title)||"ËÆ¢ÈòÖ",()=>{this.updateRuleContaienrElement(n.ruleOption,b,u);}),N=v.$rightRuleContainer;this.createButtonControls(N,v.$section,b,async()=>{let x=H.prompt({title:{text:"Ê∑ªÂä†ËÆ¢ÈòÖ",position:"center"},content:{text:"",focus:true,placeholder:"ËæìÂÖ•URL"},btn:{cancel:{enable:false},ok:{enable:true,text:"‰∏ã‰∏ÄÊ≠•",async callback(M,I){let V=w.val(S).trim();if(V==="")return;g.info("ËÆ¢ÈòÖÔºö"+V);let $=f.loading("Ê≠£Âú®Ëé∑ÂèñËÆ¢ÈòÖ‰ø°ÊÅØ...");try{let z=await(b==null?void 0:b.getSubscribeInfo(V));if(z.data){M.close();let O=z.data,Y=O.data.title||O.subscribeData.title||O.data.url,te=H.alert({title:{text:"Ê∑ªÂä†ËÆ¢ÈòÖ",position:"center"},content:{text:`
																	<div class="subscribe-network-title">
																		<span>ËÆ¢ÈòÖÈìæÊé•ÂêçÁß∞Ôºö</span>
																		<input type="text" placeholder="ËæìÂÖ•ËÆ¢ÈòÖÈìæÊé•ÁöÑÂêçÁß∞">
																	</div>
																	<div class="subscribe-network-data-count"></div>
																	<div class="subscribe-network-home-url"></div>
																	<div class="subscribe-network-url"></div>
																	<div class="subscribe-network-version"></div>
																	<div class="subscribe-network-last-modified"></div>
																`,html:!0},btn:{ok:{text:"Ê∑ªÂä†",type:"subscribe",callback:async(We,ut)=>{await b.addData(O)||f.error("ËØ•ËÆ¢ÈòÖÂ∑≤Â≠òÂú®",{consoleLogContent:!0}),e.updateRuleContaienrElement(b,b,v.$section),We.close();}}},drag:!0,mask:{enable:!0},width:Z.setting.width,height:"auto",style:`
																.pops button[type="subscribe"]{
																	--button-color: #ffffff;
																	--button-bd-color: #67b279;
																	--button-bg-color: #67b279;
																}
																.pops button[type="subscribe"]:hover{
																	--button-color: #ffffff;
																	--button-bd-color:rgb(91, 159, 107);;
																	--button-bg-color:rgb(91, 159, 107);;
																}

																.pops-alert-content{
																	display: flex;
																	flex-direction: column;
																	gap: 4px;
																	padding: 20px;
																}
																.pops-alert-content a {
																	color: #3d3d3d;
																}
																.pops-alert-content > div{
																	display: flex;
																}
																.pops-alert-content > div > span:first-child{
																	white-space: nowrap;
																}
																.subscribe-network-title input{
																	width: 100%;
																	flex: 1 1 auto;
																	line-height: 1.3;
																	outline: none;
																	text-overflow: ellipsis;
																	border-radius: 8px;
																	border: 1px solid #e4e4e4;
																	background-color: #f6f6f6;
																	padding: 16px 16px 16px 16px;
																	font-size: 16px;
																}
																.subscribe-network-title input:focus{

																}
															`}),J=te.$shadowRoot.querySelector(".subscribe-network-title input"),Ae=te.$shadowRoot.querySelector(".subscribe-network-data-count"),Me=te.$shadowRoot.querySelector(".subscribe-network-home-url"),ct=te.$shadowRoot.querySelector(".subscribe-network-url"),Be=te.$shadowRoot.querySelector(".subscribe-network-version"),Ge=te.$shadowRoot.querySelector(".subscribe-network-last-modified");w.val(J,Y),w.on(J,["input","propertychange"],We=>{let ut=w.val(J);O.data.title=ut===""?void 0:ut;}),w.html(Ae,`
																<span>ËßÑÂàôÊï∞ÈáèÔºö</span>
																<span>${O.subscribeData.ruleData.length}</span>
															`),typeof O.subscribeData.homePage=="string"?w.html(Me,`
																<span>‰∏ªÈ°µÔºö</span>
																<a href="${O.subscribeData.homePage}" target="_blank">${O.subscribeData.homePage}</a>
															`):Me.remove(),w.html(ct,`
																<span>URLÔºö</span>
																<a href="${O.data.url}" target="_blank">${O.data.url}</a>
															`),O.subscribeData.version!=null?w.html(Be,`
																	<span>ÁâàÊú¨Ôºö</span>
																	<span>${O.subscribeData.version}</span>
																`):Be.remove(),O.subscribeData.lastModified!=null?w.html(Ge,`
																	<span>Êõ¥Êñ∞Êó∂Èó¥Ôºö</span>
																	<span>${p.formatTime(O.subscribeData.lastModified)}</span>
																`):Ge.remove();}else f.error(z.msg,{consoleLogContent:!0});}catch(z){f.error(z.toString(),{consoleLogContent:true});}finally{$.close();}}}},drag:true,mask:{enable:true},width:Z.info.width,height:"auto"}),S=x.$shadowRoot.querySelector("input"),_=x.$shadowRoot.querySelector(".pops-prompt-btn-ok ");w.on(S,["input","propertychange"],M=>{w.val(S)===""?w.attr(_,"disabled","true"):w.removeAttr(_,"disabled");}),w.listenKeyboard(S,"keydown",(M,I,V,$)=>{M==="Enter"&&V.length===0&&(p.preventEvent($),p.dispatchEvent(_,"click"));}),p.dispatchEvent(S,"input");});let A=await b.data();await this.addRuleElement(b,b,v.$section,A);});}let d=this.createButtonControls(u,u,n.ruleOption,async()=>{this.showEditView(n.ruleOption,void 0,false,await n.ruleOption.getAddData(),u);}),h=await n.ruleOption.data(),m=false;await this.addRuleElement(n.ruleOption,void 0,u,h,(k,b)=>{(typeof a=="function"?a(k):true)||(m=true,w.hide(b,false));}),m&&d.$ruleControlFilter&&w.text(d.$ruleControlFilter,"ÂèñÊ∂àËøáÊª§");};}),H.panel({title:{text:typeof this.option.title=="function"?this.option.title():this.option.title,position:"center"},content:t,btn:{close:{enable:true,callback(n,s){n.close();}}},drag:true,mask:{enable:true,clickEvent:{toClose:false}},class:this.option.className||"rule-panel-view",width:Z.settingBig.width,height:Z.settingBig.height,style:`
                ${this.option.style||""}
                .pops button[type="subscribe"]{
                    --button-color: #ffffff;
                    --button-bd-color: #67b279;
                    --button-bg-color: #67b279;
                }
                .pops button[type="subscribe"]:hover{
                    --button-color: #ffffff;
                    --button-bd-color:rgb(91, 159, 107);;
                    --button-bg-color:rgb(91, 159, 107);;
                }
                section.pops-panel-container .pops-panel-container-header-ul li:has(.subscribe-btn){
                    justify-content: space-between !important;
                }
				section.pops-panel-container ul li.rule-controls{
					justify-content: flex-start;
					overflow-x: auto;
				}

				section.pops-panel-container ul:has(>.rule-view-container){
					overflow: hidden;
					display: flex;
					flex-direction: column;
				}

				.rule-view-container{
					margin: var(--pops-panel-forms-margin-top-bottom) calc(var(--pops-panel-forms-margin-left-right) + var(--pops-panel-forms-margin-left-right));
					margin-top: 0;
					overflow: auto;
					background: #ffffff;
					border-radius: var(--pops-panel-forms-container-item-border-radius);
					padding: 5px 10px;
					position: relative;
				}
				.rule-view-container:empty{
					display: none;
				}
				.rule-item{
					display: flex;
					align-items: center;
					line-height: normal;
					font-size: 16px;
					padding: 4px 8px;
					gap: 8px;
				}
				.rule-name{
					flex: 1;
					white-space: nowrap;
					text-overflow: ellipsis;
					overflow: hidden;
				}
				.rule-controls{
					display: flex;
					align-items: center;
					text-overflow: ellipsis;
					overflow: hidden;
					white-space: nowrap;
					gap: 8px;
					padding: 0px;
				}
				.rule-controls-enable{
					
				}
				.rule-controls-edit{
					
				}
				.rule-controls-delete{
					
				}
				.rule-controls-edit,
				.rule-controls-delete{
					width: 16px;
					height: 16px;
					cursor: pointer;
				}
            `});}enterDeepMenu(a,e,t){let n=a.matches("section")?a:a.closest("section");w.addClass(n,"pops-hide-important");let s=w.createElement("section",{className:"pops-panel-container pops-panel-deepMenu-container",innerHTML:`
				<ul class="pops-panel-deepMenu-container-header-ul">
					<div class="pops-panel-deepMenu-container-header">
						<i class="pops-panel-deepMenu-container-left-arrow-icon">${H.config.iconSVG.arrowLeft}</i>
						<p>${e}</p>
					</div>
				</ul>
				<ul class="pops-panel-ulist-container"></ul>
			`});w.after(n,s);let i=s.querySelector(".pops-panel-deepMenu-container-header-ul"),o=s.querySelector(".pops-panel-deepMenu-container-left-arrow-icon"),l=s.querySelector(".pops-panel-ulist-container");return w.on(o,"click",c=>{p.preventEvent(c);let u=w.prev(s);w.remove(s),u&&w.removeClass(u,"pops-hide-important"),t();}),{$section:s,$headerContainer:i,$arrowLeft:o,$rightRuleContainer:l,quiteDeepMenu:()=>{o.click();}}}createButtonControls(a,e,t,n){var m,k,b,R,v;let s=t.btnControls,i=w.createElement("li",{className:"rule-controls"});w.append(a,i);let o=null;(m=s==null?void 0:s.add)!=null&&m.enable&&(o=w.createElement("button",{className:"rule-control-add",innerHTML:"<span>Ê∑ªÂä†</span>"},{type:"primary","data-has-icon":"false","data-righticon":"false"}),w.on(o,"click",async N=>{var D,x,S;p.preventEvent(N);let A=await((S=(x=(D=t.btnControls)==null?void 0:D.add)==null?void 0:x.callback)==null?void 0:S.call(this,{event:N,$section:e}));typeof A=="boolean"&&!A||await(n==null?void 0:n());}),w.append(i,o));let l=null;(k=s==null?void 0:s.filter)!=null&&k.enable&&(l=w.createElement("button",{className:"rule-control-filter",innerHTML:"<span>ËøáÊª§</span>"},{type:"default","data-has-icon":"false","data-righticon":"false"}),w.on(l,"click",async N=>{var S,_,M,I,V,$,z;p.preventEvent(N);let A=await((_=(S=s==null?void 0:s.filter)==null?void 0:S.callback)==null?void 0:_.call(S));if(typeof A=="boolean"&&!A)return;let D=()=>Array.from(e.querySelectorAll(".rule-view-container .rule-item")),x=l;if(x)if(w.text(x).includes("ÂèñÊ∂à"))D().forEach(O=>{w.show(O,false);}),w.text(x,"ËøáÊª§");else {let O="ËøáÊª§ËßÑÂàô";typeof((M=s==null?void 0:s.filter)==null?void 0:M.title)=="function"?O=(I=s==null?void 0:s.filter)==null?void 0:I.title():typeof((V=s==null?void 0:s.filter)==null?void 0:V.title)=="string"&&(O=($=s==null?void 0:s.filter)==null?void 0:$.title),new Ka({title:O,filterOption:((z=s==null?void 0:s.filter)==null?void 0:z.option)||[],execFilterCallBack(){w.text(x,"ÂèñÊ∂àËøáÊª§");},getAllRuleInfo:()=>D().map(te=>({data:this.parseRuleElement(te).data,$el:te}))}).showView();}}),w.append(i,l));let c=null;(b=s==null?void 0:s.clearAll)!=null&&b.enable&&(c=w.createElement("button",{className:"rule-control-clear-all",innerHTML:"<span>Ê∏ÖÁ©∫ÊâÄÊúâ</span>"},{type:"xiaomi-primary","data-has-icon":"false","data-righticon":"false"}),w.on(c,"click",N=>{p.preventEvent(N);let A=H.confirm({title:{text:"ÊèêÁ§∫",position:"center"},content:{text:"Á°ÆÂÆöÊ∏ÖÁ©∫ÊâÄÊúâÁöÑÊï∞ÊçÆÔºü",html:false},btn:{ok:{enable:true,callback:async D=>{var _,M;g.success("Ê∏ÖÁ©∫ÊâÄÊúâ");let x=await((M=(_=s==null?void 0:s.clearAll)==null?void 0:_.callback)==null?void 0:M.call(_));if(typeof x=="boolean"&&!x)return;let S=await(t==null?void 0:t.data());if(!S||S.length){f.error("Ê∏ÖÁêÜÂ§±Ë¥•");return}else f.success("Ê∏ÖÁêÜÊàêÂäü");await this.updateDeleteAllBtnText(t,i),this.clearContent(e),A.close();}},cancel:{text:"ÂèñÊ∂à",enable:true}},drag:true,mask:{enable:true},width:"300px",height:"200px"});}),w.append(i,c));let u=null;(R=s==null?void 0:s.import)!=null&&R.enable&&(u=w.createElement("button",{className:"rule-control-import",innerHTML:"<span>ÂØºÂÖ•</span>"},{type:"default","data-has-icon":"false","data-righticon":"false"}),w.on(u,"click",async N=>{var D,x;p.preventEvent(N);await((x=(D=s==null?void 0:s.import)==null?void 0:D.callback)==null?void 0:x.call(D,()=>{this.updateRuleContaienrElement(t,void 0,e);}));}),w.append(i,u));let d=null;(v=s==null?void 0:s.export)!=null&&v.enable&&(d=w.createElement("button",{className:"rule-control-export",innerHTML:"<span>ÂØºÂá∫</span>"},{type:"default","data-has-icon":"false","data-righticon":"false"}),w.on(d,"click",async N=>{var D,x;p.preventEvent(N);await((x=(D=s==null?void 0:s.export)==null?void 0:D.callback)==null?void 0:x.call(D,{event:N}));}),w.append(i,d));let h=w.createElement("div",{className:"rule-view-container",innerHTML:""});return w.append(e,h),{$ruleContainer:h,$ruleControls:i,$ruleControlAdd:o,$ruleControlFilter:l,$ruleControlClearAll:c,$ruleControlImport:u,$ruleControlExport:d}}parseViewElement(a){let e=a.querySelector(".rule-view-container"),t=a.querySelector(".rule-control-clear-all");return {$container:e,$deleteBtn:t}}parseRuleElement(a){let e=a.querySelector(".rule-controls-enable"),t=e.querySelector(".pops-panel-switch"),n=e.querySelector(".pops-panel-switch__input"),s=e.querySelector(".pops-panel-switch__core"),i=a.querySelector(".rule-controls-edit"),o=a.querySelector(".rule-controls-delete");return {$enable:e,$enableSwitch:t,$enableSwitchInput:n,$enableSwitchCore:s,$edit:i,$delete:o,data:Reflect.get(a,"data-rule")}}async createRuleElement(a,e,t,n){var b,R,v,N,A,D,x,S;let s=t,i=await a.getDataItemName(s),o=w.createElement("div",{className:"rule-item",innerHTML:`
			<div class="rule-name">${i}</div>
			<div class="rule-controls">
				<div class="rule-controls-enable">
					<div class="pops-panel-switch">
						<input class="pops-panel-switch__input" type="checkbox">
						<span class="pops-panel-switch__core">
							<div class="pops-panel-switch__action">
							</div>
						</span>
					</div>
				</div>
				<div class="rule-controls-edit">
					${H.config.iconSVG.edit}
				</div>
				<div class="rule-controls-delete">
					${H.config.iconSVG.delete}
				</div>
			</div>
			`});Reflect.set(o,"data-rule",s);let l="pops-panel-switch-is-checked";const{$enable:c,$enableSwitch:u,$enableSwitchCore:d,$enableSwitchInput:h,$delete:m,$edit:k}=this.parseRuleElement(o);return (R=(b=a.btnControls)==null?void 0:b.ruleEnable)!=null&&R.enable?(w.on(d,"click",async _=>{var I,V;let M=false;if(u.classList.contains(l)?(u.classList.remove(l),M=false):(u.classList.add(l),M=true),h.checked=M,await((V=(I=a==null?void 0:a.btnControls)==null?void 0:I.ruleEnable)==null?void 0:V.callback(s,M)),M&&e){let $=t,z=await e.getSubscribeInfo($.data.url);if(z.data){let O=z.data;O.uuid=$.uuid,O.data=$.data,O.data.latestUpdateTime=Date.now(),await e.updateData(O);}else $.data.updateFailedTime=Date.now(),await e.updateData($),g.error($),f.error(z.msg,{consoleLogContent:true});await this.updateRuleContaienrElement(a,e,n);}}),await((N=(v=a==null?void 0:a.btnControls)==null?void 0:v.ruleEnable)==null?void 0:N.getEnable(s))&&u.classList.add(l)):c.remove(),(D=(A=a==null?void 0:a.btnControls)==null?void 0:A.ruleEdit)!=null&&D.enable?w.on(k,"click",_=>{var M,I,V,$;if(p.preventEvent(_),typeof((I=(M=a.btnControls)==null?void 0:M.ruleEdit)==null?void 0:I.callback)=="function"){let z=($=(V=a.btnControls)==null?void 0:V.ruleEdit)==null?void 0:$.callback({context:this,event:_,option:a,subscribeOption:e,ruleData:s,$section:n,$ruleItem:o,enterDeepMenu:async O=>{let Y=this.enterDeepMenu(n,O.headerTitle||"",()=>{this.updateRuleContaienrElement(a,e,n);}),te=Y.$rightRuleContainer;this.createButtonControls(te,Y.$section,O,void 0);let J=await O.data();await this.addRuleElement(O,void 0,Y.$section,J);}});if(typeof z=="boolean"&&!z)return}this.showEditView(a,e,true,s,n,o,z=>{s=null,s=z;});}):k.remove(),(S=(x=a==null?void 0:a.btnControls)==null?void 0:x.ruleDelete)!=null&&S.enable?w.on(m,"click",_=>{p.preventEvent(_);let M=H.confirm({title:{text:"ÊèêÁ§∫",position:"center"},content:{text:"Á°ÆÂÆöÂà†Èô§ËØ•Êù°Êï∞ÊçÆÔºü",html:false},btn:{ok:{enable:true,callback:async I=>{var $,z;g.success("Âà†Èô§Êï∞ÊçÆ"),await((z=($=a==null?void 0:a.btnControls)==null?void 0:$.ruleDelete)==null?void 0:z.deleteCallBack(s))?(f.success("ÊàêÂäüÂà†Èô§ËØ•Êï∞ÊçÆ"),o.remove(),await this.updateDeleteAllBtnText(a,n),M.close()):f.error("Âà†Èô§ËØ•Êï∞ÊçÆÂ§±Ë¥•");}},cancel:{text:"ÂèñÊ∂à",enable:true}},drag:true,mask:{enable:true},width:"300px",height:"200px"});}):m.remove(),o}async addRuleElement(a,e,t,n,s){let{$container:i}=this.parseViewElement(t),o=[],l=Array.isArray(n)?n:[n],c=document.createDocumentFragment();for(let u=0;u<l.length;u++){let d=l[u],h=await this.createRuleElement(a,e,d,t);c.appendChild(h),s==null||s(d,h),o.push(h);}return i.appendChild(c),await this.updateDeleteAllBtnText(a,t),o}async updateRuleContaienrElement(a,e,t){this.clearContent(t);const{$container:n}=this.parseViewElement(t);let s=await a.data();await this.addRuleElement(a,e,t,s),await this.updateDeleteAllBtnText(a,t);}async updateRuleItemElement(a,e,t,n,s){let i=await this.createRuleElement(a,e,t,s);return n.after(i),n.remove(),i}clearContent(a){const{$container:e}=this.parseViewElement(a);w.html(e,"");}setDeleteBtnText(a,e,t=false){const{$deleteBtn:n}=this.parseViewElement(a);t?w.html(n,e):w.text(n,e);}async updateDeleteAllBtnText(a,e){let n=(await a.data()).length,s="Ê∏ÖÁ©∫ÊâÄÊúâ";n!==0&&(s+=`(${n})`),this.setDeleteBtnText(e,s);}showEditView(a,e,t,n,s,i,o,l){var d,h,m,k,b,R;let c=async v=>{if(v){if(typeof l=="function"){let N=await a.getData(n);l(N);}}else if(t||await a.deleteData(n),typeof o=="function"){let N=await a.getData(n);o(N);}};new Ya({title:t?"ÁºñËæë":"Ê∑ªÂä†",data:()=>n,dialogCloseCallBack:c,getView:async v=>{var N,A,D;return await((D=(A=(N=a.btnControls)==null?void 0:N.ruleEdit)==null?void 0:A.getView)==null?void 0:D.call(A,v,t))},btn:{ok:{enable:true,text:t?"‰øÆÊîπ":"Ê∑ªÂä†"},cancel:{callback:async(v,N)=>{v.close(),await c(false);}},close:{callback:async(v,N)=>{v.close(),await c(false);}}},onsubmit:async(v,N)=>{var D,x,S;let A=await((S=(x=(D=a==null?void 0:a.btnControls)==null?void 0:D.ruleEdit)==null?void 0:x.onsubmit)==null?void 0:S.call(x,v,t,N));return A.success?t?(f.success("‰øÆÊîπÊàêÂäü"),s&&await this.updateRuleItemElement(a,e,A.data,i,s)):s&&await this.addRuleElement(a,e,s,A.data):t&&g.error("‰øÆÊîπÂ§±Ë¥•"),A},style:(h=(d=a==null?void 0:a.btnControls)==null?void 0:d.ruleEdit)==null?void 0:h.style,width:(k=(m=a==null?void 0:a.btnControls)==null?void 0:m.ruleEdit)==null?void 0:k.viewWidth,height:(R=(b=a==null?void 0:a.btnControls)==null?void 0:b.ruleEdit)==null?void 0:R.viewHeight}).showView();}}const X=new Ft({STORAGE_API_KEY:"websiteRule",STORAGE_KEY:"rule-subscribe"});class Ja{constructor(a){G(this,"option");G(this,"storageApi");this.option=a,this.storageApi=new Le(a.STORAGE_API_KEY);}getAllSubscribe(){return this.storageApi.get(this.option.STORAGE_KEY,[])}getAllSubscribeRule(a=false){let e=this.getAllSubscribe(),t=[];for(let n=0;n<e.length;n++){const s=e[n];if(!(a&&!s.data.enable))for(let i=0;i<s.subscribeData.ruleData.length;i++){const o=s.subscribeData.ruleData[i];a&&!o.setting.enable||(o.subscribeUUID=s.uuid,t.push(o));}}return t}getSubscribe(a){return this.getAllSubscribe().find(t=>t.uuid==a)}getSubscribeRule(a,e){let t=this.getSubscribe(a);if(t)return t.subscribeData.ruleData.find(s=>s.key===e)}deleteAllSubscribe(){this.storageApi.delete(this.option.STORAGE_KEY);}deleteSubscribe(a){let e=typeof a=="string"?a:a.uuid,t=this.getAllSubscribe(),n=t.findIndex(s=>s.uuid===e);return n!==-1&&(t.splice(n,1),this.storageApi.set(this.option.STORAGE_KEY,t)),n!==-1}clearSubscribe(a){let e=typeof a=="string"?a:a.uuid,t=this.getAllSubscribe(),n=t.findIndex(s=>s.uuid===e);return n!==-1?(t[n].subscribeData.ruleData=[],this.storageApi.set(this.option.STORAGE_KEY,t),true):false}addSubscribe(a){let e=false,t=this.getAllSubscribe();return t.findIndex(s=>s.uuid===a.uuid)===-1&&(t.push(a),e=true),e&&this.storageApi.set(this.option.STORAGE_KEY,t),e}updateSubscribe(a){let e=false,t=this.getAllSubscribe(),n=t.findIndex(s=>s.uuid===a.uuid);return n!==-1&&(t[n]=a,e=true),e&&this.storageApi.set(this.option.STORAGE_KEY,t),e}updateSubscribeRule(a,e){let t=false,n=this.getAllSubscribe(),s=n.find(i=>i.uuid===a);if(s){let i=s.subscribeData.ruleData.findIndex(o=>o.key===e.key);i!==-1&&(s.subscribeData.ruleData[i]=e,t=true);}return t&&this.storageApi.set(this.option.STORAGE_KEY,n),true}deleteSubscribeRule(a,e){let t=false,n=typeof e=="string"?e:e.key,s=this.getAllSubscribe(),i=s.findIndex(o=>o.uuid===a);if(i!==-1){let l=s[i].subscribeData.ruleData.findIndex(c=>c.key===n);l!==-1&&(s[i].subscribeData.ruleData.splice(l,1),this.storageApi.set(this.option.STORAGE_KEY,s),t=true);}return t}async getSubscribeInfo(a){let e=await E.get(a,{allowInterceptConfig:false,timeout:1e4,headers:{"User-Agent":p.getRandomPCUA()}});if(!e.status)return g.error(e),{data:null,msg:"Ëé∑ÂèñËÆ¢ÈòÖ‰ø°ÊÅØÂ§±Ë¥•"};let t=e.data.responseText,n=p.toJSON(t);return typeof n.title=="string"&&typeof n.version=="number"&&typeof n.lastModified=="number"&&Array.isArray(n.ruleData)?{data:{uuid:p.generateUUID(),subscribeData:n,data:{enable:true,url:a,latestUpdateTime:Date.now(),updateFailedTime:null}},msg:""}:(g.error(n),{data:null,msg:"ËÆ¢ÈòÖÈìæÊé•ÁöÑÂÜÖÂÆπÊ†ºÂºè‰∏çÊ≠£Á°Æ"})}async updateAllSubscribe(){let a=this.getAllSubscribe();for(let e=0;e<a.length;e++){const t=a[e];if(!t.data.enable||typeof t.data.updateFailedTime=="number"&&p.formatTime(t.data.updateFailedTime,"yyyyMMdd")===p.formatTime(Date.now(),"yyyyMMdd")||typeof t.data.latestUpdateTime=="number"&&p.formatTime(Date.now(),"yyyyMMdd")===p.formatTime(t.data.latestUpdateTime,"yyyyMMdd"))continue;let n=await this.getSubscribeInfo(t.data.url),s=false;if(n.data){let i=n.data;i.uuid=t.uuid,i.data=t.data,i.data.latestUpdateTime=Date.now();let o=i.data.title||i.subscribeData.title||i.data.url;t.data.updateFailedTime=null,s=this.updateSubscribe(i),s?g.success(`Êõ¥Êñ∞ËÆ¢ÈòÖÊàêÂäüÔºö${o}`):g.error(`Êõ¥Êñ∞ËÆ¢ÈòÖÂ§±Ë¥•Ôºö${o}`,t);}else g.error("Êõ¥Êñ∞ËÆ¢ÈòÖÂ§±Ë¥•Ôºö"+n.msg,t);s||(t.data.updateFailedTime=Date.now(),this.updateSubscribe(t));}}importSubscribe(a){let e=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂÖ•ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="local">Êú¨Âú∞ÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="network">ÁΩëÁªúÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="clipboard">Ââ™Ë¥¥ÊùøÂØºÂÖ•</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(l,c){l.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='local']"),n=e.$shadowRoot.querySelector(".btn-control[data-mode='network']"),s=e.$shadowRoot.querySelector(".btn-control[data-mode='clipboard']"),i=l=>{let c=this.getAllSubscribe(),u=[];for(let d=0;d<l.length;d++){const h=l[d];c.findIndex(k=>k.uuid===h.uuid)!==-1||u.push(h);}c=c.concat(u),this.storageApi.set(this.option.STORAGE_KEY,c),f.success(`ÂÖ± ${l.length} Êù°ËÆ¢ÈòÖÔºåÊñ∞Â¢û ${u.length} Êù°`),a==null||a();},o=l=>new Promise(c=>{let u=p.toJSON(l);if(!Array.isArray(u)){g.error(u),f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåÊ†ºÂºè‰∏çÁ¨¶ÂêàÔºà‰∏çÊòØÊï∞ÁªÑÔºâ",{consoleLogContent:true}),c(false);return}if(!u.length){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÂá∫ÁöÑÊï∞ÊçÆ‰∏∫Á©∫",{consoleLogContent:true}),c(false);return}let d=u[0];if(!(typeof d.data=="object"&&d.data!=null&&typeof d.subscribeData=="object"&&d.subscribeData!=null&&typeof d.uuid=="string")){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÁöÑÊ†ºÂºè‰∏çÁ¨¶Âêà",{consoleLogContent:true}),c(false);return}i(u),c(true);});w.on(t,"click",l=>{p.preventEvent(l),e.close();let c=w.createElement("input",{type:"file",accept:".json"});w.on(c,["propertychange","input"],u=>{var m;if(!((m=c.files)!=null&&m.length))return;let d=c.files[0],h=new FileReader;h.onload=()=>{o(h.result);},h.readAsText(d,"UTF-8");}),c.click();}),w.on(n,"click",l=>{p.preventEvent(l),e.close();let c=q.prompt({title:{text:"ÁΩëÁªúÂØºÂÖ•",position:"center"},content:{text:"",placeholder:"ËØ∑Â°´ÂÜôURL",focus:true},btn:{close:{enable:true,callback(h,m){h.close();}},ok:{text:"ÂØºÂÖ•",callback:async(h,m)=>{let k=h.text;if(p.isNull(k)){f.error("ËØ∑Â°´ÂÖ•ÂÆåÊï¥ÁöÑurl");return}let b=f.loading("Ê≠£Âú®Ëé∑ÂèñÈÖçÁΩÆ..."),R=await E.get(k,{allowInterceptConfig:false});if(b.close(),!R.status){g.error(R),f.error("Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•",{consoleLogContent:true});return}await o(R.data.responseText)&&h.close();}},cancel:{enable:false}},mask:{enable:true},drag:true,width:Z.info.width,height:"auto"}),u=c.$shadowRoot.querySelector("input"),d=c.$shadowRoot.querySelector(".pops-prompt-btn-ok");w.on(u,["input","propertychange"],h=>{w.val(u)===""?w.attr(d,"disabled","true"):w.removeAttr(d,"disabled");}),w.listenKeyboard(u,"keydown",(h,m,k)=>{h==="Enter"&&k.length===0&&w.val(u)!==""&&p.dispatchEvent(d,"click");}),p.dispatchEvent(u,"input");}),w.on(s,"click",async l=>{p.preventEvent(l),e.close();let c=await p.getClipboardInfo();if(c.error!=null){f.error(c.error.toString());return}if(c.content.trim()===""){f.warning("Ëé∑ÂèñÂà∞ÁöÑÂâ™Ë¥¥ÊùøÂÜÖÂÆπ‰∏∫Á©∫");return}await o(c.content);});}exportSubscribe(a="rule.json"){let e=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂá∫ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="only-export-rule-list">ÂØºÂá∫ËÆ¢ÈòÖ</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(s,i){s.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='only-export-rule-list']"),n=(s,i)=>{let o=new Blob([JSON.stringify(i,null,4)]),l=window.URL.createObjectURL(o),c=document.createElement("a");c.href=l,c.download=s,c.click(),setTimeout(()=>{window.URL.revokeObjectURL(l);},1500);};w.on(t,"click",s=>{p.preventEvent(s);try{let i=this.getAllSubscribe();if(i.length===0){f.warning("ËÆ¢ÈòÖ‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}n(a,i),e.close();}catch(i){f.error(i.toString(),{consoleLogContent:true});}});}}const re=new Ja({STORAGE_API_KEY:"userRule",STORAGE_KEY:"rule-subscribe"}),Ze={init(){this.updateAllSubscribe();},getPanelView(r=0){let a={title:"ËßÑÂàôÁÆ°ÁêÜÂô®",contentConfig:[ue.getRulePanelViewOption(),ke.getRulePanelViewOption(),lt.getRulePanelViewOption()]};return a.contentConfig=a.contentConfig.map((t,n)=>(typeof r=="number"&&r===n||typeof r=="string"&&r===t.title?t.isDefault=true:t.isDefault=false,t)),new Ot(a)},showView(r){this.getPanelView(r).showView();},updateAllSubscribe(){re.updateAllSubscribe(),X.updateAllSubscribe(),ie.updateAllSubscribe();}},Xa={$data:{ajaxHooker:null},execMatch(r){y.match.toBeMatchedXhrHookResponseText.value&&(this.$data.ajaxHooker||(this.$data.ajaxHooker=p.ajaxHooker(),this.$data.ajaxHooker.hook(a=>{a.response=e=>{typeof e.responseText=="string"&&P.postMessage({...r,textList:[e.responseText],from:"Xhr"});};})));}},P={isHandleMatch:false,workerInitError:null,neverTipWorkerInitErrorKey:"never-toast-worker-error",delayNotMatchCount:0,postMessageType:"worker-init-error",dispatchMonitorDOMChange:false,blobUrl:"",GM_matchWorker:void 0,init(){this.listenWorkerInitErrorDialog(),this.initWorkerBlobUrl(),this.initWorker(),this.monitorDOMChange();},initWorkerBlobUrl(){const r=`
        (() => {
            function ${P.handleRegularMatch.toString()}

            function ${P.uniqueArr}
            
            this.addEventListener(
            "message",
            function (event) {
                const data = event.data;
                let matchedList = [];
                ${P.handleRegularMatch.name}(data,(matchData)=>{
                	matchedList.push(matchData);
                })
                matchedList = ${P.uniqueArr.name}(matchedList);
                this.postMessage({
					options: data,
					msg: "Match End",
					data: matchedList,
					startTime: data.startTime,
					endTime: Date.now(),
                });
            },
            {
                capture: true,
            }
            );
        })();
  		`;let a=new Blob([r],{type:"application/javascript"}),e=globalThis.URL.createObjectURL(a);globalThis.trustedTypes&&typeof globalThis.trustedTypes.createPolicy=="function"&&(e=globalThis.trustedTypes.createPolicy("workerPolicy",{createScriptURL:n=>n}).createScriptURL(e)),P.blobUrl=e;},handleRegularMatch(r,a){const e=Object.keys(r.matchedRuleOption),t=r.textList.map(n=>{for(let s=0;s<r.characterMapping.length;s++){const i=r.characterMapping[s];try{typeof i.searchValue=="string"?n=n.replaceAll(i.searchValue,i.replaceValue):n=n.replace(i.searchValue,i.replaceValue);}catch{}}return n});for(const n of e){const s=r.matchedRuleOption[n];for(let i=0;i<s.length;i++){const o=s[i];let l=[];if(r.matchTextRange.includes("innerText")&&l.push(new RegExp(o.link_innerText,"gi")),r.matchTextRange.includes("innerHTML")&&l.push(new RegExp(o.link_innerHTML,"gi")),!r.matchTextRange.length)throw console.error(r),new TypeError("Êú™ËÆæÁΩÆÂåπÈÖçËåÉÂõ¥");if(!l.length)throw new TypeError("Êú™Áü•ÁöÑÂåπÈÖçËåÉÂõ¥: "+r.matchTextRange);for(let c=0;c<l.length;c++){const u=l[c];for(let d=0;d<t.length;d++){let m=t[d].match(u);m&&m.length&&a({ruleKeyName:n,ruleIndex:i,data:m});}}}}},uniqueArr(r){return r.filter((a,e,t)=>e===t.findIndex(n=>JSON.stringify(n)===JSON.stringify(a)))},initWorker(){try{P.GM_matchWorker=new Worker(P.blobUrl),P.GM_matchWorker.onmessage=P.onMessage,P.GM_matchWorker.onerror=P.onError,g.info(`Worker Blob Link ===> ${P.blobUrl}`);}catch(r){this.workerInitError=r,P.GM_matchWorker={postMessage(a){return new Promise((e,t)=>{let n=[];try{P.handleRegularMatch(a,s=>{n.push(s);});}catch(s){P.onError(s);}finally{n=P.uniqueArr(n),P.onMessage(new MessageEvent("message",{data:{options:a,msg:"Match End",data:n,startTime:a.startTime,endTime:Date.now()}})),e(null);}})}};}finally{globalThis.URL.revokeObjectURL(P.blobUrl),P.blobUrl="";}},listenWorkerInitErrorDialog(){if(!ne.isTopWindow())return;const r=this;w.on(window,"message",a=>{let e=a.data;if(typeof e=="object"&&(e==null?void 0:e.type)===this.postMessageType){let t=e.data;r.registerWorkerInitErrorNeverTipToast(t.hostname),q.confirm({title:{text:"Worker Init Error",position:"center"},content:{text:`
							<div style="padding: 10px;gap: 10px;display: flex;flex-direction: column;">
								<p>ÈìæÊé•Ôºö${t.url}</p>
								<p>Êù•Ê∫êÔºö${ne.isTopWindow()?"top":"iframe"}</p>
								<p>ÂéüÂõ†ÔºöÂàùÂßãÂåñWorkerÂ§±Ë¥•ÔºåÂèØËÉΩÈ°µÈù¢‰ΩøÁî®‰∫ÜContent-Security-PolicyÁ≠ñÁï•ÔºåÊâßË°åÂåπÈÖçÊó∂Â¶ÇÊûúÈ°µÈù¢ÁöÑÂÜÖÂÆπËøáÂ§ß‰ºöÂØºËá¥È°µÈù¢Âç°Ê≠ªÔºåËØ∑‰ΩøÁî®MenuÊ®°ÂºèËøõË°åÂåπÈÖçÊàñËÄÖ‰ΩøÁî®CSPÊèí‰ª∂Á¶ÅÁî®CSPÁ≠ñÁï•Ôºà‰∏çÂª∫ËÆÆÔºâ„ÄÇ</p>
								<p>
									ÈîôËØØ‰ø°ÊÅØÔºö
									<span style="color: red;">${t.error}</span>
								</p>
							</div>
							`,html:true},btn:{merge:true,position:"space-between",ok:{text:"Ê∑ªÂä†ÁΩëÁ´ôËßÑÂàô",callback(n,s){let i=ke.getTemplateData();i.name="ÊâãÂä®ÂåπÈÖçÔºö"+t.hostname,i.url=`^http(s|):\\/\\/${t.hostname}\\/`,i.data[y.features["netdisk-match-mode"].KEY]="Menu";let o=new Ot({title(){return "ËßÑÂàôÁÆ°ÁêÜÂô®"},contentConfig:[ke.getRulePanelViewOption(i)]});o.showEditView(o.option.contentConfig[0].ruleOption,void 0,false,i,void 0,void 0,void 0,()=>{f.success("Ê∑ªÂä†ÊàêÂäü");});}},cancel:{text:"ÁΩëÁ´ôËßÑÂàô",callback(n,s){Ze.showView("ÁΩëÁ´ôËßÑÂàô");}},other:{enable:true,text:"‰∏çÂÜçÊèêÁ§∫",type:"xiaomi-primary",callback(n,s){q.confirm({title:{text:"ÊèêÁ§∫",position:"center"},content:{text:`Á°ÆÂÆö‰∏çÂÜçÂºπÂá∫ËØ•ÊèêÁ§∫ÔºüÔºà‰ªÖÈíàÂØπÂüüÂêçÔºö${t.hostname}Ôºâ`},btn:{ok:{callback(i,o){Je.addHost(t.hostname),i.close();}}}},{PC:{width:"400px",height:"200px"},Mobile:{width:"80vw",height:"200px"}});}}}},{PC:{width:"550px",height:"350px"},Mobile:{width:"88vw",height:"500px"}});}});},dispatchWorkerInitErrorDialog(){top==null||top.postMessage({type:this.postMessageType,data:{url:window.location.href,hostname:window.location.hostname,error:this.workerInitError}},"*");},registerWorkerInitErrorNeverTipToast(r){let a="üíÄ WorkerÂàùÂßãÂåñÂ§±Ë¥•",e=()=>Je.findHost(r)?a+"ÔºàÂ∑≤ËÆæÁΩÆ‰∏çÂÜçÊèêÁ§∫Ôºâ":a,t={key:"workerInitErrorNeverTipToast-"+r,text:e(),autoReload:false,isStoreValue:false,showText:e,callback:()=>{Je.findHost(r)?confirm("ÊòØÂê¶ÂÖÅËÆ∏ÂºπÂá∫WorkerÂàùÂßãÂåñÂ§±Ë¥•ÁöÑÂºπÁ™óÊèêÁ§∫Ôºü")&&(Je.removeHost(r)?f.success("Âà†Èô§ÊàêÂäü"):f.error("Âà†Èô§Â§±Ë¥•"),Pe.update(t)):this.dispatchWorkerInitErrorDialog();}};Pe.update(t);},postMessage(r,a){P.GM_matchWorker.postMessage(r,a);},onMessage(r){const a=r.data;a.data.length,(a.options.from==="PasteText"||a.options.from==="ShortCut-Select-Content")&&C.matchPasteText.workerMatchEndCallBack(a),a.options.from.startsWith("FirstLoad")&&P.delayNotMatchCount++,P.successCallBack(a);},onError(r){P.errorCallBack(r);},successCallBack(r){if(!r.data.length){P.matchingEndCallBack();return}const a=[];for(const t of r.data){L.$match.matchedInfoRuleKey.add(t.ruleKeyName);let n=new Set;t.data.forEach(s=>{n.add(s);}),n.forEach(s=>{let i=L.handleLink({ruleKeyName:t.ruleKeyName,ruleIndex:t.ruleIndex,matchText:s});i&&a.push({shareCode:i.shareCode,accessCode:i.accessCode,ruleKeyName:t.ruleKeyName,ruleIndex:t.ruleIndex,matchText:s});});}let e=a.filter((t,n,s)=>s.findIndex(o=>o.accessCode===t.accessCode&&o.ruleIndex===t.ruleIndex&&o.ruleKeyName===t.ruleKeyName&&o.shareCode===t.shareCode)===n);if(e.forEach(t=>{L.$match.tempMatchedInfo.has(t.ruleKeyName)&&L.$match.tempMatchedInfo.get(t.ruleKeyName).set(t.shareCode,t);}),e.forEach(t=>{let{shareCode:n,accessCode:s,ruleKeyName:i,ruleIndex:o,matchText:l}=t;const u=L.$rule.rule.find(m=>m.setting.key===i).rule[o];let d=false;if(L.$match.blackMatchedInfo.forEach((m,k)=>{if(k!==t.ruleKeyName)return;m.has(n)&&(d=true,g.warn(`ÂåπÈÖçÂà∞ÈªëÂêçÂçïÂàÜ‰∫´Á†ÅÔºåÂ∑≤ËøáÊª§Ôºö${n}`,JSON.stringify(t)));}),d)return;if(u.shareCodeExcludeRegular&&Array.isArray(u.shareCodeExcludeRegular))for(const m of u.shareCodeExcludeRegular){let k=L.$match.matchedInfo.get(m),b=L.$match.tempMatchedInfo.get(m);if(k.startsWith(n)||b.startsWith(n)){g.warn(`${i}ÔºöËØ•ÂàÜ‰∫´Á†Å„Äê${n}„Äë‰∏éÂ∑≤ÂåπÈÖçÂà∞ËØ•ÂàÜ‰∫´Á†ÅÁöÑËßÑÂàô„Äê${m}„ÄëÂÜ≤Á™Å`);return}}const h=L.$match.matchedInfo.get(i);if(L.$data.isMatchedLink=true,h.startsWith(n)){let m=h.getStartsWith(n);if(typeof m.isForceAccessCode=="boolean"&&m.isForceAccessCode||p.isNotNull(m.accessCode)||p.isNull(s))return;h.set(n,L.createLinkStorageInst(s,o,false,l)),C.view.changeLinkView(i,o,n,s,l),g.info(`ËØ•ÂåπÈÖçÈ°πÊó†ÂØÜÁ†ÅÔºåËÆæÁΩÆÂØÜÁ†Å ${i} ${o}: ${n}  ===> ${s}`);}else {if(p.isNull(s)&&y.accessCode.allowQueryHistoryMatchingAccessCode.value){let m=st.queryAccessCode(i,n,true);m&&(g.info("ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï ==> Êü•ËØ¢Âà∞ËÆøÈóÆÁ†ÅÔºö"+m),s=m);}h.set(n,L.createLinkStorageInst(s,o,false,l)),C.isMatchedNetDiskIconMap.add(i),C.view.addLinkView(i,o,n,s,l),g.success(`Ê∑ªÂä†ÈìæÊé• ${i} ${o}: ${n}  ===> ${s}`);}}),Object.keys(L.$match.tempMatchedInfo.getItems()).forEach(t=>{L.$match.tempMatchedInfo.get(t).clear();}),L.$data.isMatchedLink)switch(y.features["netdisk-behavior-mode"].value){case "suspension_smallwindow".toLowerCase():ce.mode.current_suspension_smallwindow_mode.value==="suspension"?C.suspension.show():C.view.show();break;case "suspension_window".toLowerCase():C.suspension.show();break;case "smallwindow".toLowerCase():C.view.show();break;default:g.error("Êú™Áü•ÁöÑË°å‰∏∫Ê®°ÂºèÔºö"+y.features["netdisk-behavior-mode"].value);}P.matchingEndCallBack();},errorCallBack(r){P.matchingEndCallBack(true),g.error("Worker Error",r);},matchingEndCallBack(r){if(r)P.isHandleMatch=false,P.delayNotMatchCount>0&&(P.delayNotMatchCount=0,P.dispatchMonitorDOMChange=true);else {const a=parseFloat(y.match.delaytime.value.toString())*1e3;setTimeout(()=>{P.matchingEndCallBack(true);},a);}},monitorDOMChange(){const r=y.match.isAddedNodesToMatch.value,a=y.match.readClipboard.value,e=y.match.pageMatchRange.value;let t=true,n=true,s=true,i=y.match.depthQueryWithShadowRoot.value;const o={},l=lt.getMappingData();L.$rule.rule.forEach(h=>{let m=h.setting.key;ee.function.enable(m)&&(Reflect.has(o,m)?o[m]=[...o[m],...h.rule]:Reflect.set(o,m,h.rule));});async function c(h){if(P.isHandleMatch){P.delayNotMatchCount++;return}if(r&&h&&h.length){let b=false;for(let R=0;R<h.length;R++){const v=h[R];if(v.addedNodes&&v.addedNodes instanceof NodeList&&v.addedNodes.length){b=true;break}}if(!b)return}P.isHandleMatch=true;const m=Date.now();if(a)try{let b=await p.getClipboardInfo();b.error!=null&&(L.$data.clipboardText=b.content);}catch{}typeof L.$data.clipboardText!="string"&&(L.$data.clipboardText="");const k=[];if(p.isNotNull(L.$data.clipboardText)){let b=L.$data.clipboardText;k.push(b);}if(y.match.allowMatchLocationHref.value){let b=se.getDecodeComponentUrl();k.push(b);}if(t&&(t=false,k.length)){P.postMessage({characterMapping:l,textList:k,matchTextRange:e,matchedRuleOption:o,startTime:m,from:"FirstLoad-DOMChange"});return}if(e.includes("innerText")){let b=He.getPageText(document.documentElement,i);if(k.push(...b),n){n=false,P.postMessage({characterMapping:l,textList:k,matchTextRange:e,matchedRuleOption:o,startTime:m,from:"FirstLoad-Text-DOMChange"});return}}if(e.includes("innerHTML")){let b=He.getPageHTML(document.documentElement,i);if(k.push(...b),s){s=false,P.postMessage({characterMapping:l,textList:k,matchTextRange:e,matchedRuleOption:o,startTime:m,from:"FirstLoad-HTML-DOMChange"});return}}if(y.match.toBeMatchedWithInputElementValue.value){let b=He.getInputElementValue(document.documentElement,i);k.push(...b);}if(y.match.toBeMatchedTextAreaElementValue.value){let b=He.getTextAreaElementValue(document.documentElement,i);k.push(...b);}P.postMessage({characterMapping:l,textList:k,matchTextRange:e,matchedRuleOption:o,startTime:m,from:"DOMChange"});}let u=P.dispatchMonitorDOMChange;Object.defineProperty(P,"dispatchMonitorDOMChange",{set:function(h){if(u=h,h){let m=Wt("html");c([{addedNodes:m,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:m,target:m[0],type:"attributes"}]);}},get:function(){return u}});let d=y.features["netdisk-match-mode"].value;if(d!=="Menu"){let h=le(this.neverTipWorkerInitErrorKey,[]);if(Array.isArray(h)||(h=[h]),this.workerInitError!=null){g.error("ÂàùÂßãÂåñWorkerÂ§±Ë¥•ÔºåÂèØËÉΩÈ°µÈù¢‰ΩøÁî®‰∫ÜContent-Security-PolicyÁ≠ñÁï•Ôºå‰ΩøÁî®‰ª£ÊõøÂáΩÊï∞ÔºåËØ•ÂáΩÊï∞ÊâßË°åÂåπÈÖçÊó∂Â¶ÇÊûúÈ°µÈù¢ÁöÑÂÜÖÂÆπËøáÂ§ß‰ºöÂØºËá¥È°µÈù¢Âç°Ê≠ª",this.workerInitError);let m=h.find(k=>k===window.location.hostname);m?this.registerWorkerInitErrorNeverTipToast(m):this.dispatchWorkerInitErrorDialog();}}Xa.execMatch({characterMapping:l,matchTextRange:e,matchedRuleOption:o,startTime:Date.now()}),d==="MutationObserver"?(p.mutationObserver(document.documentElement,{callback:c,config:{childList:y.match["mutationObserver-childList"].value,characterData:y.match["mutationObserver-characterData"].value,subtree:y.match["mutationObserver-subtree"].value}}),this.dispatchMonitorDOMChange=true):d==="Menu"?Pe.add({key:"performPageTextMatchingManually_"+window.location.href,text:"ÁÇπÂáªÊâßË°åÊñáÊú¨ÂåπÈÖç"+(ne.isTopWindow()?"":"ÔºàiframeÔºâ"),autoReload:false,isStoreValue:false,showText(h){return h},callback:()=>{this.dispatchMonitorDOMChange=true;}}):g.error("Êú™Áü•ÂåπÈÖçÊ®°ÂºèÔºö"+d);}},vt={$el:{$select:null,$log:null,$matchText:null,$button:null},reset(){Object.keys(this.$el).forEach(r=>{Reflect.deleteProperty(this.$el,r);});},setLog(r,...a){let e="";a.forEach(n=>{e!==""&&(e+=`
`),typeof n!="string"?e+=JSON.stringify(n,void 0,4):e+=n;});let t=w.createElement("p",{innerText:e},{"data-tag":r});w.append(this.$el.$log,t);},clearLog(){w.empty(this.$el.$log);},showUI(r){if(this.reset(),p.isNull(r.regexp)){f.error("ËØ∑ÂÖàÈÖçÁΩÆregexp");return}let a=this,t=ue.parseRule([r])[0].rule,n=q.confirm({title:{text:`Ë∞ÉËØïËßÑÂàô ${r.key}`,position:"center"},content:{text:`
                    <div class="custom-rule-container">
                        <textarea class="custom-rule-match-text" placeholder="ËØ∑ËæìÂÖ•ÈúÄË¶ÅÊµãËØïÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤"></textarea>
                        <div class="custom-rule-input-container">
                        <select class="custom-rule-select-regexp"></select>
                        <button class="custom-rule-run-match-button" type="primary" data-icon="" data-righticon="false">
                            <span>ÊâßË°å</span>
                        </button>
                        </div>
                    </div>
                    <div class="custom-rule-match-log">
                        <div>ÂåπÈÖçÊó•Âøó‚Üì</div>
                        <div class="custom-rule-match-log-container"></div>
                    </div>
                    `,html:true},btn:{ok:{enable:false}},style:`
                .custom-rule-container{
                    display: flex;
                    align-items: center;
                }
                .custom-rule-select-regexp{
                    width: 100%;
                    height: 32px;
                    line-height: normal;
                    border: 1px solid rgb(184, 184, 184, var(--pops-bd-opacity));
                    border-radius: 5px;
                    text-align: center;
                    outline: 0;
                    background: rgb(255, 255, 255, var(--pops-bg-opacity));
                    box-shadow: none;
                }
                .custom-rule-input-container{
                    display: flex;
                    flex-wrap: wrap;
                    justify-content: center;
                    margin: 5px;
                    width: 30%;
                }
                .custom-rule-select-regexp-item{

                }
                button.custom-rule-run-match-button{
                    margin-top: 5px;
                }
                textarea.custom-rule-match-text{
                    width: 100%;
                    min-height: 70px;
                    outline: none;
                    margin: 0px;
                    background-image: none;
                    background-color: transparent;
                    display: inline-block;
                    resize: vertical;
                    padding: 5px;
                    line-height: normal;
                    box-sizing: border-box;
                    border: 1px solid rgb(220, 223, 230);
                    appearance: none;
                }
                .custom-rule-match-log{

                }
                .custom-rule-match-log-container{
                    padding: 5px;
                    background: rgb(229, 229, 229);
                }
                .custom-rule-match-log-container p{
                    margin: 2px 0px;
                    border-bottom: 1px solid #000000;
                }
                .custom-rule-match-log-container p:last-child{
                    border-bottom: 0px;
                    margin-bottom: 0px;
                }
                .custom-rule-match-log-container p[data-tag]{
                	padding: 10px 0px;
                }
                .custom-rule-match-log-container p[data-tag="info"]{

                }
                .custom-rule-match-log-container p[data-tag="success"]{
                    color: green;
                }
                .custom-rule-match-log-container p[data-tag="warn"]{
                    color: yellow;
                }
                .custom-rule-match-log-container p[data-tag="error"]{
                    color: red;
                }
                `},C.popsStyle.customRuleDebugView);this.$el.$select=n.$shadowRoot.querySelector(".custom-rule-select-regexp"),this.$el.$matchText=n.$shadowRoot.querySelector(".custom-rule-match-text"),this.$el.$log=n.$shadowRoot.querySelector(".custom-rule-match-log-container"),this.$el.$button=n.$shadowRoot.querySelector(".custom-rule-run-match-button"),t.forEach((o,l)=>{this.$el.$select.appendChild(w.createElement("option",{className:"custom-rule-select-regexp-item",innerText:"regexp‰∏ãÊ†á:"+l,"data-value":o}));});function s(o){Array.isArray(o.msg)?a.setLog(o.status?"info":"error",...o.msg):a.setLog(o.status?"info":"error",o.msg),o.status||a.setLog("error","ÊâßË°åÂÆåÊØï");}function i(){try{if(p.isNull(a.$el.$matchText.value)){f.error("ËØ∑ÂÖàËæìÂÖ•ÂæÖÂåπÈÖçÁöÑÂ≠óÁ¨¶‰∏≤");return}a.clearLog();let o=r.key,l=a.$el.$select.selectedIndex,c=a.$el.$select.options[l]["data-value"];g.info("ÂΩìÂâçÈÄâ‰∏≠ÁöÑËßÑÂàô: ",c);let u={};u[r.key]=[c];let d=[];if(P.handleRegularMatch({characterMapping:lt.getMappingData(),matchedRuleOption:u,textList:[a.$el.$matchText.value],matchTextRange:["innerText","innerHTML"],startTime:Date.now(),from:"Debug"},h=>{d.push(...h.data);}),!d.length){a.setLog("error","Êú™ÊàêÂäüÂåπÈÖçÂà∞Êï∞ÊçÆ");return}d=P.uniqueArr(d),a.setLog("info","ÊàêÂäüÂåπÈÖçÂà∞ÁöÑÊï∞ÊçÆ ==> ",d),d.forEach((h,m)=>{a.setLog("success","ÂΩìÂâçÂ§ÑÁêÜÁöÑÂ≠óÁ¨¶‰∏≤: "+h),a.setLog("success","ÂΩìÂâçÊâßË°å: ÂØπshareCodeËøõË°åÂ§ÑÁêÜËé∑Âèñ");let k=L.handleShareCode({ruleKeyName:o,ruleIndex:l,matchText:h,debugConfig:{matchText:h,config:c,logCallBack:s}});if(p.isNull(k))return;a.setLog("info"," "),a.setLog("info","================ÂàÜÂâ≤Á∫ø================"),a.setLog("info"," "),a.setLog("success","ÂΩìÂâçÊâßË°å: ÂØπaccessCodeËøõË°åÂ§ÑÁêÜËé∑Âèñ");let b=L.handleAccessCode({ruleKeyName:o,ruleIndex:l,matchText:h,debugConfig:{matchText:h,config:c,logCallBack:s}});a.setLog("info"," "),a.setLog("info","================ÂàÜÂâ≤Á∫ø================"),a.setLog("info"," "),a.setLog("success","ÂΩìÂâçÊâßË°å: ÂØπuiLinkShowËøõË°åÂ§ÑÁêÜËé∑Âèñ");let R=L.handleLinkShow({ruleKeyName:o,ruleIndex:l,shareCode:k,accessCode:b,matchText:h,debugConfig:{matchText:h,config:c,logCallBack:s}});a.setLog("info"," "),a.setLog("info","================ÂàÜÂâ≤Á∫ø================"),a.setLog("info"," "),a.setLog("success","ÂΩìÂâçÊâßË°å: ÂØπblankËøõË°åÂ§ÑÁêÜËé∑Âèñ");let v=ae.getBlankUrl({ruleKeyName:o,ruleIndex:l,shareCode:k,accessCode:b,debugConfig:{matchText:h,config:c,logCallBack:s}});a.setLog("info"," "),a.setLog("info","================ÂàÜÂâ≤Á∫ø================"),a.setLog("info"," "),a.setLog("success","ÂΩìÂâçÊâßË°å: ÂØπcopyUrlËøõË°åÂ§ÑÁêÜËé∑Âèñ");let N=ae.getCopyUrlInfo({ruleKeyName:o,ruleIndex:l,shareCode:k,accessCode:b,debugConfig:{matchText:h,config:c,logCallBack:s}});a.setLog("success","ÊâßË°åÂÆåÊØï");});}catch(o){g.error(o),a.setLog(o.toString());}}w.on(a.$el.$button,"click",void 0,i);}},At=`.pops[type-value="confirm"] .pops-confirm-content {\r
	overflow: hidden;\r
}\r
/* textareaÁæéÂåñ */\r
.pops.whitesevPopNetDiskCustomRules[type-value="confirm"]\r
	.pops-confirm-content\r
	textarea {\r
	width: 100%;\r
	height: 100%;\r
	border: none;\r
	outline: none;\r
	padding: 0;\r
	margin: 0;\r
	-webkit-appearance: none;\r
	-moz-appearance: none;\r
	appearance: none;\r
	background-image: none;\r
	background-color: transparent;\r
\r
	display: inline-block;\r
	resize: vertical;\r
	padding: 5px 15px;\r
	line-height: normal;\r
	box-sizing: border-box;\r
	border: 1px solid #dcdfe6;\r
	transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r
	appearance: none;\r
	resize: none;\r
}\r
/* Ëé∑ÂæóÁÑ¶ÁÇπ */\r
.pops.whitesevPopNetDiskCustomRules[type-value="confirm"]\r
	.pops-confirm-content\r
	textarea:focus {\r
	outline: none;\r
	border-color: #3677f0;\r
}\r
/* ÊèêÁ§∫ÊñáÂ≠ó */\r
.pops.whitesevPopNetDiskCustomRules[type-value="confirm"]\r
	.pops-confirm-content\r
	textarea::placeholder {\r
	color: #c0c4cc;\r
}\r
/* Èº†Ê†áhover */\r
.pops.whitesevPopNetDiskCustomRules[type-value="confirm"]\r
	.pops-confirm-content\r
	textarea:hover {\r
	border-color: #c0c4cc;\r
}\r
`,Te={show(r,a,e){let t="Ê∑ªÂä†";r&&(t="ÁºñËæë"),t+="ÈìæÊé•ËØÜÂà´ËßÑÂàô";let n=null;function s(u,d){let h=n.value.trim(),m=ue.parseRuleStrToRule(h);if(m.success){let k=m.data;if(r)if(ue.updateRule(a,k))f.success("Êõ¥Êñ∞ÊàêÂäü");else {f.error("Êõ¥Êñ∞Â§±Ë¥•");return}else ue.addRule(k),f.success("Ê∑ªÂä†ÊàêÂäü");e==null||e(k);}else f.error(m.msg);}function i(u){let d=n.value.trim(),h=ue.parseRuleStrToRule(d);if(h.success){let m=h.data;vt.showUI(m);}else f.error(h.msg);}function o(u){try{let d=JSON.parse(n.value),h=ue.getFormatRule(d);n.value=h,f.success("Ê†ºÂºèÂåñÊàêÂäü");}catch(d){g.error(d),f.error(d.message,{html:true,timeout:3500});}}n=q.confirm({title:{text:t,position:"center"},content:{text:'<textarea class="netdisk-custom-rules" placeholder="ËØ∑ËæìÂÖ•ËßÑÂàôÈÖçÁΩÆ"></textarea>',html:true},btn:{merge:true,mergeReverse:false,reverse:false,position:"space-between",ok:{text:"‰øùÂ≠ò",callback:(u,d)=>{s();}},cancel:{text:"Ë∞ÉËØï",callback:(u,d)=>{i();}},other:{enable:true,text:"Ê†ºÂºèÂåñ",type:"xiaomi-primary",callback:(u,d)=>{o();}}},class:"whitesevPopNetDiskCustomRules",style:At},C.popsStyle.customRulesView).$shadowRoot.querySelector("textarea");let c;r?c=ue.getRule(a):c=ue.getTemplateRule(),n.value=ue.getFormatRule(c);},showSubscribe(r,a,e){let t="ÁºñËæëËÆ¢ÈòÖÁöÑÈìæÊé•ËØÜÂà´ËßÑÂàô",n=null;function s(u,d){let h=n.value.trim(),m=ue.parseRuleStrToRule(h);if(m.success){let k=m.data;if(re.updateSubscribeRule(r,k))f.success("Êõ¥Êñ∞ÊàêÂäü");else {f.error("Êõ¥Êñ∞Â§±Ë¥•");return}e==null||e(k);}else f.error(m.msg);}function i(u){let d=n.value.trim(),h=ue.parseRuleStrToRule(d);if(h.success){let m=h.data;vt.showUI(m);}else f.error(h.msg);}function o(u){try{let d=JSON.parse(n.value),h=ue.getFormatRule(d);n.value=h,f.success("Ê†ºÂºèÂåñÊàêÂäü");}catch(d){g.error(d),f.error(d.message,{html:true,timeout:3500});}}n=q.confirm({title:{text:t,position:"center"},content:{text:'<textarea class="netdisk-custom-rules" placeholder="ËØ∑ËæìÂÖ•ËßÑÂàôÈÖçÁΩÆ"></textarea>',html:true},btn:{merge:true,mergeReverse:false,reverse:false,position:"space-between",ok:{text:"‰øùÂ≠ò",callback:(u,d)=>{s();}},cancel:{text:"Ë∞ÉËØï",callback:(u,d)=>{i();}},other:{enable:true,text:"Ê†ºÂºèÂåñ",type:"xiaomi-primary",callback:(u,d)=>{o();}}},class:"whitesevPopNetDiskCustomRules",style:At},C.popsStyle.customRulesView).$shadowRoot.querySelector("textarea");let c;c=re.getSubscribeRule(r,a),n.value=ue.getFormatRule(c);}},Ie=new Le("userRule"),Oe=new Le("userRuleBindContext"),ue={$data:{STORAGE_KEY:"rule",EXPORT_CONFIG_KEY:"rule-export-config",__userRule:null,get userRule(){return this.__userRule==null&&(this.__userRule=new p.Dictionary),this.__userRule}},init(){let r=le("userRule");Array.isArray(r)&&(gt("userRule"),this.setRule(r));let a=this.parseRule(this.getAllRule()),e=this.parseRule(re.getAllSubscribeRule());a=a.concat(e),a.forEach(t=>{this.$data.userRule.set(t.setting.key,t);});},parseRuleStrToRule(r){function a(t){return typeof t.link_innerText!="string"?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: link_innerTextÔºåÁ±ªÂûã: string"}:typeof t.link_innerHTML!="string"?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: link_innerHTMLÔºåÁ±ªÂûã: string"}:typeof t.shareCode!="string"?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: shareCodeÔºåÁ±ªÂûã: string"}:typeof t.shareCodeNeedRemoveStr!="string"&&!Array.isArray(t.shareCodeNeedRemoveStr)?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: shareCodeNeedRemoveStrÔºåÁ±ªÂûã: string|string[]"}:typeof t.uiLinkShow!="string"?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: uiLinkShowÔºåÁ±ªÂûã: string"}:typeof t.blank!="string"?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: blankÔºåÁ±ªÂûã: string"}:typeof t.copyUrl!="string"?{success:false,msg:"regexpÁº∫Â§±ÁöÑÈîÆÂêç: copyUrlÔºåÁ±ªÂûã: string"}:typeof t.accessCode=="string"&&typeof t.checkAccessCode!="string"?{success:false,msg:"regexpËÆæÁΩÆ‰∫ÜaccessCode‰ΩÜÊòØÊ≤°ÊúâËÆæÁΩÆcheckAccessCode"}:typeof t.accessCode!="string"&&typeof t.checkAccessCode=="string"?{success:false,msg:"regexpËÆæÁΩÆ‰∫ÜcheckAccessCode‰ΩÜÊòØÊ≤°ÊúâËÆæÁΩÆaccessCode"}:{success:true,msg:"Ê†°È™åruleÊàêÂäü"}}function e(t){return typeof t.name!="string"?{success:false,msg:"settingÁº∫Â§±ÁöÑÈîÆÂêç: nameÔºåÁ±ªÂûã: string"}:typeof t.enable!="boolean"?{success:false,msg:"settingÁº∫Â§±ÁöÑÈîÆÂêç: enableÔºåÁ±ªÂûã: boolean"}:{success:true,msg:"Ê†°È™åsettingÊàêÂäü"}}try{let t=typeof r=="string"?p.toJSON(r):r;if(g.info("Ëß£ÊûêÂá∫ÁöÑËßÑÂàôÂØπË±°Ôºö",t),typeof t!="object")return {success:!1,msg:"ËØ•ËßÑÂàô‰∏çÊòØobjectÁ±ªÂûã"};if(Object.keys(t).length===0)return {success:!1,msg:"ËØ•ËßÑÂàô‰∏∫Á©∫"};if(typeof t.key!="string")return {success:!1,msg:"Áº∫Â§±ÁöÑÈîÆÂêç: keyÔºåÁ±ªÂûã: string"};if(typeof t.regexp!="object")return {success:!1,msg:"Áº∫Â§±ÁöÑÈîÆÂêç: regexpÔºåÁ±ªÂûã: object|Arrany"};if(typeof t.setting!="object")return {success:!1,msg:"Áº∫Â§±ÁöÑÈîÆÂêç: settingÔºåÁ±ªÂûã: object"};if(Array.isArray(t.regexp))for(const s of t.regexp){let i=a(s);if(!i.success)return i}else {let s=a(t.regexp);if(!s.success)return s}let n=e(t.setting);return n.success?{success:!0,msg:"Ëß£ÊûêÊàêÂäü",data:t}:n}catch(t){return g.error(t),{success:false,msg:t.message}}},getBindContext(r){return {rule:r,NetDiskRequire:Za,CryptoJS:Ue,httpx:E,utils:p,DOMUtils:w,window,unsafeWindow:he,NetDiskCheckLinkValidity:T,log:g,Qmsg:f,pops:H,setValue:Oe.set.bind(Oe),getValue:Oe.get.bind(Oe),deleteValue:Oe.delete.bind(Oe)}},parseRule(r){function a(t,n,s){let{shareCode:i,shareCodeNeedRemoveStr:o,shareCodeNotMatch:l,checkAccessCode:c,accessCode:u,acceesCodeNotMatch:d,paramMatch:h,...m}=s,k={...m};return k.link_innerText=se.replaceParam(k.link_innerText,$t(t)),k.link_innerHTML=se.replaceParam(k.link_innerText,Lt(t)),typeof i=="string"&&(k.shareCode=new RegExp(i,"ig")),o&&(typeof o=="string"&&(o=[o]),Array.isArray(o)&&(k.shareCodeNeedRemoveStr=o.filter(b=>typeof b=="string").map(b=>new RegExp(b,"ig")))),l&&(typeof l=="string"&&(l=[l]),Array.isArray(l)&&(k.shareCodeNotMatch=l.filter(b=>typeof b=="string").map(b=>new RegExp(b,"ig")))),typeof c=="string"&&(k.checkAccessCode=new RegExp(c,"ig")),typeof u=="string"&&(k.accessCode=new RegExp(u,"ig")),d&&(typeof d=="string"&&(d=[d]),Array.isArray(d)&&(k.acceesCodeNotMatch=d.map(b=>new RegExp(b,"ig")))),typeof h=="string"&&(k.paramMatch=new RegExp(h,"i")),k}let e=[];for(const t of r){let n={subscribeUUID:t.subscribeUUID,rule:[],setting:{name:t.setting.name,key:t.key,configurationInterface:{matchRange_text:{},matchRange_html:{},function:{},linkClickMode_openBlank:{},schemeUri:{},ownFormList:[]}},isUserRule:true,afterRenderUrlBox:void 0};const s=t.regexp,i=t.key;if(Array.isArray(s)?s.forEach(c=>{n.rule.push(a(i,t,c));}):n.rule.push(a(i,t,s)),t.setting){if(this.initDefaultValue(B.function.enable(i),!!t.setting.enable),n.setting.configurationInterface.function.enable=!!t.setting.enable,typeof t.setting.isBlank=="boolean"&&(this.initDefaultValue(B.function.linkClickMode(i),"openBlank"),n.setting.configurationInterface.function.linkClickMode={openBlank:{default:true,enable:true}}),typeof t.setting.linkClickMode=="object"){let c=p.assign(se.getDefaultLinkClickMode(),t.setting.linkClickMode||{}),u=null,d=Object.keys(c).map(h=>{let m=c[h];if(m.enable)return m.default&&(u=h),{value:h,text:m.text}}).filter(h=>h!=null);u==null&&(u=d[0].value),this.initDefaultValue(B.function.linkClickMode(i),u);}typeof t.setting.openBlankWithCopyAccessCode=="boolean"&&(this.initDefaultValue(B.linkClickMode_openBlank.openBlankWithCopyAccessCode(i),!!t.setting.openBlankWithCopyAccessCode),n.setting.configurationInterface.linkClickMode_openBlank.openBlankWithCopyAccessCode=!!t.setting.openBlankWithCopyAccessCode),typeof t.setting.openBlankAutoFilleAccessCode=="boolean"&&(this.initDefaultValue(B.linkClickMode_openBlank.openBlankAutoFilleAccessCode(i),!!t.setting.openBlankAutoFilleAccessCode),n.setting.configurationInterface.linkClickMode_openBlank.openBlankAutoFilleAccessCode=!!t.setting.openBlankAutoFilleAccessCode),typeof t.setting.checkLinkValidity=="boolean"&&(this.initDefaultValue(B.function.checkLinkValidity(i),!!t.setting.checkLinkValidity),n.setting.configurationInterface.function.checkLinkValidity=!!t.setting.checkLinkValidity),typeof t.setting.checkLinkValidityHoverTip=="boolean"&&this.initDefaultValue(B.function.checkLinkValidityHoverTip(i),!!t.setting.checkLinkValidityHoverTip),typeof t.setting.isForward=="boolean"&&(this.initDefaultValue(B.schemeUri.enable(i),!!t.setting.isForward),n.setting.configurationInterface.schemeUri.enable=!!t.setting.isForward),typeof t.setting.schemeUri=="string"&&(this.initDefaultValue(B.schemeUri.uri(i),t.setting.schemeUri),n.setting.configurationInterface.schemeUri.uri=t.setting.schemeUri),typeof t.setting.innerTextAccessCodeBeforeMaxRange=="number"&&(this.initDefaultValue(B.matchRange_text.before(i),t.setting.innerTextAccessCodeBeforeMaxRange),n.setting.configurationInterface.matchRange_text.before=t.setting.innerTextAccessCodeBeforeMaxRange),typeof t.setting.innerTextAccessCodeAfterMaxRange=="number"&&(this.initDefaultValue(B.matchRange_text.after(i),t.setting.innerTextAccessCodeAfterMaxRange),n.setting.configurationInterface.matchRange_text.after=t.setting.innerTextAccessCodeAfterMaxRange),typeof t.setting.innerHTMLAccessCodeBeforeMaxRange=="number"&&(this.initDefaultValue(B.matchRange_html.before(i),t.setting.innerHTMLAccessCodeBeforeMaxRange),n.setting.configurationInterface.matchRange_html.before=t.setting.innerHTMLAccessCodeBeforeMaxRange),typeof t.setting.innerHTMLAccessCodeAfterMaxRange=="number"&&(this.initDefaultValue(B.matchRange_html.after(i),t.setting.innerHTMLAccessCodeAfterMaxRange),n.setting.configurationInterface.matchRange_html.after=t.setting.innerHTMLAccessCodeAfterMaxRange);}if(typeof t.icon=="string"){let c=t.icon;C.src.addIcon(i,c);}const o=Object.getPrototypeOf(async function(){}).constructor;if(typeof t.checkLinkValidityFunction=="string")try{let c=this.getBindContext(t);Reflect.set(T.ruleCheckValidFunction,i,{init:new o("netDiskInfo",t.checkLinkValidityFunction).bind(c)});}catch(c){g.error(c);}if(typeof t.AuthorizationFunction=="string")try{let c=this.getBindContext(t);Reflect.deleteProperty(c,"NetDiskCheckLinkValidity"),kt.netDisk[i]=new o(t.AuthorizationFunction).bind(c);}catch(c){g.error(c);}if(typeof t.AutoFillAccessCodeFunction=="string")try{let c=this.getBindContext(t);Reflect.deleteProperty(c,"NetDiskCheckLinkValidity"),je.netDisk[i]=new o("netDiskInfo",t.AutoFillAccessCodeFunction).bind(c);}catch(c){g.error(c);}if(typeof t.parseFunction=="string")try{let c=this.getBindContext(t);Reflect.deleteProperty(c,"NetDiskCheckLinkValidity"),Reflect.set(rt.rule,i,new o(t.parseFunction).bind(c));}catch(c){g.error(c);}if(typeof t.afterRenderUrlBox=="string")try{let c=this.getBindContext(t);Reflect.deleteProperty(c,"NetDiskCheckLinkValidity"),n.afterRenderUrlBox=new o("option",t.afterRenderUrlBox).bind(c);}catch(c){g.error(c);}let l=e.find(c=>c.setting.key===n.setting.key);l?l.rule=l.rule.concat(n.rule):e.push(n);}return e},getNetDiskRuleConfig(){return this.$data.userRule.values()},initDefaultValue(r,a){le(r)==null&&fe(r,a);},getTemplateRule(){return {key:"ËßÑÂàôÂêç",icon:"ÂõæÊ†áÈìæÊé•Â≠óÁ¨¶‰∏≤ÊàñÂõæÁâáÁöÑbase64Â≠óÁ¨¶‰∏≤",regexp:[{link_innerText:"",link_innerHTML:"",shareCode:"",shareCodeNeedRemoveStr:"",uiLinkShow:"",blank:"",copyUrl:""}],setting:{name:"ËÆæÁΩÆÁïåÈù¢ÁöÑÂêçÂ≠ó",enable:true,linkClickMode:"openBlank",openBlankWithCopyAccessCode:true}}},getRulePanelViewOption(r){const a=this;H.config.panelHandleContentUtils();let e=()=>r??this.getTemplateRule(),t={id:"user-rule",title:"ÈìæÊé•ËØÜÂà´",headerTitle:"ÈìæÊé•ËØÜÂà´ËßÑÂàô",subscribe:{enable:true,data(){return re.getAllSubscribe()},getData:n=>re.getSubscribe(n.uuid)??n,getDataItemName(n){return `
						<style>
							.subscribe-rule-title-info-wrapper{
								display: flex;
								flex-direction: column;
								gap: 4px;
							}
							.subscribe-rule-title-info-wrapper .rule-name-text{
								white-space: nowrap;
								text-overflow: ellipsis;
								overflow: hidden;
								font-weight: 600;
								font-size: 16px;
								line-height: 24px;
							}
							.subscribe-rule-title-info-wrapper .subscribe-rule-small-span-text{
								font-size: 14px;
								line-height: 16px;
								white-space: pre-wrap;
							}
						</style>
						<div class="subscribe-rule-title-info-wrapper">
							<div class="rule-name-text" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;font-size: 16px;font-weight: 600;line-height: 24px;">${n.data.title||n.subscribeData.title||n.data.url}</div>
								<div class="subscribe-rule-small-span-text">${n.subscribeData.ruleData.length} Êù°ËßÑÂàôÔºåÊõ¥Êñ∞‰∫éÔºö${p.formatTime(n.data.latestUpdateTime,"yyyyÂπ¥MMÊúàddÊó• HH:mm:ss")}${typeof n.data.updateFailedTime=="number"?`Ôºå<span style="color: red;">Êõ¥Êñ∞Â§±Ë¥•‰∫éÔºö${p.formatTime(n.data.updateFailedTime,"yyyyÂπ¥MMÊúàddÊó• HH:mm:ss")}</span>`:""}</div>
								${n.subscribeData.homePage?`<a href="${n.subscribeData.homePage}" class="subscribe-rule-small-span-text" target="_blank" style="color:#67b279;">ËΩ¨Âà∞‰∏ªÈ°µ</a>`:""}
								<a href="${n.data.url}" class="subscribe-rule-small-span-text" target="_blank" style="color:#67b279;">ËÆ¢ÈòÖÂú∞ÂùÄ</a>
						</div>`},addData:n=>re.addSubscribe(n),updateData:n=>re.updateSubscribe(n),deleteData:n=>re.deleteSubscribe(n),btnControls:{add:{enable:true},filter:{enable:true,title:"ËøáÊª§ËÆ¢ÈòÖ",option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËÆ¢ÈòÖ",filterCallBack(n){return n.data.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËÆ¢ÈòÖ",filterCallBack(n){return !n.data.enable}}]},clearAll:{enable:true,callback:()=>{re.deleteAllSubscribe();}},ruleEnable:{enable:true,getEnable(n){return n.data.enable},async callback(n,s){n.data.enable=s,re.updateSubscribe(n);}},ruleEdit:{enable:true,callback:n=>{let s=n.ruleData.uuid;return n.enterDeepMenu({headerTitle:n.ruleData.data.title||n.ruleData.subscribeData.title||n.ruleData.data.url,data(){var o;let i=re.getSubscribe(s);return ((o=i==null?void 0:i.subscribeData)==null?void 0:o.ruleData)??n.ruleData.subscribeData.ruleData},getData(i){return re.getSubscribeRule(s,i.key)??i},getDataItemName(i){return i.setting.name},addData(i){return  true},updateData(i){return re.updateSubscribeRule(s,i)},deleteData(i){return re.deleteSubscribeRule(s,i)},btnControls:{filter:{enable:true,option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(i){return i.setting.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(i){return !i.setting.enable}}]},clearAll:{enable:true,callback:()=>{re.clearSubscribe(s);}},ruleEdit:{enable:true,callback(i){return Te.showSubscribe(s,i.ruleData.key,async o=>{let l=await i.context.updateRuleItemElement(i.option,i.subscribeOption,o,i.$ruleItem,i.$section);i.$ruleItem=l;}),false}},ruleDelete:{enable:true,deleteCallBack(i){return re.deleteSubscribeRule(s,i)}}}}),false}},ruleDelete:{enable:true,deleteCallBack:n=>re.deleteSubscribe(n)},import:{enable:true,callback(n){re.importSubscribe(()=>{n();});}},export:{enable:true,callback(){re.exportSubscribe(ve+"-ÁΩëÁ´ôËßÑÂàô-ËÆ¢ÈòÖ.json");}}},getSubscribeInfo:re.getSubscribeInfo.bind(re)},ruleOption:{btnControls:{add:{enable:true,callback(n){return Te.show(false,void 0,s=>{this.updateRuleContaienrElement(t.ruleOption,void 0,n.$section);}),false}},filter:{enable:true,title:"ËøáÊª§ËßÑÂàô",option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(n){return n.setting.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(n){return !n.setting.enable}}]},clearAll:{enable:true,callback:()=>{a.clearRule();}},import:{enable:true,callback:n=>{a.importRule(()=>{n();});}},export:{enable:true,callback:()=>{a.exportRule(ve+"-ÈìæÊé•ËØÜÂà´ËßÑÂàô.json",ve+"-ÈìæÊé•ËØÜÂà´ËßÑÂàô-ËÆ¢ÈòÖÊ®°Âºè.json");}},ruleEdit:{enable:true,callback(n){return Te.show(true,n.ruleData.key,async s=>{let i=await n.context.updateRuleItemElement(n.option,n.subscribeOption,s,n.$ruleItem,n.$section);n.$ruleItem=i;}),false}},ruleDelete:{enable:true,deleteCallBack:n=>a.deleteRule(n.key)}},data:()=>this.getAllRule(),getAddData:()=>e(),getData:n=>this.getAllRule().find(o=>o.key===n.key)??n,getDataItemName:n=>n.setting.name,updateData:n=>this.updateRule(n.key,n),deleteData:n=>this.deleteRule(n.key)}};return t},addRule(r){let a=this.getAllRule();a.push(r),this.setRule(a);},setRule(r){r=Array.isArray(r)?r:[r],Ie.set(this.$data.STORAGE_KEY,r);},updateRule(r,a){let e=this.getAllRule(),t=e.findIndex(n=>n.key===r);return t!==-1?(e.splice(t,1,a),this.setRule(e),true):false},deleteRule(r){let a=this.getAllRule(),e=a.findIndex(t=>t.key===r);return e!==-1?(a.splice(e,1),this.setRule(a),true):false},clearRule(){Ie.delete(this.$data.STORAGE_KEY);},getAllRule(){return Ie.get(this.$data.STORAGE_KEY,[])},getRule(r){return this.getAllRule().find(e=>e.key===r)},getFormatRule(r){return JSON.stringify(r||this.getAllRule(),void 0,4)},exportRule(r="rule.json",a="rule-subscribe.json"){let e=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂá∫ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="only-export-rule-list">ÂØºÂá∫ËßÑÂàô</div>
                    <div class="btn-control" data-mode="export-to-subscribe">ÂØºÂá∫ËÆ¢ÈòÖËßÑÂàô</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(i,o){i.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='only-export-rule-list']"),n=e.$shadowRoot.querySelector(".btn-control[data-mode='export-to-subscribe']"),s=(i,o)=>{let l=new Blob([JSON.stringify(o,null,4)]),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,u.click(),setTimeout(()=>{window.URL.revokeObjectURL(c);},1500);};w.on(t,"click",i=>{p.preventEvent(i);try{let o=this.getAllRule();if(o.length===0){f.warning("ËßÑÂàô‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}s(r,o),e.close();}catch(o){f.error(o.toString(),{consoleLogContent:true});}}),w.on(n,"click",i=>{p.preventEvent(i);const o=this;e.close();try{if(this.getAllRule().length===0){f.warning("ËßÑÂàô‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}let c=H.config.panelHandleContentUtils(),u=function(x){return {get(S,_){return x[S]??_},set(S,_){x[S]=_,Ie.set(o.$data.EXPORT_CONFIG_KEY,x);}}},d=()=>{let x=Ie.get(this.$data.EXPORT_CONFIG_KEY,{});if((x==null?void 0:x.title)===""||x.title==null){f.error("ËÆ¢ÈòÖÊ†áÈ¢ò‰∏çËÉΩ‰∏∫Á©∫");return}if(x.version==null){f.error("ÁâàÊú¨Âè∑‰∏çËÉΩ‰∏∫Á©∫");return}else x.version=Number(x.version);x.homePage==null&&(x.homePage=void 0),x.lastModified=Date.now(),x.ruleData=this.getAllRule(),s(a,x),h.close();},h=q.alert({title:{text:"ËØ∑Â°´ÂÜôÂØºÂá∫ÈÖçÁΩÆ",position:"center"},content:{text:`
							
						`,html:!0},btn:{ok:{enable:!0,text:"ÂØºÂá∫",callback(x,S){d();}},close:{enable:!0,callback(x,S){x.close();}}},mask:{enable:!0},drag:!0,width:Z.info.width,height:Z.info.height,style:`
						${H.config.cssText.panelCSS}

						.pops-alert-content li{
							list-style-type: none;
							display: flex;
							align-items: center;
							justify-content: space-between;
							margin: 10px;
						}
					`}),m=h.$shadowRoot.querySelector(".pops-alert-content"),k=Ie.get(this.$data.EXPORT_CONFIG_KEY,{}),b=Q("ËÆ¢ÈòÖÊ†áÈ¢ò","title","","",void 0,"");Reflect.set(b.props,U,u(k));let R=c.createSectionContainerItem_input(b),v=Q("ÁâàÊú¨Âè∑","version","","",void 0,"",!1);Reflect.set(v.props,U,u(k));let N=c.createSectionContainerItem_input(v),A=Q("‰∏ªÈ°µÂú∞ÂùÄ","homePage","","",void 0,"ÈÄâÂ°´");Reflect.set(A.props,U,u(k));let D=c.createSectionContainerItem_input(A);w.append(m,R),w.append(m,N),w.append(m,D);}catch(l){f.error(l.toString(),{consoleLogContent:true});}});},importRule(r){let a=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂÖ•ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="local">Êú¨Âú∞ÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="network">ÁΩëÁªúÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="clipboard">Ââ™Ë¥¥ÊùøÂØºÂÖ•</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(o,l){o.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),e=a.$shadowRoot.querySelector(".btn-control[data-mode='local']"),t=a.$shadowRoot.querySelector(".btn-control[data-mode='network']"),n=a.$shadowRoot.querySelector(".btn-control[data-mode='clipboard']"),s=o=>{let l=this.getAllRule(),c=[];for(let u=0;u<o.length;u++){const d=o[u];l.findIndex(m=>m.key===d.key)!==-1||c.push(d);}l=l.concat(c),c.length?(Ie.set(this.$data.STORAGE_KEY,l),g.info(["Êñ∞Â¢ûÁöÑËßÑÂàôÔºö",c]),f.success(`ÂÖ± ${o.length} Êù°ËßÑÂàôÔºåÊñ∞Â¢û ${c.length} Êù°`)):f.error("Êú™Êñ∞Â¢ûËßÑÂàôÔºåËØ∑Âà†Èô§ÊóßËßÑÂàôÂÜçÈáçÊñ∞ÂØºÂÖ•"),r==null||r();},i=o=>new Promise(l=>{let c=p.toJSON(o);if(Array.isArray(c)){if(!c.length){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÂá∫ÁöÑÊï∞ÊçÆ‰∏∫Á©∫",{consoleLogContent:true}),l(false);return}}else c=[c];let u=[];for(let h=0;h<c.length;h++){const m=c[h];let k=this.parseRuleStrToRule(m);if(!k.success){if(c.length===1){f.error(k.msg,{timeout:4e3});return}continue}k.data&&u.push(k.data);}let d=c.length-u.length;d>0&&(d===c.length?f.error("ÊâÄÊúâËßÑÂàôÂùáÊú™ÈÄöËøáËßÑÂàôÊ£ÄÊü•ÔºåËØ∑Ê£ÄÊü•ËßÑÂàô",{timeout:4e3}):f.warning(`Ê£ÄÊµãÂà∞Êúâ ${d}Êù°Êú™ÈÄöËøáËßÑÂàôÊ£ÄÊü•ÁöÑËßÑÂàôÔºåÂ∑≤ÂøΩÁï•`,{timeout:4e3})),u.length&&(s(u),l(true));});w.on(e,"click",o=>{p.preventEvent(o),a.close();let l=w.createElement("input",{type:"file",accept:".json"});w.on(l,["propertychange","input"],c=>{var h;if(!((h=l.files)!=null&&h.length))return;let u=l.files[0],d=new FileReader;d.onload=()=>{i(d.result);},d.readAsText(u,"UTF-8");}),l.click();}),w.on(t,"click",o=>{p.preventEvent(o),a.close();let l=q.prompt({title:{text:"ÁΩëÁªúÂØºÂÖ•",position:"center"},content:{text:"",placeholder:"ËØ∑Â°´ÂÜôURL",focus:true},btn:{close:{enable:true,callback(d,h){d.close();}},ok:{text:"ÂØºÂÖ•",callback:async(d,h)=>{let m=d.text;if(p.isNull(m)){f.error("ËØ∑Â°´ÂÖ•ÂÆåÊï¥ÁöÑurl");return}let k=f.loading("Ê≠£Âú®Ëé∑ÂèñÈÖçÁΩÆ..."),b=await E.get(m,{allowInterceptConfig:false});if(k.close(),!b.status){g.error(b),f.error("Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•",{consoleLogContent:true});return}await i(b.data.responseText)&&d.close();}},cancel:{enable:false}},mask:{enable:true},drag:true,width:Z.info.width,height:"auto"}),c=l.$shadowRoot.querySelector("input"),u=l.$shadowRoot.querySelector(".pops-prompt-btn-ok");w.on(c,["input","propertychange"],d=>{w.val(c)===""?w.attr(u,"disabled","true"):w.removeAttr(u,"disabled");}),w.listenKeyboard(c,"keydown",(d,h,m)=>{d==="Enter"&&m.length===0&&w.val(c)!==""&&p.dispatchEvent(u,"click");}),p.dispatchEvent(c,"input");}),w.on(n,"click",async o=>{p.preventEvent(o),a.close();let l=await p.getClipboardInfo();if(l.error!=null){f.error(l.error.toString());return}if(l.content.trim()===""){f.warning("Ëé∑ÂèñÂà∞ÁöÑÂâ™Ë¥¥ÊùøÂÜÖÂÆπ‰∏∫Á©∫");return}await i(l.content);});}},Qa={rule:[{link_innerText:"pan.baidu.com/s/[0-9a-zA-Z-_]{6,24}([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|\\?pwd=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"pan.baidu.com/s/[0-9a-zA-Z-_]{6,24}([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|\\?pwd=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/pan\.baidu\.com\/s\/([0-9a-zA-Z-_]+)/gi,shareCodeNeedRemoveStr:/pan\.baidu\.com\/s\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|pwd=)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"pan.baidu.com/s/{#shareCode#}?pwd={#accessCode#}",blank:"https://pan.baidu.com/s/{#shareCode#}?pwd={#accessCode#}",copyUrl:"https://pan.baidu.com/s/{#shareCode#}?pwd={#accessCode#}"},{link_innerText:"pan.baidu.com/(share|wap)/init\\?surl=[0-9a-zA-Z-_]{5,24}([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|&pwd=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"pan.baidu.com/(share|wap)/init\\?surl=[0-9a-zA-Z-_]{5,24}([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|&pwd=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/pan\.baidu\.com\/(share|wap)\/init\?surl=([0-9a-zA-Z-_]+)/gi,shareCodeNeedRemoveStr:/pan\.baidu\.com\/(share|wap)\/init\?surl=/gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|&pwd=)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"pan.baidu.com/share/init?surl={#shareCode#}&pwd={#accessCode#}",blank:"https://pan.baidu.com/share/init?surl={#shareCode#}&pwd={#accessCode#}",copyUrl:"https://pan.baidu.com/share/init?surl={#shareCode#}&pwd={#accessCode#}"}],setting:{name:"ÁôæÂ∫¶ÁΩëÁõò",key:"baidu",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},er=()=>({rule:[{link_innerText:"(lanzou[a-z]{0,1}|lan[a-z]{2}).com/(tp/|u/|)([0-9a-zA-Z_-]{5,22}|[%0-9a-zA-Z]{4,90}|[\\u4e00-\\u9fa5]{3,20})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{3,6}|)",link_innerHTML:"(lanzou[a-z]{0,1}|lan[a-z]{2}).com/(tp/|u/|)([0-9a-zA-Z_-]{5,22}|[%0-9a-zA-Z]{4,90}|[\\u4e00-\\u9fa5]{3,20})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{3,6}|)",shareCode:/(lanzou[a-z]{0,1}|lan[a-z]{2}).com\/(tp\/|u\/|)([0-9a-zA-Z_\-]{5,22}|[%0-9a-zA-Z]{4,90}|[\u4e00-\u9fa5]{3,20})/gi,shareCodeNeedRemoveStr:/(lanzou[a-z]{0,1}|lan[a-z]{2}).com\/(tp\/|u\/|)/gi,shareCodeExcludeRegular:["lanzouyx"],checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{3,})/gi,uiLinkShow:`${ge.hostname}/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}`,blank:`https://${ge.hostname}/{#shareCode#}`,copyUrl:`https://${ge.hostname}/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"(lanzou[a-z]{0,1}|lan[a-z]{2}).com/s/([0-9a-zA-Z_-]{5,22}|[%0-9a-zA-Z]{4,90}|[\\u4e00-\\u9fa5]{3,20})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{3,6}|)",link_innerHTML:"(lanzou[a-z]{0,1}|lan[a-z]{2}).com/s/([0-9a-zA-Z_-]{5,22}|[%0-9a-zA-Z]{4,90}|[\\u4e00-\\u9fa5]{3,20})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{3,6}|)",shareCode:/(lanzou[a-z]{0,1}|lan[a-z]{2}).com\/s\/([0-9a-zA-Z_\-]{5,22}|[%0-9a-zA-Z]{4,90}|[\u4e00-\u9fa5]{3,20})/gi,shareCodeNeedRemoveStr:/(lanzou[a-z]{0,1}|lan[a-z]{2}).com\/s\//gi,shareCodeExcludeRegular:["lanzouyx"],checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{3,})/gi,uiLinkShow:`${ge.hostname}/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}`,blank:`https://${ge.hostname}/s/{#shareCode#}`,copyUrl:`https://${ge.hostname}/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"ËìùÂ•è‰∫ë",key:"lanzou",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:false,isForwardBlankLink:false,uri:""},ownFormList:[{text:"ÂÖ∂ÂÆÉÈÖçÁΩÆ",type:"forms",forms:[Q("ËìùÂ•è‰∫ëÂüüÂêç",ge.MENU_KEY,ge.DEFAULT_HOST_NAME,"",void 0,`‰æãÂ¶ÇÔºö${ge.DEFAULT_HOST_NAME}`)]}]}}}),tr={rule:[{link_innerText:"ilanzou.com/s/([a-zA-Z0-9_-]{5,22})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|\\?code=)[\\s\\S]{0,{#matchRange-text-after#}}[a-zA-Z0-9]{3,6}|)",link_innerHTML:"ilanzou.com/s/([a-zA-Z0-9_-]{5,22})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|\\?code=)[\\s\\S]{0,{#matchRange-html-after#}}[a-zA-Z0-9]{3,6}|)",shareCode:/ilanzou.com\/s\/([a-zA-Z0-9_\-]{5,22})/gi,shareCodeNeedRemoveStr:/ilanzou.com\/s\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|\?code=)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{3,})/gi,uiLinkShow:"www.ilanzou.com/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.ilanzou.com/s/{#shareCode#}?code={#accessCode#}",copyUrl:"https://www.ilanzou.com/s/{#shareCode#}?code={#accessCode#}"}],setting:{name:"ËìùÂ•è‰∫ë‰ºò‰∫´",key:"lanzouyx",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:false,isForwardBlankLink:false,uri:""}}}},ar={rule:[{link_innerText:"(cloud.189.cn/web/share\\?code=([0-9a-zA-Z_-]){8,14}|cloud.189.cn/t/([a-zA-Z0-9_-]{8,14}))([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"(cloud.189.cn/web/share\\?code=([0-9a-zA-Z_-]){8,14}|cloud.189.cn/t/([a-zA-Z0-9_-]{8,14}))([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/cloud.189.cn\/web\/share\?code=([0-9a-zA-Z_\-]){8,14}|cloud.189.cn\/t\/([a-zA-Z0-9_\-]{8,14})/gi,shareCodeNeedRemoveStr:/cloud\.189\.cn\/t\/|cloud.189.cn\/web\/share\?code=/gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"cloud.189.cn/t/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://cloud.189.cn/t/{#shareCode#}",copyUrl:`https://cloud.189.cn/t/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"Â§©Áøº‰∫ë",key:"tianyiyun",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:false,isForwardBlankLink:false,uri:""}}}},rr={rule:[{link_innerText:"caiyun.139.com/m/i\\?([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"caiyun.139.com/m/i\\?([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/caiyun\.139\.com\/m\/i\?([a-zA-Z0-9_\-]{8,14})/gi,shareCodeNeedRemoveStr:/caiyun\.139\.com\/m\/i\?/gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"caiyun.139.com/m/i?{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://caiyun.139.com/m/i?{#shareCode#}",copyUrl:`https://caiyun.139.com/m/i?{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"yun.139.com/link/w/i/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"yun.139.com/link/w/i/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/yun\.139\.com\/link\/w\/i\/([a-zA-Z0-9_\-]{8,14})/gi,shareCodeNeedRemoveStr:/yun\.139\.com\/link\/w\/i\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"yun.139.com/link/w/i/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://yun.139.com/link/w/i/{#shareCode#}",copyUrl:`https://yun.139.com/link/w/i/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"‰∏≠ÂõΩÁßªÂä®‰∫ëÁõò",key:"hecaiyun",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}}},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:false,uri:""}}}},nr={rule:[{link_innerText:"aliyundrive.com/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"aliyundrive.com/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/aliyundrive\.com\/s\/([a-zA-Z0-9_\-]{8,14})/g,shareCodeNeedRemoveStr:/aliyundrive\.com\/s\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"aliyundrive.com/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.aliyundrive.com/s/{#shareCode#}",copyUrl:`https://www.aliyundrive.com/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"aliyundrive.com/t/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"aliyundrive.com/t/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/aliyundrive\.com\/t\/([a-zA-Z0-9_\-]{8,14})/g,shareCodeNeedRemoveStr:/aliyundrive\.com\/t\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"aliyundrive.com/t/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.aliyundrive.com/t/{#shareCode#}",copyUrl:`https://www.aliyundrive.com/t/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"alipan.com/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"alipan.com/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/alipan\.com\/s\/([a-zA-Z0-9_\-]{8,14})/g,shareCodeNeedRemoveStr:/alipan\.com\/s\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"alipan.com/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.alipan.com/s/{#shareCode#}",copyUrl:`https://www.alipan.com/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"ÈòøÈáå‰∫ë",key:"aliyun",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:true,isForwardBlankLink:true,uri:""}}}},ir={rule:[{link_innerText:"(wenshushu.cn|wss.ink|ws28.cn|wss1.cn|ws59.cn|wss.cc)/f/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"(wenshushu.cn|wss.ink|ws28.cn|wss1.cn|ws59.cn|wss.cc)/f/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/(wenshushu.cn|wss.ink|ws28.cn|wss1.cn|ws59.cn|wss.cc)\/f\/([a-zA-Z0-9_-]{8,14})/gi,shareCodeNeedRemoveStr:/(wenshushu.cn|wss.ink|ws28.cn|wss1.cn|ws59.cn|wss.cc)\/f\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/[0-9a-zA-Z]{4}/gi,uiLinkShow:"www.wenshushu.cn/f/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.wenshushu.cn/f/{#shareCode#}",copyUrl:`https://www.wenshushu.cn/f/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"wenshushu.cn/k/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"wenshushu.cn/k/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/wenshushu.cn\/k\/([a-zA-Z0-9_-]{8,14})/gi,shareCodeNeedRemoveStr:/wenshushu.cn\/k\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/[0-9a-zA-Z]{4}/gi,uiLinkShow:"www.wenshushu.cn/k/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.wenshushu.cn/k/{#shareCode#}",copyUrl:`https://www.wenshushu.cn/k/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"ÊñáÂèîÂèî",key:"wenshushu",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:true,isForwardBlankLink:true,uri:""}}}},sr={rule:[{link_innerText:"cowtransfer.com/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-text-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"cowtransfer.com/s/([a-zA-Z0-9_-]{8,14})([\\s\\S]{0,{#matchRange-html-before#}}(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/cowtransfer.com\/s\/([a-zA-Z0-9_\-]{8,14})/gi,shareCodeNeedRemoveStr:/cowtransfer\.com\/s\//gi,checkAccessCode:/(ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4,6})/gi,uiLinkShow:"cowtransfer.com/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://cowtransfer.com/s/{#shareCode#}",copyUrl:`https://cowtransfer.com/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"Â•∂Áâõ",key:"nainiu",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:true,isForwardBlankLink:true,uri:""}}}},lr={rule:[{link_innerText:"weiyun.com/[0-9a-zA-Z-_]{7,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"weiyun.com/[0-9a-zA-Z-_]{7,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/weiyun.com\/([0-9a-zA-Z\-_]{7,24})/gi,shareCodeNeedRemoveStr:/weiyun.com\//gi,shareCodeNotMatch:/^(ftn_handler)/,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4,6})/gi,uiLinkShow:"share.weiyun.com/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://share.weiyun.com/{#shareCode#}",copyUrl:`https://share.weiyun.com/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"ÂæÆ‰∫ë",key:"weiyun",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},or={rule:[{link_innerText:"xunlei.com/s/[0-9a-zA-Z-_]{8,30}([\\s\\S]{0,{#matchRange-text-before#}}(\\?pwd=|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|ÂØÜÁ†Å|)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"xunlei.com/s/[0-9a-zA-Z-_]{8,30}([\\s\\S]{0,{#matchRange-html-before#}}(\\?pwd=|ËÆøÈóÆÁ†Å|ÊèêÂèñÁ†Å|ÂØÜÁ†Å|)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/xunlei.com\/s\/([0-9a-zA-Z\-_]{8,30})/gi,shareCodeNeedRemoveStr:/xunlei.com\/s\//gi,checkAccessCode:/(\?pwd=|ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/g,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"pan.xunlei.com/s/{#shareCode#}?pwd={#accessCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://pan.xunlei.com/s/{#shareCode#}?pwd={#accessCode#}",copyUrl:"https://pan.xunlei.com/s/{#shareCode#}?pwd={#accessCode#}"}],setting:{name:"ËøÖÈõ∑‰∫ëÁõò",key:"xunlei",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},cr={rule:[{link_innerText:"(pan.jc-box.com|download.jamcz.com|545c.com)/d/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"(pan.jc-box.com|download.jamcz.com|545c.com)/d/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/(pan.jc-box.com|download.jamcz.com|545c.com)\/d\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/(pan.jc-box.com|download.jamcz.com|545c.com)\/d\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,paramMatch:/([a-zA-Z0-9\.]+)\/d\//i,uiLinkShow:"{#$1#}/d/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://{#$1#}/d/{#shareCode#}?p={#accessCode#}",copyUrl:`https://{#$1#}/d/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"ct.ghpym.com/d/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"ct.ghpym.com/d/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/ct.ghpym.com\/d\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/ct.ghpym.com\/d\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,paramMatch:/([a-zA-Z0-9\.]+)\/d\//i,uiLinkShow:"{#$1#}/d/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"http://{#$1#}/d/{#shareCode#}?p={#accessCode#}",copyUrl:`http://{#$1#}/d/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"ctfile.com/d/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"ctfile.com/d/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/ctfile.com\/d\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/ctfile.com\/d\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,uiLinkShow:"url95.ctfile.com/d/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://url95.ctfile.com/d/{#shareCode#}?p={#accessCode#}",copyUrl:`https://url95.ctfile.com/d/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"(2k.us|u062.com|545c.com|t00y.com|tc5.us)/file/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"(2k.us|u062.com|545c.com|t00y.com|tc5.us)/file/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/(2k.us|u062.com|545c.com|t00y.com|tc5.us)\/file\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/(2k.us|u062.com|545c.com|t00y.com|tc5.us)\/file\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,uiLinkShow:"u062.com/file/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://u062.com/file/{#shareCode#}?p={#accessCode#}",copyUrl:`https://u062.com/file/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"(pan.jc-box.com|545c.com|down.jc-box.com|download.cx05.cc|download.jamcz.com|download.macenjoy.co)/f/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"(pan.jc-box.com|545c.com|down.jc-box.com|download.cx05.cc|download.jamcz.com|download.macenjoy.co)/f/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/(pan.jc-box.com|545c.com|down.jc-box.com|download.cx05.cc|download.jamcz.com|download.macenjoy.co)\/f\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/(pan.jc-box.com|545c.com|down.jc-box.com|download.cx05.cc|download.jamcz.com|download.macenjoy.co)\/f\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,paramMatch:/([0-9a-zA-Z\.]+)\/f\//i,uiLinkShow:"{#$1#}/f/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"http://{#$1#}/f/{#shareCode#}?p={#accessCode#}",copyUrl:`http://{#$1#}/f/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"url[0-9]{2}.com/f/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"url[0-9]{2}.com/f/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/url[0-9]{2}.com\/f\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/url[0-9]{2}.com\/f\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,paramMatch:/([0-9a-zA-Z\.]+)\/f\//i,uiLinkShow:"{#$1#}/f/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"http://{#$1#}/f/{#shareCode#}?p={#accessCode#}",copyUrl:`http://{#$1#}/f/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"(ctfile.com|089u.com)/f/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"(ctfile.com|089u.com)/f/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4,6}|)",shareCode:/(ctfile.com|089u.com)\/f\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/(ctfile.com|089u.com)\/f\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,6})/gi,uiLinkShow:"url95.ctfile.com/f/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://url95.ctfile.com/f/{#shareCode#}?p={#accessCode#}",copyUrl:`https://url95.ctfile.com/f/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"(089u.com|474b.com)/dir/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4,6}|)",link_innerHTML:"(089u.com|474b.com)/dir/[0-9a-zA-Z-_]{8,26}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=|\\?p=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{6}|)",shareCode:/(089u.com|474b.com)\/dir\/([0-9a-zA-Z\-_]{8,26})/gi,shareCodeNeedRemoveStr:/(089u.com|474b.com)\/dir\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\\?password=|\\?p=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{6})/gi,uiLinkShow:"089u.com/dir/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://089u.com/dir/{#shareCode#}?p={#accessCode#}",copyUrl:`https://089u.com/dir/{#shareCode#}?p={#accessCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"ÂüéÈÄöÁΩëÁõò",key:"chengtong",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:true,uri:""},ownFormList:[{type:"forms",text:"Êñá‰ª∂Ëß£ÊûêÈÖçÁΩÆ",forms:[Q("<a target='_blank' href='https://github.com/qinlili23333/ctfileGet/'>Ëß£ÊûêÁ´ô</a>","chengtong-parse-file-api-host","https://ctfile.qinlili.bid","Ëß£ÊûêÁ´ôÈÖçÁΩÆÔºåÊöÇÊó∂Âè™ÊîØÊåÅfileÔºåÈùûfile‰∏∫Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ",void 0,"")]}]}}},ur={rule:[{link_innerText:"quark.cn/s/[0-9a-zA-Z-_]{8,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"quark.cn/s/[0-9a-zA-Z-_]{8,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/quark.cn\/s\/([0-9a-zA-Z\-_]{8,24})/gi,shareCodeNeedRemoveStr:/quark.cn\/s\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"quark.cn/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://pan.quark.cn/s/{#shareCode#}",copyUrl:`https://pan.quark.cn/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"Â§∏ÂÖãÁΩëÁõò",key:"kuake",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},dr={rule:[{link_innerText:"magnet:\\?xt=urn:btih:[0-9a-fA-F]{32,40}",link_innerHTML:"magnet:\\?xt=urn:btih:[0-9a-fA-F]{32,40}",shareCode:/magnet:\?xt=urn:btih:([0-9a-fA-F]{32,40})/gi,shareCodeNeedRemoveStr:/magnet:\?xt=urn:btih:/gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4})/gi,uiLinkShow:"magnet:?xt=urn:btih:{#shareCode#}",blank:"magnet:?xt=urn:btih:{#shareCode#}",copyUrl:"magnet:?xt=urn:btih:{#shareCode#}"}],setting:{name:"BTÁ£ÅÂäõ",key:"magnet",configurationInterface:{function:{enable:true,linkClickMode:{openBlank:{default:true},"openBlank-closePopup":{enable:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}}},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},pr={rule:[{link_innerText:"jianguoyun.com/p/[0-9a-zA-Z-_]{16,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]+|)",link_innerHTML:"jianguoyun.com/p/[0-9a-zA-Z-_]{16,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]+|)",shareCode:/jianguoyun.com\/p\/([0-9a-zA-Z\-_]{16,24})/gi,shareCodeNeedRemoveStr:/jianguoyun.com\/p\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{3,6})/gi,uiLinkShow:"jianguoyun.com/p/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://www.jianguoyun.com/p/{#shareCode#}",copyUrl:`https://www.jianguoyun.com/p/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"ÂùöÊûú‰∫ë",key:"jianguoyun",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:false,isForwardBlankLink:false,uri:""}}}},hr={rule:[{link_innerText:"[0-9a-zA-Z-_]+.sharepoint.com/[0-9a-zA-Z-_:]+/[0-9a-zA-Z-_:]+/personal/[0-9a-zA-Z-_]+/[0-9a-zA-Z-_]+([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=\\?e=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]+|)",link_innerHTML:"[0-9a-zA-Z-_]+.sharepoint.com/[0-9a-zA-Z-_:]+/[0-9a-zA-Z-_:]+/personal/[0-9a-zA-Z-_]+/[0-9a-zA-Z-_]+([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=\\?e=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]+|)",shareCode:/[0-9a-zA-Z-_]+\/[0-9a-zA-Z-_:]+\/[0-9a-zA-Z-_:]+\/personal\/[0-9a-zA-Z-_]+\/([0-9a-zA-Z\-_]+)/gi,shareCodeNeedRemoveStr:/[0-9a-zA-Z-_]+\/[0-9a-zA-Z-_:]+\/[0-9a-zA-Z-_:]+\/personal\/[0-9a-zA-Z-_]+\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å|\?password=|\?e=)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4,8})/gi,paramMatch:/([0-9a-zA-Z-_]+).sharepoint.com\/([0-9a-zA-Z-_:]+)\/([0-9a-zA-Z-_:]+)\/personal\/([0-9a-zA-Z-_]+)\/([0-9a-zA-Z-_]+)/i,uiLinkShow:"{#$1#}.sharepoint.com/{#$2#}/{#$3#}/personal/{#$4#}/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://{#$1#}.sharepoint.com/{#$2#}/{#$3#}/personal/{#$4#}/{#shareCode#}?e={#accessCode#}",copyUrl:`https://{#$1#}.sharepoint.com/{#$2#}/{#$3#}/personal/{#$4#}/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"OneDrive",key:"onedrive",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:false,uri:""}}}},fr={rule:[{link_innerText:"(drive|fast).uc.cn/s/[0-9a-zA-Z]{8,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]+|)",link_innerHTML:"(drive|fast).uc.cn/s/[0-9a-zA-Z]{8,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]+|)",shareCode:/(drive|fast).uc.cn\/s\/([0-9a-zA-Z]{8,24})/gi,shareCodeNeedRemoveStr:/(drive|fast).uc.cn\/s\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]+)/gi,uiLinkShow:"drive.uc.cn/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://drive.uc.cn/s/{#shareCode#}",copyUrl:`https://drive.uc.cn/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"UCÁΩëÁõò",key:"uc",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:false,isForwardBlankLink:false,uri:""}}}},we=function(r,a,e,t,n,s,i,o,l){let c={text:r,type:"slider",description:o,attributes:{},props:{},getValue(){return this.props[U].get(a,e)},getToolTipContent(u){return typeof i=="function"?i(u):`${u}`},callback(u,d){if(typeof s=="function"&&s(u,d))return;this.props[U].set(a,d);},min:t,max:n,step:l};return Reflect.set(c.attributes,pe,a),Reflect.set(c.attributes,me,e),ze.initComponentsStorageApi("slider",c,{get(u,d){return ne.getValue(u,d)},set(u,d){ne.setValue(u,d);}}),c},Re=function(r,a,e,t,n,s){let i=[];typeof t=="function"?i=t():i=t;let o={text:r,type:"select",description:s,attributes:{},props:{},getValue(){return this.props[U].get(a,e)},callback(l,c,u){let d=c;g.info(`ÈÄâÊã©Ôºö${u}`),this.props[U].set(a,d);},data:i};return Reflect.set(o.attributes,pe,a),Reflect.set(o.attributes,me,e),ze.initComponentsStorageApi("select",o,{get(l,c){return ne.getValue(l,c)},set(l,c){ne.setValue(l,c);}}),o},gr={rule:[{link_innerText:"(115.com|115cdn.com|anxia.com)/s/[0-9a-zA-Z-_]{8,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]{4}|)",link_innerHTML:"(115.com|115cdn.com|anxia.com)/s/[0-9a-zA-Z-_]{8,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]{4}|)",shareCode:/(115.com|115cdn.com|anxia.com)\/s\/([0-9a-zA-Z\-_]{8,24})/gi,shareCodeNeedRemoveStr:/(115.com|115cdn.com|anxia.com)\/s\//gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|\?password=|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/(\?password=|)([0-9a-zA-Z]{4})/i,paramMatch:/(115.com|115cdn.com|anxia.com)/i,uiLinkShow:"{#$1#}/s/{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://{#$1#}/s/{#shareCode#}",copyUrl:`https://{#$1#}/s/{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"115ÁΩëÁõò",key:"_115pan",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},mr={rule:[{link_innerText:"ed2k://\\|file\\|[^\\|]+\\|\\d+\\|[a-fA-F0-9]{32}\\|",link_innerHTML:"ed2k://\\|file\\|[^\\|]+\\|\\d+\\|[a-fA-F0-9]{32}\\|",shareCode:/ed2k:\/\/\\|file\\|[^\\|]+\\|\\d+\\|([a-fA-F0-9]{32})\|/gi,shareCodeNeedRemoveStr:/ /gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]{4})/gi,paramMatch:/ed2k:\/\/\|file\|([^\|]+)\|(\d+)\|([a-fA-F0-9]{32})\|/i,uiLinkShow:"ed2k://|file|{#$1#}|{#$2#}|{#$3#}|/",blank:"ed2k://|file|{#$1#}|{#$2#}|{#$3#}|/",copyUrl:"ed2k://|file|{#$1#}|{#$2#}|{#$3#}|/"}],setting:{name:"ed2k",key:"ed2k",configurationInterface:{function:{enable:true,linkClickMode:{openBlank:{default:true},"openBlank-closePopup":{enable:true},parseFile:{enable:true},"parseFile-closePopup":{enable:true}}},schemeUri:{enable:false,isForwardBlankLink:true,uri:""}}}},br={rule:[{link_innerText:"[0-9a-z]+.(link.yunpan.com|link.yunpan.360.cn)/lk/surl_[0-9a-zA-Z]{8,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]+|)",link_innerHTML:"[0-9a-z]+.(link.yunpan.com|link.yunpan.360.cn)/lk/surl_[0-9a-zA-Z]{8,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]+|)",shareCode:/(link.yunpan.com|link.yunpan.360.cn)\/lk\/surl_([0-9a-zA-Z]{8,24})/gi,shareCodeNeedRemoveStr:/(link.yunpan.com|link.yunpan.360.cn)\/lk\/surl_/gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]+)/gi,paramMatch:/([0-9a-z]+).(link.yunpan.com|link.yunpan.360.cn)\/lk\//i,uiLinkShow:"https://{#$1#}.{#$2#}/lk/surl_{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://{#$1#}.{#$2#}/lk/surl_{#shareCode#}",copyUrl:`https://{#$1#}.{#$2#}/lk/surl_{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`},{link_innerText:"(yunpan.360.cn|www.yunpan.com)/lk/surl_[0-9a-zA-Z]{8,24}([\\s\\S]{0,{#matchRange-text-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-text-after#}}[0-9a-zA-Z]+|)",link_innerHTML:"(yunpan.360.cn|www.yunpan.com)/lk/surl_[0-9a-zA-Z]{8,24}([\\s\\S]{0,{#matchRange-html-before#}}(ËÆøÈóÆÁ†Å|ÂØÜÁ†Å|ÊèêÂèñÁ†Å|\\?password=)[\\s\\S]{0,{#matchRange-html-after#}}[0-9a-zA-Z]+|)",shareCode:/(yunpan.360.cn|www.yunpan.com)\/lk\/surl_([0-9a-zA-Z]{8,24})/gi,shareCodeNeedRemoveStr:/(yunpan.360.cn|www.yunpan.com)\/lk\/surl_/gi,checkAccessCode:/(ÊèêÂèñÁ†Å|ÂØÜÁ†Å|ËÆøÈóÆÁ†Å)[\s\S]+/gi,accessCode:/([0-9a-zA-Z]+)/gi,paramMatch:/(yunpan.360.cn|www.yunpan.com)/i,uiLinkShow:"https://{#$1#}/lk/surl_{#shareCode#} ÊèêÂèñÁ†Å: {#accessCode#}",blank:"https://{#$1#}/lk/surl_{#shareCode#}",copyUrl:`https://{#$1#}/lk/surl_{#shareCode#}
ÂØÜÁ†ÅÔºö{#accessCode#}`}],setting:{name:"360AI‰∫ëÁõò",key:"360yunpan",configurationInterface:{matchRange_text:{before:20,after:10},matchRange_html:{before:100,after:15},function:{enable:true,linkClickMode:{openBlank:{default:true}},checkLinkValidity:true,checkLinkValidityHoverTip:true},linkClickMode_openBlank:{openBlankAutoFilleAccessCode:true,openBlankWithCopyAccessCode:true},schemeUri:{enable:false,isForwardLinearChain:false,isForwardBlankLink:false,uri:""}}}},qe={dataKey:"ruleData",$data:{ruleContent:[]},init(){this.initRule();},initRule(){let r=[Qa,er,tr,ar,rr,nr,ir,sr,Mt,lr,or,gr,cr,ur,dr,mr,pr,hr,fr,br],a=ue.getNetDiskRuleConfig();[...r,...a].forEach(e=>{if(typeof e=="function"&&(e=e()),typeof e.setting.key!="string")throw new Error("ËßÑÂàôÊú™ËÆæÁΩÆkey");if(e.rule==null)throw new Error("ËßÑÂàôÊú™ËÆæÁΩÆrule");const t=e.setting.key,n=e.setting.name,s=e.rule;if(Reflect.has(L.$rule.ruleOption,t)){let c=L.$rule.ruleOption[t];e.isUserRule?c=[...s,...c]:c=[...c,...s];let u=L.$rule.rule.find(d=>d.setting.key===t);u.rule=c;}else Reflect.set(L.$rule.ruleOption,t,e.rule),L.$rule.rule.push(e);Reflect.set(L.$rule.ruleSetting,t,e.setting),e.rule=this.parseRuleMatchRule(e);let i=this.parseRuleSetting(e),o=e.setting.name;C.src.hasIcon(t)&&(o=`
					<div class="netdisk-aside-icon" style="background-image: url(${C.src.icon[t]});"></div>
					<div class="netdisk-aside-text">${n}</div>`);let l=n;e.isUserRule&&(l+=`
					<div 
						class="netdisk-custom-rule-edit" 
						data-key="${t}" 
						data-type="${e.setting.name}"
						${typeof e.subscribeUUID=="string"?`data-subscribe-uuid="${e.subscribeUUID}"`:""}"
						
					>${H.config.iconSVG.edit}</div>`,l+=`
					<div
						class="netdisk-custom-rule-delete"
						data-key="${t}"
						data-type="${e.setting.name}"
						${typeof e.subscribeUUID=="string"?`data-subscribe-uuid="${e.subscribeUUID}"`:""}"
					>${H.config.iconSVG.delete}</div>`),this.$data.ruleContent.push({id:"netdisk-panel-config-"+t,title:o,headerTitle:l,attributes:{"data-key":t},forms:i,afterRender:c=>{c.$asideLiElement.setAttribute("data-function-enable",ee.function.enable(t,true).toString());}});});},parseRuleMatchRule(r){let a=r.rule,e=[],t=r.setting.key;for(let n=0;n<a.length;n++){const s=a[n];typeof s.link_innerText=="string"&&(s.link_innerText=se.replaceParam(s.link_innerText,$t(t))),typeof s.link_innerHTML=="string"&&(s.link_innerHTML=se.replaceParam(s.link_innerHTML,Lt(t))),e.push(s);}return e},parseRuleSetting(r){let a=[];const e=r.setting.configurationInterface,t=r.setting.key;if(e==null)return [];if(e.function){let n=[];if("enable"in e.function){let s=typeof e.function.enable=="boolean"?e.function.enable:false;n.push(j("ÂêØÁî®",B.function.enable(t),s,(i,o)=>{const l="data-function-enable";let d=i.target.getRootNode().querySelector(`.pops-panel-aside li[data-key="${t}"]`);d&&d.setAttribute(l,o.toString());},"ÂºÄÂêØÂèØÂÖÅËÆ∏ÂåπÈÖçËØ•ËßÑÂàô")),e.function.enable=ee.function.enable(t);}if("linkClickMode"in e.function){let s=p.assign(se.getDefaultLinkClickMode(),e.function.linkClickMode||{}),i=null,o=Object.keys(s).map(l=>{let c=s[l];if(c.enable)return c.default&&(i=l),{value:l,text:c.text}}).filter(l=>l!=null);i==null&&(i=o[0].value),n.push(Re("ÁÇπÂáªÂä®‰Ωú",B.function.linkClickMode(t),i,o,void 0,"ÁÇπÂáªÂåπÈÖçÂà∞ÁöÑÈìæÊé•ÁöÑÊâßË°åÁöÑÂä®‰Ωú"));for(const l in e.function.linkClickMode){const c=e.function.linkClickMode[l];l===ee.function.linkClickMode(t)?c.default=true:c.default=false;}}if("checkLinkValidity"in e.function){const s=typeof e.function.checkLinkValidity=="boolean"?e.function.checkLinkValidity:true;n.push(j("È™åËØÅÈìæÊé•ÊúâÊïàÊÄß",B.function.checkLinkValidity(t),s,void 0,"Ëá™Âä®ËØ∑Ê±ÇÈìæÊé•ÔºåÂà§Êñ≠ËØ•ÈìæÊé•ÊòØÂê¶ÊúâÊïàÔºåÂú®Â§ß/Â∞èÁ™óÂÜÖÊòæÁ§∫È™åËØÅÁªìÊûúÂõæÊ†á")),e.function.checkLinkValidity=ee.function.checkLinkValidity(t);}if("checkLinkValidityHoverTip"in e.function){const s=typeof e.function.checkLinkValidityHoverTip=="boolean"?e.function.checkLinkValidityHoverTip:true;n.push(j("È™åËØÅÈìæÊé•ÊúâÊïàÊÄß-ÊÇ¨ÂÅúÊèêÁ§∫",B.function.checkLinkValidityHoverTip(t),s,void 0,"ÂΩìÈº†Ê†áÊÇ¨ÂÅúÂú®È™åËØÅÁªìÊûúÂõæÊ†á‰∏äÊó∂‰ºöÊòæÁ§∫Áõ∏ÂÖ≥È™åËØÅ‰ø°ÊÅØ"));}n.length&&a.push({text:"ÂäüËÉΩ",type:"forms",forms:n});}if(e.linkClickMode_openBlank){let n=[];if("openBlankAutoFilleAccessCode"in e.linkClickMode_openBlank){const s=typeof e.linkClickMode_openBlank.openBlankAutoFilleAccessCode=="boolean"?e.linkClickMode_openBlank.openBlankAutoFilleAccessCode:true;n.push(j("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å",B.linkClickMode_openBlank.openBlankAutoFilleAccessCode(t),s,void 0,"ÂΩìÁÇπÂáªÂä®‰ΩúÊòØ„ÄêÊñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ„ÄëÊó∂‰∏îÂ≠òÂú®ËÆøÈóÆÁ†ÅÔºåÈÇ£Â∞±‰ºöËá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å")),e.linkClickMode_openBlank.openBlankAutoFilleAccessCode=ee.linkClickMode_openBlank.openBlankAutoFilleAccessCode(t);}if("openBlankWithCopyAccessCode"in e.linkClickMode_openBlank){const s=typeof e.linkClickMode_openBlank.openBlankWithCopyAccessCode=="boolean"?e.linkClickMode_openBlank.openBlankWithCopyAccessCode:false;n.push(j("Ë∑≥ËΩ¨Êó∂Â§çÂà∂ËÆøÈóÆÁ†Å",B.linkClickMode_openBlank.openBlankWithCopyAccessCode(t),s,void 0,"ÂΩìÁÇπÂáªÂä®‰ΩúÊòØ„ÄêÊñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ„ÄëÊó∂‰∏îÂ≠òÂú®ËÆøÈóÆÁ†ÅÔºåÈÇ£Â∞±‰ºöÂ§çÂà∂ËÆøÈóÆÁ†ÅÂà∞Ââ™Ë¥¥Êùø")),e.linkClickMode_openBlank.openBlankWithCopyAccessCode=ee.linkClickMode_openBlank.openBlankWithCopyAccessCode(t);}n.length&&a.push({text:"ÁÇπÂáªÂä®‰Ωú-Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ",type:"forms",forms:n});}if(e.schemeUri){const n=[];if("enable"in e.schemeUri){const s=typeof e.schemeUri.enable=="boolean"?e.schemeUri.enable:false;n.push(j("ÂêØÁî®",B.schemeUri.enable(t),s,void 0,"ÂºÄÂêØÂêéÂèØËøõË°åscheme uriËΩ¨Âèë")),e.schemeUri.enable=ee.schemeUri.enable(t);}if("isForwardBlankLink"in e.schemeUri){const s=typeof e.schemeUri.isForwardBlankLink=="boolean"?e.schemeUri.isForwardBlankLink:false;n.push(j("ËΩ¨ÂèëÊñ∞Ê†áÁ≠æÈ°µÈìæÊé•",B.schemeUri.isForwardBlankLink(t),s,void 0,"ÂØπÊñ∞Ê†áÁ≠æÈ°µÊâìÂºÄÁöÑÈìæÊé•ËøõË°åschemeËΩ¨Êç¢")),e.schemeUri.isForwardBlankLink=ee.schemeUri.isForwardBlankLink(t);}if("isForwardLinearChain"in e.schemeUri){const s=typeof e.schemeUri.isForwardLinearChain=="boolean"?e.schemeUri.isForwardLinearChain:false;n.push(j("ËΩ¨ÂèëÁõ¥Èìæ",B.schemeUri.isForwardLinearChain(t),s,void 0,"ÂØπËß£ÊûêÁöÑÁõ¥ÈìæËøõË°åschemeËΩ¨Êç¢")),e.schemeUri.isForwardLinearChain=ee.schemeUri.isForwardLinearChain(t);}if("uri"in e.schemeUri){const s=typeof e.schemeUri.uri=="string"?e.schemeUri.uri:"";n.push(Q("UriÈìæÊé•",B.schemeUri.uri(t),s,"Ëá™ÂÆö‰πâÁöÑSchemeÁöÑUriÈìæÊé•",void 0,"jumpwsv://go?package=xx&activity=xx&intentAction=xx&intentData=xx&intentExtra=xx")),e.schemeUri.uri=ee.schemeUri.uri(t);}n.length&&a.push({text:"Scheme UriËΩ¨Âèë",type:"forms",isFold:true,forms:n});}if(e.matchRange_text){let n=[];if("before"in e.matchRange_text){const s=typeof e.matchRange_text.before=="number"?e.matchRange_text.before:0;n.push(we("Èó¥ÈöîÂâç",B.matchRange_text.before(t),s,0,100,void 0,void 0,"ÊèêÂèñÁ†ÅÈó¥ÈöîÂâçÁöÑÂ≠óÁ¨¶ÈïøÂ∫¶")),e.matchRange_text.before=ee.matchRange_text.before(t);}if("after"in e.matchRange_text){const s=typeof e.matchRange_text.after=="number"?e.matchRange_text.after:0;n.push(we("Èó¥ÈöîÂêé",B.matchRange_text.after(t),s,0,100,void 0,void 0,"ÊèêÂèñÁ†ÅÈó¥ÈöîÂêéÁöÑÂ≠óÁ¨¶ÈïøÂ∫¶")),e.matchRange_text.after=ee.matchRange_text.after(t);}n.length&&a.push({text:"ÊèêÂèñÁ†ÅÊñáÊú¨ÂåπÈÖçText",type:"forms",forms:n});}if(e.matchRange_html){let n=[];if("before"in e.matchRange_html){const s=typeof e.matchRange_html.before=="number"?e.matchRange_html.before:0;n.push(we("Èó¥ÈöîÂâç",B.matchRange_html.before(t),s,0,100,void 0,void 0,"ÊèêÂèñÁ†ÅÈó¥ÈöîÂâçÁöÑÂ≠óÁ¨¶ÈïøÂ∫¶")),e.matchRange_html.before=ee.matchRange_html.before(t);}if("after"in e.matchRange_html){const s=typeof e.matchRange_html.after=="number"?e.matchRange_html.after:0;n.push(we("Èó¥ÈöîÂêé",B.matchRange_html.after(t),s,0,100,void 0,void 0,"ÊèêÂèñÁ†ÅÈó¥ÈöîÂêéÁöÑÂ≠óÁ¨¶ÈïøÂ∫¶")),e.matchRange_html.after=ee.matchRange_html.after(t);}n.length&&a.push({text:"ÊèêÂèñÁ†ÅÊñáÊú¨ÂåπÈÖçHTML",type:"forms",forms:n});}return e.ownFormList&&a.push(...e.ownFormList),a},getRulePanelContent(){return this.$data.ruleContent}},ht=`div[class^="netdisk-custom-rule-"] {\r
	display: flex;\r
	align-items: center;\r
	margin-left: 10px;\r
	cursor: pointer;\r
}\r
div[class^="netdisk-custom-rule-"] svg,\r
div[class^="netdisk-custom-rule-"] svg {\r
	width: 1.2em;\r
	height: 1.2em;\r
}\r
/* Êéß‰ª∂Ë¢´Á¶ÅÁî®ÁöÑÈ¢úËâ≤ */\r
aside.pops-panel-aside li[data-key][data-function-enable="false"] {\r
	color: #a8abb2;\r
	filter: grayscale(100%);\r
}\r
/* Â∑¶‰æßÁΩëÁõòÂõæÊ†á */\r
aside.pops-panel-aside .netdisk-aside-icon {\r
	width: 20px;\r
	height: 20px;\r
	background-size: 100% 100%;\r
	background-repeat: no-repeat;\r
}\r
/* ËÆæÁΩÆÈó¥Èöî */\r
aside.pops-panel-aside ul li {\r
	gap: 4px;\r
}\r
\r
/* mobileÊ®°Âºè */\r
@media screen and (max-width: 600px) {\r
	/* ÈöêËóèÂ∑¶‰æßÁΩëÁõòÂõæÊ†á */\r
	aside.pops-panel-aside .netdisk-aside-text {\r
		display: none;\r
	}\r
}\r
`,ot={show(){var t;if(C.Alias.settingAlias){g.error("ËÆæÁΩÆÁïåÈù¢Â∑≤Â≠òÂú®"),f.error("ËÆæÁΩÆÁïåÈù¢Â∑≤Â≠òÂú®");return}let r=$e.getConfig(0),a=qe.getRulePanelContent();r.push(...a);let e=q.panel({title:{text:`${((t=Ee==null?void 0:Ee.script)==null?void 0:t.name)||ve}-ËÆæÁΩÆ`,position:"center"},content:r,btn:{close:{enable:true,callback(n){n.close(),C.Alias.settingAlias=void 0;}}},mask:{clickCallBack(n){n(),C.Alias.settingAlias=void 0;}},class:"whitesevPopSetting",style:ht},C.popsStyle.settingView);C.Alias.settingAlias=e,this.setRuleHeaderControlsClickEvent(e.$shadowRoot);},setRuleHeaderControlsClickEvent(r){w.on(r,"click",".netdisk-custom-rule-edit",function(a){let e=a.target,t=e.getAttribute("data-key");e.getAttribute("data-type");let n=e.getAttribute("data-subscribe-uuid");typeof n=="string"&&n.trim()!==""?Te.showSubscribe(n,t,function(s){ue.updateRule(t,s);}):Te.show(true,t);}),w.on(r,"click",".netdisk-custom-rule-delete",function(a){let e=a.target,t=e.getAttribute("data-key"),n=e.getAttribute("data-type"),s=e.getAttribute("data-subscribe-uuid");q.alert({title:{text:"ÊèêÁ§∫",position:"center"},content:{text:`Á°ÆÂÆöÂà†Èô§ËßÑÂàô ${n}(${t}) ÂêóÔºü`},btn:{ok:{callback(i){let o;if(typeof s=="string"&&s.trim()!==""?o=re.deleteSubscribeRule(s,t):o=ue.deleteRule(t),o){let l=C.Alias.settingAlias.$shadowRoot.querySelector(`.pops-panel-aside > ul > li[data-key="${t}"]`),c=l.previousElementSibling,u=l.nextElementSibling;c?c.click():u&&u.click(),l==null||l.remove(),f.success("Âà†Èô§ÊàêÂäü"),i.close();}else f.error("Âà†Èô§ËßÑÂàôÂ§±Ë¥•");}}}});});}},wr=`.whitesevSuspension {\r
	top: 0;\r
	position: fixed;\r
	right: 10px;\r
	border-radius: 12px;\r
}\r
.whitesevSuspension .whitesevSuspensionMain {\r
	background: #fff;\r
	border: 1px solid #f2f2f2;\r
	box-shadow: 0 0 15px #e4e4e4;\r
	box-sizing: border-box;\r
	border-radius: inherit;\r
	height: inherit;\r
	width: inherit;\r
}\r
.whitesevSuspension .whitesevSuspensionFloor {\r
	border-bottom: 1px solid #f2f2f2;\r
	position: relative;\r
	box-sizing: border-box;\r
	border-radius: inherit;\r
	height: inherit;\r
	width: inherit;\r
}\r
.whitesevSuspension .whitesevSuspensionFloor .netdisk {\r
	background-position: center center;\r
	background-size: 115% 115%;\r
	background-repeat: no-repeat;\r
	display: flex;\r
	align-items: center;\r
	justify-content: center;\r
	border-radius: inherit;\r
	height: inherit;\r
	width: inherit;\r
}\r
.whitesevSuspension .whitesevSuspensionFloor .netdisk:hover {\r
	transition: all 300ms linear;\r
	background-color: #e4e4e4;\r
	transform: scale(1.1);\r
}\r
.whitesevPop-content p[pop] {\r
	height: 100%;\r
}\r
`,ce={position:{suspensionX:Ne("suspensionX",W.width(window)-50),suspensionY:Ne("suspensionY",(W.height(window)-50)/2),suspensionMaxX:Ne("susponsionMax-x",W.width(window)-50),suspensionMaxY:Ne("suspensionMax-y",W.height(window)-50),isRight:Ne("isRight",false)},mode:{current_suspension_smallwindow_mode:Ne("current_suspension_smallwindow_mode","suspension")}},Qe={suspensionNode:null,isShow:false,isSetEvent:false,isRandBg:false,show(){this.isShow||(this.isShow=true,this.createUI(),this.setSuspensionPosition()),this.isSetEvent||(this.isSetEvent=true,this.setSuspensionEvent(),this.setResizeEventListener()),this.backgroundSwitch(),this.showSuspension();},showSuspension(){this.suspensionNode.style.display="";},hideSuspension(){this.suspensionNode.style.display="none";},isTopWindow(){return he.self.window===he.top.window},createUI(){y.suspension.size.value<15&&(y.suspension.size.value=15),y.suspension.size.value>250&&(y.suspension.size.value=250),y.suspension.opacity.value<.1&&(y.suspension.opacity.value=.1),y.suspension.opacity.value>1&&(y.suspension.opacity.value=1);let r=W.createElement("div",{className:"whitesev-suspension-shadow-container"}),a=r.attachShadow({mode:"open"}),e=y.suspension["suspended-z-index"].value;e<=0&&(e=p.getMaxValue(4e4,p.getMaxZIndex(10))),this.suspensionNode=W.createElement("div",{id:"whitesevSuspensionId",className:"whitesevSuspension",innerHTML:`
					<style type="text/css">
						/* Âä®ÊÄÅÁîüÊàêz-index */
						#whitesevSuspensionId{
							z-index: ${e};;
						}

						${wr}

					</style>
					<div class="whitesevSuspensionMain">
					<div class="whitesevSuspensionFloor">
						<div class="netdisk"></div>
					</div>
					</div>
                `},{style:`
                    width: ${y.suspension.size.value}px;
                    height: ${y.suspension.size.value}px;
                    opacity: ${y.suspension.opacity.value}
                `}),a.appendChild(this.suspensionNode),document.body.appendChild(r);},setSuspensionEvent(){let r=C.suspension.suspensionNode,a=new Zt(r),e,t=false,n=false,s=0,i=0;a.on("pan",function(o){if(!t){t=true;let l=r.getBoundingClientRect();s=o.x-l.left,i=o.y-l.top,W.css(r,{cursor:"move",transition:"none"});}if(o.phase==="move"){let l=W.width(window)-y.suspension.size.value,c=W.height(window)-y.suspension.size.value,u=o.x-s,d=o.y-i;u=u>l?l:u,d=d>c?c:d,u=u<0?0:u,d=d<0?0:d,Qe.saveSuspensionPosition({x:u,y:d}),W.css(r,{left:u+"px",top:d+"px"});}if(o.phase==="end"){t=false,W.css(r,{cursor:"auto"});let l=parseInt(W.css(r,"left"));if(y.suspension["suspended-button-adsorption-edge"].value){let c=0;l>=W.width(window)/2?(c=W.width(window)-y.suspension.size.value,C.suspension.isTopWindow()&&(ce.position.isRight.value=true)):C.suspension.isTopWindow()&&(ce.position.isRight.value=false),Qe.saveSuspensionPosition({x:c}),W.css(r,{left:c+"px"});}W.css(r,{transition:"left 300ms ease 0s"});}}),a.on("tap",function(o){clearTimeout(e),e=void 0,n?(n=false,ot.show()):(e=setTimeout(()=>{n=false,y.features["netdisk-behavior-mode"].value.includes("smallwindow")&&(ce.mode.current_suspension_smallwindow_mode.value="smallwindow",C.suspension.hideSuspension()),C.view.show();},200),n=true);}),C.setGlobalRightClickMenu(r);},saveSuspensionPosition(r){C.suspension.isTopWindow()&&r!=null&&(typeof r.x=="number"&&(ce.position.suspensionX.value=r.x),typeof r.y=="number"&&(ce.position.suspensionY.value=r.y),ce.position.suspensionMaxX.value=ce.position.suspensionMaxX.default,ce.position.suspensionMaxY.value=ce.position.suspensionMaxY.default);},setResizeEventListener(){W.on(globalThis,"resize",void 0,()=>{let r=document.activeElement;if(p.isPhone()){if(["input","textarea"].includes(r.localName))return;if(r.hasAttribute("contenteditable")&&r.getAttribute("contenteditable")==="true"||r.closest("[contenteditable='true']"))return;if(!document.hasFocus())return}this.setSuspensionPosition();});},setSuspensionPosition(){const r=W.width(window)-y.suspension.size.value,a=W.height(window)-y.suspension.size.value,e=ce.position.suspensionMaxX.value,t=ce.position.suspensionMaxY.value;ce.position.suspensionMaxX.default=r,ce.position.suspensionMaxY.default=a;let n=ce.position.suspensionX.value,s=ce.position.suspensionY.value;if(r!==e){let i=n/e;n=r*i;}if(a!==t){let i=s/t;s=a*i;}n>r?n=r:n<0&&(n=0),s>a?s=a:s<0&&(s=0),y.suspension["suspended-button-adsorption-edge"].value&&(ce.position.isRight.value?n=r:n=0),Qe.saveSuspensionPosition({x:n,y:s}),W.css(C.suspension.suspensionNode,{left:n+"px",top:s+"px"});},backgroundSwitch(){if(this.isRandBg)return;function r(){let i=[];return C.isMatchedNetDiskIconMap.forEach(o=>{i=[...i,C.src.icon[o]];}),i}function a(i,o){e=r(),W.fadeOut(s,i,function(){t++,t=t<e.length?t:0,o=e[t],W.css(s,{"background-image":`url(${o})`}),W.fadeIn(s,i,function(){setTimeout(()=>{a(parseInt(y.suspension["randbg-time"].value.toString()),o);},parseInt(y.suspension["randbg-show-time"].value.toString()));});});}let e=[],t=0;e=r();let n=e[t],s=C.suspension.suspensionNode.querySelector(".whitesevSuspension .netdisk");W.css(s,{"background-image":`url(${n})`}),!(e.length<2||y.suspension["randbg-time"].value<=0)&&(this.isRandBg=true,a(parseInt(y.suspension["randbg-time"].value.toString().toString()),n));}},St=`.pops-folder-list .list-name-text {\r
	max-width: 300px;\r
}\r
.netdisk-static-link-onefile .pops-folder-list .list-name-text {\r
	max-width: 220px;\r
}\r
.netdisk-static-link-onefile\r
	.pops-mobile-folder-content\r
	.pops-folder-list\r
	.list-name-text {\r
	max-width: unset;\r
}\r
`,kr={oneFile(r){g.success("ÊàêÂäüËé∑ÂèñÂçïÊñá‰ª∂Áõ¥Èìæ",r),q.folder({title:{text:r.title},folder:[{fileName:r.fileName,fileSize:r.fileSize,fileType:r.fileType??"",createTime:r.fileUploadTime||r.fileLatestTime,latestTime:r.fileLatestTime||r.fileUploadTime,isFolder:false,index:0,async clickEvent(){if(typeof r.clickCallBack=="function")r.clickCallBack(r);else return {autoDownload:true,mode:"aBlank",url:r.downloadUrl}}}],btn:{ok:{text:"‰∏ãËΩΩ",callback(){typeof r.clickCallBack=="function"?r.clickCallBack(r):window.open(r.downloadUrl,"_blank");}}},class:"netdisk-static-link-onefile",style:St},C.popsStyle.oneFileStaticView);},moreFile(r,a=[]){g.success("Êñá‰ª∂Ëß£Êûê‰ø°ÊÅØ",a),q.folder({title:{text:r},folder:a,btn:{ok:{enable:false},cancel:{enable:true}},style:St},C.popsStyle.moreFileStaticView);}},yr=function(r="ÂØÜÁ†ÅÈîôËØØ",a="",e,t,n,s=()=>{},i){const o=q.prompt({title:{text:r,position:"center",html:false},btn:{reverse:true,position:"end",cancel:{text:"ÂèñÊ∂à",callback(l,c){o.close(),i==null||i();}},close:{callback(l,c){l.close(),i==null||i();}},ok:{callback:l=>{var v,N,A,D;let c=l.text.replace(/[\s]*/gi,""),u=L.handleLinkShow({ruleKeyName:a,ruleIndex:e,shareCode:t,accessCode:c});if(!u)return;let d=`.netdisk-url a[data-rule-key='${a}'][data-sharecode='${t}']`,h=`.netdiskrecord-link a[data-rule-key='${a}'][data-sharecode='${t}']`,m=(N=(v=C.Alias.uiLinkAlias)==null?void 0:v.$shadowRoot)==null?void 0:N.querySelector(d),k=(D=(A=C.Alias.historyAlias)==null?void 0:A.$shadowRoot)==null?void 0:D.querySelector(h);m&&(m.setAttribute("data-accesscode",c),w.html(m,u)),k&&(k.setAttribute("data-accesscode",c),w.html(k,u)),g.info(`${a} ÈáçÊñ∞ËæìÂÖ•ÁöÑÂØÜÁ†ÅÔºö${c}`);let b={isFindInMatchedDict:false,isUpdatedMatchedDict:false,isUpdatedHistoryMatched:false,accessCode:c},R=L.$match.matchedInfo.get(a);if(R.has(t)){b.isFindInMatchedDict=true,b.isUpdatedMatchedDict=true;let x=R.get(t);R.set(t,L.createLinkStorageInst(c,e,true,x.matchText));}b.isUpdatedHistoryMatched=st.syncAccessCode(a,e,t,c),s(b),l.close(),i==null||i();}}},content:{placeholder:"ËØ∑ÈáçÊñ∞ËæìÂÖ•ÂØÜÁ†Å",focus:true,select:true,text:n==null?"":typeof n=="string"?n:""},style:`
			input{
				font-size: larger;
			}
			`},C.popsStyle.inputNewAccessCodeView);w.listenKeyboard(o.$shadowRoot,"keypress",l=>{l==="Enter"&&o.$shadowRoot.querySelector(".pops-prompt-btn-ok").click();});},xr=`.pops[type-value="confirm"] .pops-confirm-content {\r
	overflow: hidden;\r
}\r
.netdisk-match-paste-text {\r
	--textarea-bd-color: #dcdfe6;\r
	display: inline-block;\r
	resize: vertical;\r
	padding: 5px 15px;\r
	line-height: normal;\r
	box-sizing: border-box;\r
	color: #606266;\r
	border: 1px solid var(--textarea-bd-color);\r
	border-radius: 4px;\r
	transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\r
	outline: none;\r
	margin: 0;\r
	-webkit-appearance: none;\r
	-moz-appearance: none;\r
	appearance: none;\r
	background: none;\r
	width: 100%;\r
	height: 100%;\r
	appearance: none;\r
	resize: none;\r
}\r
.netdisk-match-paste-text:hover {\r
	--textarea-bd-color: #c0c4cc;\r
}\r
.netdisk-match-paste-text:focus {\r
	--textarea-bd-color: #3677f0;\r
}\r
`,Cr={show(){let r=q.confirm({title:{text:"‰∏ªÂä®ËØÜÂà´ÊñáÊú¨",position:"center"},content:{text:`
                    <textarea class="netdisk-match-paste-text"></textarea>
                    `,html:true},btn:{ok:{text:"ËØÜÂà´",callback(){var e,t;let a=((t=(e=r.popsElement)==null?void 0:e.querySelector(".netdisk-match-paste-text"))==null?void 0:t.value)||"";a.trim()!==""&&(a=se.replaceChinese(a),P.postMessage({characterMapping:[{searchValue:/[\u4e00-\u9fa5]/g,replaceValue:""}],textList:[a],matchTextRange:y.match.pageMatchRange.value,matchedRuleOption:L.$rule.ruleOption,startTime:Date.now(),from:"PasteText"}));}}},class:"whitesevPopNetDiskMatchPasteText",style:xr},C.popsStyle.matchPasteTextView);r.popsElement.querySelector("textarea").focus();},workerMatchEndCallBack(r){r.data.length?f.success(`ÊàêÂäüÂåπÈÖç${r.data.length}‰∏™ÔºåÁî®Êó∂${Date.now()-r.startTime}ms`):f.error("Êú™ËØÜÂà´Âà∞ÈìæÊé•");}},C={Alias:{uiLinkAlias:void 0,historyAlias:void 0,settingAlias:void 0},isMatchedNetDiskIconMap:new Set,defaultForbiddenScroll:false,popsStyle:Qt,src:{icon:{},hasIcon(r){return Reflect.has(this.icon,r)},addIcon(r,a){return this.hasIcon(r)?(g.warn("ÂõæÊ†áÂ≠óÂÖ∏‰∏≠Â∑≤Â≠òÂú®ËØ•iconÔºö"+r),false):Reflect.set(this.icon,r,a)}},suspension:Qe,view:de,staticView:kr,newAccessCodeView:yr,netDiskHistoryMatch:st,matchPasteText:Cr,setGlobalRightClickMenu(r){C.view.registerContextMenu(r,void 0,[{text:"ËÆæÁΩÆ",callback(){g.info("Âè≥ÈîÆËèúÂçï-ÊâìÂºÄ-"+this.text),ot.show();}},{text:"ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï",callback(){g.info("Âè≥ÈîÆËèúÂçï-ÊâìÂºÄ-"+this.text),C.netDiskHistoryMatch.show();}},{text:"Ê∑ªÂä†ÈìæÊé•ËØÜÂà´ËßÑÂàô",callback(){g.info("Âè≥ÈîÆËèúÂçï-ÊâìÂºÄ-"+this.text),Te.show(false);}},{text:"ËßÑÂàôÁÆ°ÁêÜÂô®",callback(){g.info("Âè≥ÈîÆËèúÂçï-ÊâìÂºÄ-"+this.text),Ze.showView();}},{text:"‰∏ªÂä®ËØÜÂà´ÊñáÊú¨",callback(){g.info("Âè≥ÈîÆËèúÂçï-ÊâìÂºÄ-"+this.text),C.matchPasteText.show();}}]);},setRightClickMenu(r,a,e){let t=[{text:"ÈìæÊé•",icon:`
					<svg
						class="icon"
						viewBox="0 0 1024 1024"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg">
						<path
							d="M563.2 672c-6.4-6.4 0 0 0 0L448 793.6c-57.6 57.6-153.6 57.6-211.2 0-57.6-57.6-64-147.2 0-211.2l121.6-121.6-6.4-6.4-38.4-32-6.4-6.4-121.6 121.6C108.8 614.4 108.8 755.2 192 832s217.6 83.2 300.8 0l121.6-121.6-6.4-6.4-44.8-32z m38.4-294.4c6.4 0 6.4 0 0 0l38.4 38.4 6.4 6.4-230.4 230.4-38.4-51.2 224-224zM531.2 192c83.2-83.2 217.6-83.2 300.8 0 83.2 83.2 83.2 217.6 0 300.8l-121.6 121.6-44.8-44.8 128-128c44.8-44.8 51.2-147.2-6.4-204.8-57.6-57.6-160-57.6-204.8-6.4l-128 128v-6.4l-38.4-38.4-6.4-6.4L531.2 192z">
						</path>
					</svg>

				`,callback(n,s,i,o){return  false},item:[{text:"Â§çÂà∂",icon:"documentCopy",callback:function(n,s,i,o){let l=o;const{ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h}=de.praseElementAttributeRuleInfo(l);ye.copy(c,u,d,h);}},{text:"ËÆøÈóÆ",icon:`
						<svg
							class="icon"
							viewBox="0 0 1024 1024"
							version="1.1"
							xmlns="http://www.w3.org/2000/svg">
							<path
								d="M892 928.1H134c-19.9 0-36-16.1-36-36v-758c0-19.9 16.1-36 36-36h314.1c19.9 0 36 16.1 36 36s-16.1 36-36 36H170v686h686V579.6c0-19.9 16.1-36 36-36s36 16.1 36 36v312.5c0 19.9-16.1 36-36 36z"></path>
							<path
								d="M927.9 131.6v-0.5c-0.1-1.7-0.4-3.3-0.7-4.9 0-0.1 0-0.2-0.1-0.3-0.4-1.7-0.9-3.3-1.5-4.9v-0.1c-0.6-1.6-1.4-3.1-2.2-4.6 0-0.1-0.1-0.1-0.1-0.2-0.8-1.4-1.7-2.8-2.7-4.1-0.1-0.1-0.2-0.3-0.3-0.4-0.5-0.6-0.9-1.1-1.4-1.7 0-0.1-0.1-0.1-0.1-0.2-0.5-0.6-1-1.1-1.6-1.6l-0.4-0.4c-0.5-0.5-1.1-1-1.6-1.5l-0.1-0.1c-0.6-0.5-1.2-1-1.9-1.4-0.1-0.1-0.3-0.2-0.4-0.3-1.4-1-2.8-1.8-4.3-2.6l-0.1-0.1c-1.6-0.8-3.2-1.5-4.9-2-1.6-0.5-3.3-1-5-1.2-0.1 0-0.2 0-0.3-0.1l-2.4-0.3h-0.3c-0.7-0.1-1.3-0.1-2-0.1H640.1c-19.9 0-36 16.1-36 36s16.1 36 36 36h165L487.6 487.6c-14.1 14.1-14.1 36.9 0 50.9 7 7 16.2 10.5 25.5 10.5 9.2 0 18.4-3.5 25.5-10.5L856 221v162.8c0 19.9 16.1 36 36 36s36-16.1 36-36V134.1c0-0.8 0-1.7-0.1-2.5z"></path>
						</svg>
	
						`,callback:function(n,s,i,o){let l=o;const{ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h}=de.praseElementAttributeRuleInfo(l);let m=ae.getBlankUrl({ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h});ye.openBlankUrl(m,c,u,d,h);}},{text:"ÂêéÂè∞ÊâìÂºÄ",icon:`
							<svg
								class="icon"
								viewBox="0 0 1024 1024"
								version="1.1"
								xmlns="http://www.w3.org/2000/svg">
								<path
									d="M819.2 864.711111 204.8 864.711111c-50.267022 0-91.022222-40.732444-91.022222-91.022222L113.777778 250.333867C113.777778 200.044089 154.532978 159.288889 204.8 159.288889l614.4 0c50.267022 0 91.022222 40.7552 91.022222 91.044978L910.222222 773.688889C910.222222 823.978667 869.467022 864.711111 819.2 864.711111zM864.711111 250.311111c0-25.122133-20.388978-45.511111-45.511111-45.511111L204.8 204.8c-25.122133 0-45.511111 20.388978-45.511111 45.511111l0 68.266667 705.422222 0 0 0L864.711111 250.311111zM864.711111 364.088889 864.711111 364.088889 159.288889 364.088889l0 409.6c0 25.122133 20.388978 45.511111 45.511111 45.511111l614.4 0c25.122133 0 45.511111-20.388978 45.511111-45.511111L864.711111 364.088889zM500.644978 714.387911c-1.115022 2.798933-2.776178 5.438578-5.028978 7.691378-4.983467 4.983467-11.628089 6.872178-18.136178 6.280533-5.848178 0.045511-11.696356-2.139022-16.156444-6.599111-1.501867-1.501867-2.389333-3.322311-3.367822-5.12l-133.12-131.913956c-8.897422-8.897422-8.897422-23.278933 0-32.176356s23.301689-8.897422 32.176356 0l121.309867 120.194844 211.5584-210.921244c8.8064-8.851911 23.119644-8.851911 31.926044 0 8.829156 8.874667 8.829156 23.233422 0 32.062578L500.644978 714.387911z">
								</path>
							</svg>
						`,callback:function(n,s,i,o){let l=o;const{ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h}=de.praseElementAttributeRuleInfo(l);let m=ae.getBlankUrl({ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h});ye.openBlankUrl(m,c,u,d,h,true);}}]},{text:"ËÆøÈóÆÁ†Å",icon:`
					<svg
						class="icon"
						viewBox="0 0 1024 1024"
						version="1.1"
						xmlns="http://www.w3.org/2000/svg">
						<path
							d="M288 384v-74.666667c0-123.722667 100.266667-224 224-224s224 100.224 224 224v74.666667h10.677333C811.445333 384 864 436.597333 864 501.333333v320c0 64.821333-52.469333 117.333333-117.322667 117.333334H277.333333C212.554667 938.666667 160 886.069333 160 821.333333V501.333333c0-64.821333 52.469333-117.333333 117.322667-117.333333H288z m64 0h320v-74.666667c0-88.426667-71.605333-160-160-160-88.384 0-160 71.626667-160 160v74.666667zM224 501.333333v320c0 29.397333 23.914667 53.333333 53.322667 53.333334H746.666667A53.269333 53.269333 0 0 0 800 821.333333V501.333333c0-29.397333-23.914667-53.333333-53.322667-53.333333H277.333333A53.269333 53.269333 0 0 0 224 501.333333z">
						</path>
					</svg>
				`,callback:function(n,s,i){return  false},item:[{text:"Â§çÂà∂",icon:"documentCopy",callback(n,s,i,o){let l=o;const{ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h}=de.praseElementAttributeRuleInfo(l);if(h==null||typeof h=="string"&&h.trim()===""){f.warning("Êó†ËÆøÈóÆÁ†Å");return}p.setClip(h).then(m=>{m?f.success("Â∑≤Â§çÂà∂"):f.error("ÊâßË°åÂ§çÂà∂Â§±Ë¥•",{consoleLogContent:true});}).catch(()=>{f.error("ÊâßË°åÂ§çÂà∂Â§±Ë¥•",{consoleLogContent:true});});}},{text:"‰øÆÊîπ",icon:"edit",callback:function(n,s,i,o){let l=o;const{ruleKeyName:c,ruleIndex:u,shareCode:d,accessCode:h}=de.praseElementAttributeRuleInfo(l);C.newAccessCodeView(this.text,c,u,d,h,m=>{if(e)if(m.isUpdatedMatchedDict){let k=new Date().getTime(),b=l.closest("li").querySelector(".netdiskrecord-update-time");W.text(b,p.formatTime(k)),W.attr(l,"data-accesscode",m.accessCode),f.success(`
										<div style="text-align: left;">Êóß: ${h}</div>
										<div style="text-align: left;">Êñ∞: ${m.accessCode}</div>`,{html:true});}else f.error("‰øÆÊîπÂ§±Ë¥•");else W.attr(l,"data-accesscode",m.accessCode),m.isUpdatedMatchedDict?f.success(`
										<div style="text-align: left;">Êóß: ${h}</div>
										<div style="text-align: left;">Êñ∞: ${m.accessCode}</div>`,{html:true}):m.isFindInMatchedDict?f.error("‰øÆÊîπËÆøÈóÆÁ†ÅÂ§±Ë¥•"):f.error("‰øÆÊîπËÆøÈóÆÁ†ÅÂ§±Ë¥•ÔºåÂõ†‰∏∫ÂΩìÂâçÂ∑≤ÂåπÈÖçÂ≠óÂÖ∏‰∏≠Êú™ÊâæÂà∞ÂØπÂ∫îÁöÑËÆøÈóÆÁ†Å");});}}]},{text:"ÂÖ∂ÂÆÉ",icon:`
				<svg
					class="icon"
					viewBox="0 0 1024 1024"
					version="1.1"
					xmlns="http://www.w3.org/2000/svg">
					<path
						d="M826.92 857.397H197.08c-33.667 0-60.953-27.287-60.953-60.953V349.46c0-33.666 27.286-60.952 60.952-60.952h121.905v-60.952c0-33.666 27.286-60.953 60.953-60.953h243.809c33.666 0 60.952 27.287 60.952 60.953v60.952H826.921c33.666 0 60.952 27.286 60.952 60.952v446.984c0 33.666-27.286 60.953-60.952 60.953zM644.064 247.873c0-22.43-18.204-40.635-40.634-40.635H400.254c-22.43 0-40.635 18.205-40.635 40.635v40.635h284.444v-40.635z m203.175 121.905c0-22.43-18.204-40.635-40.635-40.635H217.397c-22.43 0-40.635 18.204-40.635 40.635v162.54h304.762v-50.794c0-16.823 13.653-30.476 30.476-30.476s30.476 13.653 30.476 30.476v50.793h304.762v-162.54z m0 203.174H542.476v10.16c0 16.842-13.653 30.475-30.476 30.475s-30.476-13.633-30.476-30.476v-10.159H176.762v203.175c0 22.43 18.204 40.635 40.635 40.635h589.206c22.43 0 40.635-18.205 40.635-40.635V572.952z">
					</path>
				</svg>
	
				`,callback(n,s,i,o){return  false},item:[{text:"Â§çÂà∂ÂÖ®ÈÉ®",icon:"documentCopy",callback(n,s,i,o){let c=o.closest(".netdisk-url-box-all"),u=[];c.querySelectorAll(a).forEach(d=>{const{ruleKeyName:h,ruleIndex:m,shareCode:k,accessCode:b}=de.praseElementAttributeRuleInfo(d);let R=ae.getCopyUrlInfo({ruleKeyName:h,ruleIndex:m,shareCode:k,accessCode:b});u.push(R);}),p.setClip(u.join(`
`)).then(d=>{d?f.success("ÊàêÂäüÂ§çÂà∂ÂÖ®ÈÉ®"):f.error("Â§çÂà∂ÂÖ®ÈÉ®Â§±Ë¥•");}).catch(()=>{f.error("Â§çÂà∂ÂÖ®ÈÉ®Â§±Ë¥•");});}}]}];e||t[2].item.push({text:"Âà†Èô§ÂΩìÂâç",icon:"delete",callback:function(n,s,i,o){let l=o,c=l.closest(".netdisk-url-box");const{ruleKeyName:u,ruleIndex:d,shareCode:h,accessCode:m}=de.praseElementAttributeRuleInfo(l);let k=false;L.$match.matchedInfo.forEach((b,R)=>{R===u&&b.forEach((v,N)=>{N===h&&(k=true,b.delete(N),g.info("Âà†Èô§Ôºö",R,JSON.stringify(v)));});}),L.$match.matchedInfoRuleKey.clear(),L.$match.matchedInfo.forEach((b,R)=>{b.length&&L.$match.matchedInfoRuleKey.add(R);}),k?c.remove():f.error("ÂèëÁîüÊÑèÂ§ñÊÉÖÂÜµÔºåÊú™Âú®Â∑≤ÂåπÈÖçÂà∞ÁöÑ‰ø°ÊÅØ‰∏≠Âà∞ÂØπÂ∫îÁöÑÁΩëÁõò‰ø°ÊÅØ");}},{text:"Âà†Èô§ÊâÄÊúâ",icon:"delete",callback:function(n,s,i,o){let l=o,c=l.closest(".netdisk-url-box-all");const{ruleKeyName:u,ruleIndex:d,shareCode:h,accessCode:m}=de.praseElementAttributeRuleInfo(l);L.$match.matchedInfo.forEach((k,b)=>{k.clear();}),L.$match.matchedInfoRuleKey.clear(),W.html(c,"");}}),C.view.registerContextMenu(r,a,t);}},_t=`/* ÂÆπÂô® */\r
.website-rule-container {\r
}\r
/* ÊØè‰∏ÄÊù°ËßÑÂàô */\r
.website-rule-item {\r
	display: flex;\r
	align-items: center;\r
	line-height: normal;\r
	font-size: 16px;\r
	padding: 4px 4px;\r
	gap: 6px;\r
}\r
/* ËßÑÂàôÂêç */\r
.website-rule-item .website-rule-name {\r
	flex: 1;\r
	white-space: nowrap;\r
	text-overflow: ellipsis;\r
	overflow: hidden;\r
}\r
/* Êìç‰ΩúÊåâÈíÆ */\r
.website-rule-item .website-controls {\r
	display: flex;\r
	align-items: center;\r
	text-overflow: ellipsis;\r
	overflow: hidden;\r
	white-space: nowrap;\r
	gap: 8px;\r
	padding: 0px 4px;\r
}\r
/* ÁºñËæëÂíåÂà†Èô§ÊåâÈíÆ */\r
.website-rule-item .website-rule-edit,\r
.website-rule-item .website-rule-delete {\r
	width: 16px;\r
	height: 16px;\r
	cursor: pointer;\r
}\r
/* ÂêØÁî®ÊåâÈíÆ */\r
.website-rule-item .website-rule-enable {\r
}\r
/* ÁºñËæëÊåâÈíÆ */\r
.website-rule-item .website-rule-edit {\r
}\r
/* Âà†Èô§ÊåâÈíÆ */\r
.website-rule-item .website-rule-delete {\r
}\r
`;function ft(r){if(r===null||typeof r!="object")return r;let a=Array.isArray(r)?[]:{};for(let e in r)r.hasOwnProperty(e)&&(a[e]=ft(r[e]));return a}const Se=new Le("websiteRule"),ke={$data:{STORAGE_KEY:"rule",EXPORT_CONFIG_KEY:"rule-export-config",isShowEditView:false},init(){},getTemplateData(){return {uuid:p.generateUUID(),subscribeUUID:null,enable:true,name:"",url:"",data:{}}},getRulePanelViewOption(r){const a=this;let e=H.config.panelHandleContentUtils(),t=()=>r??this.getTemplateData(),n=function(i){return {get(o,l){return i[o]??l},set(o,l){i[o]=l;}}};return {id:"website-rule",title:"ÁΩëÁ´ôËßÑÂàô",subscribe:{enable:true,data(){return X.getAllSubscribe()},getData:i=>X.getSubscribe(i.uuid)??i,getDataItemName(i){return `
						<style>
							.subscribe-rule-title-info-wrapper{
								display: flex;
								flex-direction: column;
								gap: 4px;
							}
							.subscribe-rule-title-info-wrapper .rule-name-text{
								white-space: nowrap;
								text-overflow: ellipsis;
								overflow: hidden;
								font-weight: 600;
								font-size: 16px;
								line-height: 24px;
							}
							.subscribe-rule-title-info-wrapper .subscribe-rule-small-span-text{
								font-size: 14px;
								line-height: 16px;
								white-space: pre-wrap;
							}
						</style>
						<div class="subscribe-rule-title-info-wrapper">
							<div class="rule-name-text" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;font-size: 16px;font-weight: 600;line-height: 24px;">${i.data.title||i.subscribeData.title||i.data.url}</div>
								<div class="subscribe-rule-small-span-text">${i.subscribeData.ruleData.length} Êù°ËßÑÂàôÔºåÊõ¥Êñ∞‰∫éÔºö${p.formatTime(i.data.latestUpdateTime,"yyyyÂπ¥MMÊúàddÊó• HH:mm:ss")}${typeof i.data.updateFailedTime=="number"?`Ôºå<span style="color: red;">Êõ¥Êñ∞Â§±Ë¥•‰∫éÔºö${p.formatTime(i.data.updateFailedTime,"yyyyÂπ¥MMÊúàddÊó• HH:mm:ss")}</span>`:""}</div>
								${i.subscribeData.homePage?`<a href="${i.subscribeData.homePage}" class="subscribe-rule-small-span-text" target="_blank" style="color:#67b279;">ËΩ¨Âà∞‰∏ªÈ°µ</a>`:""}
								<a href="${i.data.url}" class="subscribe-rule-small-span-text" target="_blank" style="color:#67b279;">ËÆ¢ÈòÖÂú∞ÂùÄ</a>
						</div>`},addData:i=>X.addSubscribe(i),updateData:i=>X.updateSubscribe(i),deleteData:i=>X.deleteSubscribe(i),btnControls:{add:{enable:true},filter:{enable:true,title:"ËøáÊª§ËÆ¢ÈòÖ",option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËÆ¢ÈòÖ",filterCallBack(i){return i.data.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËÆ¢ÈòÖ",filterCallBack(i){return !i.data.enable}}]},clearAll:{enable:true,callback:()=>{X.deleteAllSubscribe();}},ruleEnable:{enable:true,getEnable(i){return i.data.enable},async callback(i,o){i.data.enable=o,X.updateSubscribe(i);}},ruleEdit:{enable:true,callback:i=>{let o=i.ruleData.uuid;return i.enterDeepMenu({headerTitle:i.ruleData.data.title||i.ruleData.subscribeData.title||i.ruleData.data.url,data(){var c;let l=X.getSubscribe(o);return ((c=l==null?void 0:l.subscribeData)==null?void 0:c.ruleData)??i.ruleData.subscribeData.ruleData},getData(l){return X.getSubscribeRule(o,l.uuid)??l},getDataItemName(l){return l.name??l.url},addData(l){return  true},updateData(l){return X.updateSubscribeRule(o,l)},deleteData(l){return X.deleteSubscribeRule(o,l)},btnControls:{filter:{enable:true,option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(l){return l.data.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(l){return !l.data.enable}}]},clearAll:{enable:true,callback:()=>{X.clearSubscribe(o);}},ruleEnable:{enable:true,getEnable(l){return l.enable},callback(l,c){l.data.enable=c,X.updateSubscribeRule(o,l);}},ruleEdit:{enable:true,getView:(l,c)=>{a.$data.isShowEditView=true,c||(l=t());function u(D){return {get(x,S){let _=X.getSubscribeRule(o,D);return Reflect.get(_.data,x)??S},set(x,S){let _=X.getSubscribeRule(o,D);Reflect.set(_.data,x,S),X.updateSubscribeRule(o,_);}}}let d=document.createDocumentFragment(),h=j("ÂêØÁî®","enable",true);Reflect.set(h.props,U,n(l));let m=e.createSectionContainerItem_switch(h),k=Q("ËßÑÂàôÂêçÁß∞","name","","",void 0,"ÂøÖÂ°´");Reflect.set(k.props,U,n(l));let b=e.createSectionContainerItem_input(k),R=Q("ÂåπÈÖçÁΩëÂùÄ","url","","",void 0,"ÂøÖÂ°´ÔºåÂèØÊ≠£Âàô");Reflect.set(R.props,U,n(l));let v=e.createSectionContainerItem_input(R),N=tt("Ë¶ÜÁõñËÆæÁΩÆ","","Ëá™ÂÆö‰πâ",void 0,false,false,"primary",D=>{p.preventEvent(D);let x=[...$e.getConfig(0),...qe.getRulePanelContent()],S=ft(x);function _(M){M.forEach(I=>{if(typeof(I==null?void 0:I.props)=="object"&&Reflect.has(I.props,U)){let $=u(l.uuid);Reflect.set(I.props,U,$);}let V=I.forms;V&&Array.isArray(V)&&_(V);});}for(let M=0;M<S.length;M++){let I=S[M];if(!I.forms)continue;if(typeof I.afterRender=="function"&&(I!=null&&I.id.toString().startsWith("netdisk-panel-config-"))&&(I.afterRender=$=>{let z=$.asideConfig.attributes["data-key"],O=B.function.enable(z),Y=X.getSubscribeRule(o,l.uuid);$.$asideLiElement.setAttribute("data-function-enable",Y.data[O]??true);}),typeof I.attributes=="object"&&I.forms!=null&&pe in I.attributes){let $=I.attributes[pe],z=j("ÂêØÁî®",Ve.features.customAccessCodeEnable($),false,void 0,"ÂêØÁî®ÂêéÂ∞ÜÂÖÅËÆ∏ÊâßË°å‰∏ãÈù¢ÁöÑÂäüËÉΩ",void 0);Reflect.set(z.props,U,u(l.uuid));let O=Q("Ëá™ÂÆö‰πâËÆøÈóÆÁ†Å",Ve.features.customAccessCode($),"","ËÆ©Ëé∑ÂèñÁöÑÂà∞ÁöÑÈìæÊé•ÁöÑËÆøÈóÆÁ†ÅÈÉΩ‰∏∫Ëá™ÂÆö‰πâÁöÑËÆøÈóÆÁ†Å",void 0,"ËØ∑ËæìÂÖ•Ëá™ÂÆö‰πâËÆøÈóÆÁ†Å",false,false);Reflect.set(O.props,U,u(l.uuid));let Y={text:"È¢ùÂ§ñÂäüËÉΩ",type:"forms",forms:[z,O]};I.forms.length?I.forms.splice(1,0,Y):I.forms.push(Y);}let V=I.forms;V&&Array.isArray(V)&&_(V);}q.panel({title:{text:"Ë¶ÜÁõñËÆæÁΩÆ",position:"center"},content:S,btn:{close:{enable:true,callback(M){M.close();}}},mask:{clickCallBack(M){M();}},only:false,class:"whitesevPopSetting",style:`
																${ht}
																
																${_t}
						
						
																/* ÈöêËóèÈ°∂ÈÉ®ÁöÑÂõæÊ†á */
																.netdisk-custom-rule-edit,
																.netdisk-custom-rule-delete,
																/* ÈöêËóèÂø´Êç∑ÈîÆËÆæÁΩÆËèúÂçïÔºåÂõ†‰∏∫Ëøô‰∏™ÊòØÂÖ®Â±ÄÂîØ‰∏ÄÁöÑ */
																.netdisk-panel-forms-shortcut-keys-deepMenu{
																	display: none !important;
																}`},C.popsStyle.settingView);},void 0),A=e.createSectionContainerItem_button(N);return d.appendChild(m),d.appendChild(b),d.appendChild(v),d.appendChild(A),d},onsubmit:(l,c,u)=>{let d=l.querySelectorAll(".rule-form-ulist > li"),h=t();if(c){h.uuid=u.uuid;let k=this.getAllRule().find(b=>b.uuid===h.uuid);k&&(h.data=k.data);}return d.forEach(m=>{let k=Reflect.get(m,"__formConfig__"),b=Reflect.get(k,"attributes"),R=Reflect.get(m,U),v=Reflect.get(b,pe);if(v==null)return;let N=Reflect.get(b,me),A=R.get(v,N);Reflect.has(h,v)?Reflect.set(h,v,A):Reflect.has(h.data,v)?Reflect.set(h.data,v,A):g.error(`${v}‰∏çÂú®Êï∞ÊçÆ‰∏≠`);}),h.name==null||h.name.trim()===""?(f.error("ËßÑÂàôÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:h}):h.url.trim()===""?(f.error("ÂåπÈÖçÁΩëÂùÄ‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:h}):c?{success:this.updateRule(h),data:h}:{success:this.addRule(h),data:h}}},ruleDelete:{enable:true,deleteCallBack(l){return X.deleteSubscribeRule(o,l)}}}}),false}},ruleDelete:{enable:true,deleteCallBack:i=>X.deleteSubscribe(i)},import:{enable:true,callback(i){X.importSubscribe(()=>{i();});}},export:{enable:true,callback(){X.exportSubscribe(ve+"-ÁΩëÁ´ôËßÑÂàô-ËÆ¢ÈòÖ.json");}}},getSubscribeInfo:X.getSubscribeInfo.bind(X)},ruleOption:{btnControls:{add:{enable:true},filter:{enable:true,title:"ËøáÊª§ËßÑÂàô",option:[{name:"ËøáÊª§„ÄêÂ∑≤ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(i){return i.enable}},{name:"ËøáÊª§„ÄêÊú™ÂêØÁî®„ÄëÁöÑËßÑÂàô",filterCallBack(i){return !i.enable}},{name:"ËøáÊª§„ÄêÂú®ÂΩìÂâçÁΩëÂùÄÁîüÊïà„ÄëÁöÑËßÑÂàô",filterCallBack(i){let o=new RegExp(i.url,"ig");return !!window.location.href.match(o)}}]},clearAll:{enable:true,callback:()=>{a.deleteAllRule();}},import:{enable:true,callback:i=>{a.importRule(()=>{i();});}},export:{enable:true,callback:()=>{a.exportRule(ve+"-ÁΩëÁ´ôËßÑÂàô.json",ve+"-ÁΩëÁ´ôËßÑÂàô-ËÆ¢ÈòÖÊ®°Âºè.json");}},ruleEnable:{enable:true,getEnable(i){return i.enable},callback:(i,o)=>{i.enable=o,a.updateRule(i);}},ruleEdit:{enable:true,getView:(i,o)=>{a.$data.isShowEditView=true,o||(i=t());function l(N){return {get(A,D){let x=a.getRule(N)??t(),S=ne.getValue(A,D);return (x&&Reflect.get(x.data,A))??S},set(A,D){let x=a.getRule(N)??t();Reflect.set(x.data,A,D),a.updateRule(x);}}}let c=document.createDocumentFragment();o||(i=t());let u=j("ÂêØÁî®","enable",true);Reflect.set(u.props,U,n(i));let d=e.createSectionContainerItem_switch(u),h=Q("ËßÑÂàôÂêçÁß∞","name","","",void 0,"ÂøÖÂ°´");Reflect.set(h.props,U,n(i));let m=e.createSectionContainerItem_input(h),k=Q("ÂåπÈÖçÁΩëÂùÄ","url","","",void 0,"ÂøÖÂ°´ÔºåÂèØÊ≠£Âàô");Reflect.set(k.props,U,n(i));let b=e.createSectionContainerItem_input(k),R=tt("Ë¶ÜÁõñËÆæÁΩÆ","","Ëá™ÂÆö‰πâ",void 0,false,false,"primary",N=>{p.preventEvent(N);let A=[...$e.getConfig(0),...qe.getRulePanelContent()],D=ft(A);function x(S){S.forEach(_=>{if(typeof(_==null?void 0:_.props)=="object"&&Reflect.has(_.props,U)){let I=l(i.uuid);Reflect.set(_.props,U,I);}let M=_.forms;M&&Array.isArray(M)&&x(M);});}for(let S=0;S<D.length;S++){let _=D[S];if(!_.forms)continue;if(typeof _.afterRender=="function"&&(_!=null&&_.id.toString().startsWith("netdisk-panel-config-"))&&(_.afterRender=I=>{let V=I.asideConfig.attributes["data-key"],$=B.function.enable(V);I.$asideLiElement.setAttribute("data-function-enable",o?ke.getRuleDataValue(i.uuid,$,true):i.data[$]??true);}),typeof _.attributes=="object"&&_.forms!=null&&pe in _.attributes){let I=_.attributes[pe],V=j("ÂêØÁî®",Ve.features.customAccessCodeEnable(I),false,void 0,"ÂêØÁî®ÂêéÂ∞ÜÂÖÅËÆ∏ÊâßË°å‰∏ãÈù¢ÁöÑÂäüËÉΩ",void 0);Reflect.set(V.props,U,l(i.uuid));let $=Q("Ëá™ÂÆö‰πâËÆøÈóÆÁ†Å",Ve.features.customAccessCode(I),"","ËÆ©Ëé∑ÂèñÁöÑÂà∞ÁöÑÈìæÊé•ÁöÑËÆøÈóÆÁ†ÅÈÉΩ‰∏∫Ëá™ÂÆö‰πâÁöÑËÆøÈóÆÁ†Å",void 0,"ËØ∑ËæìÂÖ•Ëá™ÂÆö‰πâËÆøÈóÆÁ†Å",false,false);Reflect.set($.props,U,l(i.uuid));let z={text:"È¢ùÂ§ñÂäüËÉΩ",type:"forms",forms:[V,$]};_.forms.length?_.forms.splice(1,0,z):_.forms.push(z);}let M=_.forms;M&&Array.isArray(M)&&x(M);}q.panel({title:{text:"Ë¶ÜÁõñËÆæÁΩÆ",position:"center"},content:D,btn:{close:{enable:true,callback(S){S.close();}}},mask:{clickCallBack(S){S();}},only:false,class:"whitesevPopSetting",style:`
											${ht}
											
											${_t}
	
	
											/* ÈöêËóèÈ°∂ÈÉ®ÁöÑÂõæÊ†á */
											.netdisk-custom-rule-edit,
											.netdisk-custom-rule-delete,
											/* ÈöêËóèÂø´Êç∑ÈîÆËÆæÁΩÆËèúÂçïÔºåÂõ†‰∏∫Ëøô‰∏™ÊòØÂÖ®Â±ÄÂîØ‰∏ÄÁöÑ */
											.netdisk-panel-forms-shortcut-keys-deepMenu{
												display: none !important;
											}
											`},C.popsStyle.settingView);},void 0),v=e.createSectionContainerItem_button(R);return c.appendChild(d),c.appendChild(m),c.appendChild(b),c.appendChild(v),c},onsubmit:(i,o,l)=>{let c=i.querySelectorAll(".rule-form-ulist > li"),u=t();if(o){u.uuid=l.uuid;let h=this.getAllRule().find(m=>m.uuid===u.uuid);h&&(u.data=h.data);}return c.forEach(d=>{let h=Reflect.get(d,"__formConfig__"),m=Reflect.get(h,"attributes"),k=Reflect.get(d,U),b=Reflect.get(m,pe);if(b==null)return;let R=Reflect.get(m,me),v=k.get(b,R);Reflect.has(u,b)?Reflect.set(u,b,v):Reflect.has(u.data,b)?Reflect.set(u.data,b,v):g.error(`${b}‰∏çÂú®Êï∞ÊçÆ‰∏≠`);}),u.name==null||u.name.trim()===""?(f.error("ËßÑÂàôÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:u}):u.url.trim()===""?(f.error("ÂåπÈÖçÁΩëÂùÄ‰∏çËÉΩ‰∏∫Á©∫"),{success:false,data:u}):o?{success:this.updateRule(u),data:u}:{success:this.addRule(u),data:u}}},ruleDelete:{enable:true,deleteCallBack:i=>a.deleteRule(i.uuid)}},data:()=>this.getAllRule(),getAddData:()=>t(),getData:i=>this.getAllRule().find(c=>c.uuid===i.uuid)??i,getDataItemName:i=>i.name??i.url,updateData:i=>this.updateRule(i),deleteData:i=>(a.$data.isShowEditView=false,this.deleteRule(i.uuid))}}},addRule(r){let a=this.getAllRule();return a.push(r),Se.set(this.$data.STORAGE_KEY,a),true},getRule(r){let a=this.getAllRule().find(t=>t.uuid===r);return a||X.getAllSubscribeRule().find(t=>t.uuid===r)},getRuleData(r){return typeof r=="string"?this.getRule(r).data:r.data},getRuleDataValue(r,a,e){let t=this.getRuleData(r);return (t&&Reflect.get(t,a))??e},updateRule(r){let a=this.getAllRule(),e=false;for(let t=0;t<a.length;t++)if(a[t].uuid===r.uuid){a[t]=r,e=true;break}return e?Se.set(this.$data.STORAGE_KEY,a):X.getAllSubscribeRule().find(n=>n.uuid===r.uuid)&&(e=X.updateSubscribeRule(r.subscribeUUID,r)),e},deleteRule(r){let a=this.getAllRule(),e=false,t=typeof r=="string"?r:r.uuid;for(let n=0;n<a.length;n++)if(a[n].uuid===t){a.splice(n,1),e=true;break}if(e)Se.set(this.$data.STORAGE_KEY,a);else {let n=X.getAllSubscribeRule().find(s=>s.uuid===t);n&&(e=X.deleteSubscribeRule(n.subscribeUUID,n));}return e},deleteAllRule(){Se.delete(this.$data.STORAGE_KEY);},getAllRule(){return Se.get(this.$data.STORAGE_KEY,[])},getUrlMatchedRule(r=true,a=window.location.href){let e=this.getAllRule(),t=X.getAllSubscribeRule(true);return e=e.concat(t),e.filter(s=>{if(r&&!s.enable)return  false;let i=new RegExp(s.url,"ig");return !!a.match(i)})},exportRule(r="rule.json",a="rule-subscribe.json"){let e=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂá∫ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="only-export-rule-list">ÂØºÂá∫ËßÑÂàô</div>
                    <div class="btn-control" data-mode="export-to-subscribe">ÂØºÂá∫ËÆ¢ÈòÖËßÑÂàô</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(i,o){i.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),t=e.$shadowRoot.querySelector(".btn-control[data-mode='only-export-rule-list']"),n=e.$shadowRoot.querySelector(".btn-control[data-mode='export-to-subscribe']"),s=(i,o)=>{let l=new Blob([JSON.stringify(o,null,4)]),c=window.URL.createObjectURL(l),u=document.createElement("a");u.href=c,u.download=i,u.click(),setTimeout(()=>{window.URL.revokeObjectURL(c);},1500);};w.on(t,"click",i=>{p.preventEvent(i);try{let o=this.getAllRule();if(o.length===0){f.warning("ËßÑÂàô‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}s(r,o),e.close();}catch(o){f.error(o.toString(),{consoleLogContent:true});}}),w.on(n,"click",i=>{p.preventEvent(i);const o=this;e.close();try{if(this.getAllRule().length===0){f.warning("ËßÑÂàô‰∏∫Á©∫ÔºåÊó†ÈúÄÂØºÂá∫");return}let c=H.config.panelHandleContentUtils(),u=function(x){return {get(S,_){return x[S]??_},set(S,_){x[S]=_,Se.set(o.$data.EXPORT_CONFIG_KEY,x);}}},d=()=>{let x=Se.get(this.$data.EXPORT_CONFIG_KEY,{});if((x==null?void 0:x.title)===""||x.title==null){f.error("ËÆ¢ÈòÖÊ†áÈ¢ò‰∏çËÉΩ‰∏∫Á©∫");return}if(x.version==null){f.error("ÁâàÊú¨Âè∑‰∏çËÉΩ‰∏∫Á©∫");return}else x.version=Number(x.version);x.homePage==null&&(x.homePage=void 0),x.lastModified=Date.now(),x.ruleData=this.getAllRule(),s(a,x),h.close();},h=q.alert({title:{text:"ËØ∑Â°´ÂÜôÂØºÂá∫ÈÖçÁΩÆ",position:"center"},content:{text:`
							
						`,html:!0},btn:{ok:{enable:!0,text:"ÂØºÂá∫",callback(x,S){d();}},close:{enable:!0,callback(x,S){x.close();}}},mask:{enable:!0},drag:!0,width:Z.info.width,height:Z.info.height,style:`
						${H.config.cssText.panelCSS}

						.pops-alert-content li{
							list-style-type: none;
							display: flex;
							align-items: center;
							justify-content: space-between;
							margin: 10px;
						}
					`}),m=h.$shadowRoot.querySelector(".pops-alert-content"),k=Se.get(this.$data.EXPORT_CONFIG_KEY,{}),b=Q("ËÆ¢ÈòÖÊ†áÈ¢ò","title","","",void 0,"");Reflect.set(b.props,U,u(k));let R=c.createSectionContainerItem_input(b),v=Q("ÁâàÊú¨Âè∑","version","","",void 0,"",!1);Reflect.set(v.props,U,u(k));let N=c.createSectionContainerItem_input(v),A=Q("‰∏ªÈ°µÂú∞ÂùÄ","homePage","","",void 0,"ÈÄâÂ°´");Reflect.set(A.props,U,u(k));let D=c.createSectionContainerItem_input(A);w.append(m,R),w.append(m,N),w.append(m,D);}catch(l){f.error(l.toString(),{consoleLogContent:true});}});},importRule(r){let a=q.alert({title:{text:"ËØ∑ÈÄâÊã©ÂØºÂÖ•ÊñπÂºè",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="local">Êú¨Âú∞ÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="network">ÁΩëÁªúÂØºÂÖ•</div>
                    <div class="btn-control" data-mode="clipboard">Ââ™Ë¥¥ÊùøÂØºÂÖ•</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(o,l){o.close();}}},mask:{enable:true},drag:true,width:Z.info.width,height:Z.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
				.btn-control:hover{
					color: #409eff;
					border-color: #c6e2ff;
					background-color: #ecf5ff;
				}
            `}),e=a.$shadowRoot.querySelector(".btn-control[data-mode='local']"),t=a.$shadowRoot.querySelector(".btn-control[data-mode='network']"),n=a.$shadowRoot.querySelector(".btn-control[data-mode='clipboard']"),s=o=>{let l=this.getAllRule(),c=[];for(let u=0;u<o.length;u++){const d=o[u];l.findIndex(m=>m.uuid===d.uuid)!==-1||c.push(d);}l=l.concat(c),Se.set(this.$data.STORAGE_KEY,l),f.success(`ÂÖ± ${o.length} Êù°ËßÑÂàôÔºåÊñ∞Â¢û ${c.length} Êù°`),r==null||r();},i=o=>new Promise(l=>{let c=p.toJSON(o);if(!Array.isArray(c)){g.error(c),f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåÊ†ºÂºè‰∏çÁ¨¶ÂêàÔºà‰∏çÊòØÊï∞ÁªÑÔºâ",{consoleLogContent:true}),l(false);return}if(!c.length){f.error("ÂØºÂÖ•Â§±Ë¥•ÔºåËß£ÊûêÂá∫ÁöÑÊï∞ÊçÆ‰∏∫Á©∫",{consoleLogContent:true}),l(false);return}s(c),l(true);});w.on(e,"click",o=>{p.preventEvent(o),a.close();let l=w.createElement("input",{type:"file",accept:".json"});w.on(l,["propertychange","input"],c=>{var h;if(!((h=l.files)!=null&&h.length))return;let u=l.files[0],d=new FileReader;d.onload=()=>{i(d.result);},d.readAsText(u,"UTF-8");}),l.click();}),w.on(t,"click",o=>{p.preventEvent(o),a.close();let l=q.prompt({title:{text:"ÁΩëÁªúÂØºÂÖ•",position:"center"},content:{text:"",placeholder:"ËØ∑Â°´ÂÜôURL",focus:true},btn:{close:{enable:true,callback(d,h){d.close();}},ok:{text:"ÂØºÂÖ•",callback:async(d,h)=>{let m=d.text;if(p.isNull(m)){f.error("ËØ∑Â°´ÂÖ•ÂÆåÊï¥ÁöÑurl");return}let k=f.loading("Ê≠£Âú®Ëé∑ÂèñÈÖçÁΩÆ..."),b=await E.get(m,{allowInterceptConfig:false});if(k.close(),!b.status){g.error(b),f.error("Ëé∑ÂèñÈÖçÁΩÆÂ§±Ë¥•",{consoleLogContent:true});return}await i(b.data.responseText)&&d.close();}},cancel:{enable:false}},mask:{enable:true},drag:true,width:Z.info.width,height:"auto"}),c=l.$shadowRoot.querySelector("input"),u=l.$shadowRoot.querySelector(".pops-prompt-btn-ok");w.on(c,["input","propertychange"],d=>{w.val(c)===""?w.attr(u,"disabled","true"):w.removeAttr(u,"disabled");}),w.listenKeyboard(c,"keydown",(d,h,m)=>{d==="Enter"&&m.length===0&&w.val(c)!==""&&p.dispatchEvent(u,"click");}),p.dispatchEvent(c,"input");}),w.on(n,"click",async o=>{p.preventEvent(o),a.close();let l=await p.getClipboardInfo();if(l.error!=null){f.error(l.error.toString());return}if(l.content.trim()===""){f.warning("Ëé∑ÂèñÂà∞ÁöÑÂâ™Ë¥¥ÊùøÂÜÖÂÆπ‰∏∫Á©∫");return}await i(l.content);});}},vr=(r,a,e)=>{if(ke.$data.isShowEditView)return a;let n=ke.getUrlMatchedRule().find(s=>{let i=ke.getRuleData(s);return Reflect.has(i,r)});return n?Reflect.get(ke.getRuleData(n),r):a},Ar=function(r,a,e){return {KEY:r,default:a,get value(){let t=le(r,a);return typeof e=="function"?e(r,t,a):t},set value(t){fe(r,t);}}},F=function(r,a){return Ar(r,a,vr)},y={toast:{position:F("qmsg-config-position","top"),maxnums:F("qmsg-config-maxnums",3),showreverse:F("qmsg-config-showreverse",true)},pops:{popsAnimation:F("popsAnimation","pops-anim-fadein-zoom"),clickMaskToCloseDialog:F("clickMaskToCloseDialog",true),pcDrag:F("pcDrag",true),pcDragLimit:F("pcDragLimit",true),popsAcrylic:F("popsAcrylic",false)},popsFolder:{"pops-folder-sort-name":F("pops-folder-sort-name","fileName"),"pops-folder-sort-is-desc":F("pops-folder-sort-is-desc",false)},smallIconNavgiator:{"pops-netdisk-icon-click-event-find-sharecode":F("pops-netdisk-icon-click-event-find-sharecode",true),"pops-netdisk-icon-click-event-find-sharecode-with-select":F("pops-netdisk-icon-click-event-find-sharecode-with-select",true),"pops-netdisk-icon-click-event-loop-find-sharecode":F("pops-netdisk-icon-click-event-loop-find-sharecode",true)},suspension:{size:F("size",50),opacity:F("opacity",1),"randbg-time":F("randbg-time",1500),"randbg-show-time":F("randbg-show-time",1200),"suspended-button-adsorption-edge":F("suspended-button-adsorption-edge",false),"suspended-z-index":F("suspended-z-index",-1)},smallWindow:{"netdisk-ui-small-window-width":F("netdisk-ui-small-window-width",250),"netdisk-ui-small-window-max-height":F("netdisk-ui-small-window-max-height",200),"netdisk-link-view-z-index":F("netdisk-link-view-z-index",-1)},historyMatch:{saveMatchNetDisk:F("saveMatchNetDisk",false),"netdisk-history-match-ordering-rule":F("netdisk-history-match-ordering-rule","Êåâ Êõ¥Êñ∞Êó∂Èó¥ - ÈôçÂ∫è"),"netdisk-history-match-merge-same-link":F("netdisk-history-match-merge-same-link",true)},match:{pageMatchRange:F("pageMatchRange",["innerText","innerHTML"]),depthQueryWithShadowRoot:F("depthQueryWithShadowRoot",false),readClipboard:F("readClipboard",false),allowMatchLocationHref:F("allowMatchLocationHref",true),toBeMatchedWithInputElementValue:F("to-be-matched-inputElementValue",false),toBeMatchedTextAreaElementValue:F("to-be-matched-textAreaElementValue",false),toBeMatchedXhrHookResponseText:F("to-be-matched-xhrHookResponseText",false),delaytime:F("delaytime",.8),isAddedNodesToMatch:F("isAddedNodesToMatch",false),"mutationObserver-childList":F("mutationObserver-childList",true),"mutationObserver-characterData":F("mutationObserver-characterData",true),"mutationObserver-subtree":F("mutationObserver-subtree",true)},features:{"netdisk-match-mode":F("netdisk-match-mode","MutationObserver"),"netdisk-behavior-mode":F("netdisk-behavior-mode","suspension_smallwindow"),autoFillAccessCode:F("autoFillAccessCode",true)},shareCode:{excludeIdenticalSharedCodesCoefficient:F("excludeIdenticalSharedCodesCoefficient",1),excludeIdenticalSharedCodes:F("excludeIdenticalSharedCodes",false)},accessCode:{allowQueryHistoryMatchingAccessCode:F("allowQueryHistoryMatchingAccessCode",true)}},L={$data:{isMatchedLink:false,clipboardText:""},$match:{matchedInfo:new Ce.Dictionary,blackMatchedInfo:new Ce.Dictionary,tempMatchedInfo:new Ce.Dictionary,matchedInfoRuleKey:new Set},$rule:{ruleOption:{},ruleSetting:{},rule:[]},$extraRule:{shareCodeNotMatchRegExpList:[/vipstyle|notexist|ajax|file|download|ptqrshow|xy-privacy/g,/comp|web|undefined|1125|unproved|console|account|favicon|setc/g],accessCodeNotMatchRegExpList:[/^(font|http)/gi],noAccessCodeRegExp:[/( |ÊèêÂèñÁ†Å:|\nÂØÜÁ†ÅÔºö)/gi,/{#accessCode#}/gi,/{#encodeURI-accessCode#}|{#encodeURIComponent-accessCode#}/gi,/{#decodeURI-accessCode#}|{#decodeURIComponent-accessCode#}/gi,/(\?pwd=|&pwd=|\?password=|\?p=)/gi]},init(){this.initLinkDict();},initLinkDict(){Object.keys(this.$rule.ruleOption).forEach(e=>{this.$match.matchedInfo.set(e,new p.Dictionary),this.$match.blackMatchedInfo.set(e,new p.Dictionary),this.$match.tempMatchedInfo.set(e,new p.Dictionary);});let r=ke.getUrlMatchedRule();r.length&&(g.info("ÊàêÂäüÂëΩ‰∏≠ÁΩëÁ´ôËßÑÂàô ==> ",r),Pe.add({key:"matchedUrlRuleList",text:`üåè ÂëΩ‰∏≠ÁΩëÁ´ôËßÑÂàô ${r.length} Êù°`,autoReload:false,isStoreValue:false,showText(e){return e},callback:()=>{g.info("ÂΩìÂâçÁΩëÂùÄÔºö"+self.location.href),ne.isTopWindow()&&alert(`‰ª•‰∏ãÊòØÂëΩ‰∏≠ÁöÑËßÑÂàôÂêçÔºö
`+r.map(e=>e.name).join(`
`));}}));let a=lt.getUrlMatchedRule();a.length&&(g.info("ÊàêÂäüÂëΩ‰∏≠Â≠óÁ¨¶ËßÑÂàô ==> ",a),Pe.add({key:"characterMapping",text:`üåè ÂëΩ‰∏≠Â≠óÁ¨¶ËßÑÂàô ${a.length} Êù°`,autoReload:false,isStoreValue:false,showText(e){return e},callback:()=>{g.info("ÂΩìÂâçÁΩëÂùÄÔºö"+self.location.href),ne.isTopWindow()&&alert(`‰ª•‰∏ãÊòØÂëΩ‰∏≠ÁöÑËßÑÂàôÂêçÔºö
`+a.map(e=>e.name).join(`
`));}}));},handleLink(r){let a=this.handleShareCode(r);if(p.isNull(a))return;let e=this.handleAccessCode(r);return e=this.handleAccessCodeByUserRule({...r,accessCode:e}),{shareCode:a,accessCode:e}},handleShareCode(r){var s,i,o,l,c,u,d,h,m,k,b,R,v,N,A,D,x,S,_,M,I,V;let a=((s=r==null?void 0:r.debugConfig)==null?void 0:s.config)??this.$rule.ruleOption[r.ruleKeyName][r.ruleIndex],e=(i=r.matchText.match(a.shareCode))==null?void 0:i.filter($=>p.isNotNull($));if((l=(o=r.debugConfig)==null?void 0:o.logCallBack)==null||l.call(o,{status:true,msg:["Ê≠£Âàô: shareCode","‰ΩúÁî®: Ëé∑ÂèñshareCode","ÁªìÊûú: ",JSON.stringify(e)]}),p.isNull(e)){g.error("ÂåπÈÖçshareCode‰∏∫Á©∫",{ÂåπÈÖçÁöÑÊñáÊú¨:r.matchText,ËßÑÂàô:a,Ê≠£Âú®‰ΩøÁî®ÁöÑËßÑÂàô:a.shareCode,ÁΩëÁõòÂêçÁß∞:r.ruleKeyName,ÁΩëÁõòÂêçÁß∞Á¥¢Âºï‰∏ãÊ†á:r.ruleIndex}),(u=(c=r.debugConfig)==null?void 0:c.logCallBack)==null||u.call(c,{status:false,msg:"ÂåπÈÖçshareCode‰∏∫Á©∫"});return}let t=e[0];if((h=(d=r.debugConfig)==null?void 0:d.logCallBack)==null||h.call(d,{status:true,msg:["ÂèñÁ¨¨‰∏Ä‰∏™ÂÄº: "+t]}),a.shareCodeNeedRemoveStr){let $=a.shareCodeNeedRemoveStr;Array.isArray($)||($=[$]);for(const z of $)t=t.replace(z,"");$.length&&((k=(m=r.debugConfig)==null?void 0:m.logCallBack)==null||k.call(m,{status:true,msg:["Ê≠£Âàô: shareCodeNeedRemoveStr","‰ΩúÁî®: Âà†Èô§ShareCodeÂâçÈù¢‰∏çÈúÄË¶ÅÁöÑÂ≠óÁ¨¶‰∏≤",`ÁªìÊûú: ${t}`]}));}for(const $ of L.$extraRule.shareCodeNotMatchRegExpList)if(t.match($)){g.error(`‰∏çÂèØËÉΩÁöÑshareCode => ${t}`),(R=(b=r.debugConfig)==null?void 0:b.logCallBack)==null||R.call(b,{status:false,msg:["Ê≠£Âàô: ÂÜÖÁΩÆÁöÑshareCodeNotMatchRegExpList","‰ΩúÁî®: ‰ΩøÁî®ËØ•Ê≠£ÂàôÂà§Êñ≠ÊèêÂèñÂà∞ÁöÑshareCodeÊòØÂê¶Ê≠£Á°Æ","ÁªìÊûú: true ËØ•shareCode‰∏çÊòØÊ≠£Á°ÆÁöÑ"]});return}let n=a.shareCodeNotMatch;if(n!=null){Array.isArray(n)||(n=[n]);for(const $ of n)if(t.match($)){g.error(`‰∏çÂèØËÉΩÁöÑshareCode => ${t}`),(N=(v=r.debugConfig)==null?void 0:v.logCallBack)==null||N.call(v,{status:false,msg:["Ê≠£Âàô: shareCodeNotMatch","‰ΩúÁî®: Áî®‰∫éÂà§Êñ≠ÊèêÂèñÂà∞ÁöÑshareCodeÊòØÂê¶ÊòØÈîôËØØÁöÑshareCode","ÁªìÊûú: true ËØ•shareCode‰∏çÊòØÊ≠£Á°ÆÁöÑ"]});return}}if(t=decodeURI(t),(D=(A=r.debugConfig)==null?void 0:A.logCallBack)==null||D.call(A,{status:true,msg:["ÂØπshareCodeËøõË°åËß£Á†Å: "+t]}),y.shareCode.excludeIdenticalSharedCodes.value&&p.isSameChars(t,y.shareCode.excludeIdenticalSharedCodesCoefficient.value)){(S=(x=r.debugConfig)==null?void 0:x.logCallBack)==null||S.call(x,{status:false,msg:["Â∑≤ÂºÄÂêØ„ÄêÊéíÈô§ÂàÜ‰∫´Á†Å„Äë‰∏îËØ•ÂàÜ‰∫´Á†ÅÂëΩ‰∏≠ËØ•ËßÑÂàô"]});return}if(t.endsWith("http")||t.endsWith("https")){(M=(_=r.debugConfig)==null?void 0:_.logCallBack)==null||M.call(_,{status:false,msg:["ËØ•ÂàÜ‰∫´Á†Å‰ª•http|httpsÁªìÂ∞æ"]});return}return (V=(I=r.debugConfig)==null?void 0:I.logCallBack)==null||V.call(I,{status:true,msg:"Â§ÑÁêÜÂÆåÊØïÁöÑshareCode: "+t}),t},handleAccessCode(r){var n,s,i,o,l,c,u,d,h,m,k,b,R,v,N,A,D,x,S,_;let a=((n=r.debugConfig)==null?void 0:n.config)??this.$rule.ruleOption[r.ruleKeyName][r.ruleIndex],e="";if(!a.checkAccessCode)return (i=(s=r.debugConfig)==null?void 0:s.logCallBack)==null||i.call(s,{status:true,msg:"Âõ†Êú™ÈÖçÁΩÆËßÑÂàôcheckAccessCodeÔºåÈªòËÆ§accessCodeÁöÑÂÄº‰∏∫Á©∫"}),"";let t=r.matchText.match(a.checkAccessCode);if((l=(o=r.debugConfig)==null?void 0:o.logCallBack)==null||l.call(o,{status:true,msg:["Ê≠£Âàô: checkAccessCode","‰ΩúÁî®: Áî®Êù•Âà§Êñ≠link_innerTextÊàñËÄÖlink_innerHTMLÂåπÈÖçÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÊòØÂê¶Â≠òÂú®ÂØÜÁ†Å","ÁªìÊûú: ",JSON.stringify(t)]}),t){let M=t[t.length-1];(u=(c=r.debugConfig)==null?void 0:c.logCallBack)==null||u.call(c,{status:true,msg:"ÂèñÊúÄÂêé‰∏Ä‰∏™ÂÄº: "+M});let I=(d=M.match(a.accessCode))==null?void 0:d.filter(V=>p.isNotNull(V));if((m=(h=r.debugConfig)==null?void 0:h.logCallBack)==null||m.call(h,{status:true,msg:["Ê≠£Âàô: accessCode","‰ΩúÁî®: Áî®Êù•ÊèêÂèñlink_innerTextÊàñËÄÖlink_innerHTMLÂåπÈÖçÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂØÜÁ†Å","ÁªìÊûú: ",JSON.stringify(I)]}),p.isNull(I))return (b=(k=r.debugConfig)==null?void 0:k.logCallBack)==null||b.call(k,{status:true,msg:"Âõ†‚ÜëÂåπÈÖçÂà∞ÁöÑÁªìÊûú‰∏∫Á©∫ÔºåÈªòËÆ§accessCodeÁöÑÂÄº‰∏∫Á©∫"}),"";I.length&&(e=I[0],(v=(R=r.debugConfig)==null?void 0:R.logCallBack)==null||v.call(R,{status:true,msg:"ÂèñÁ¨¨‰∏Ä‰∏™ÂÄº: "+e}));}if(p.isNotNull(e)){for(const I of L.$extraRule.accessCodeNotMatchRegExpList)if(e.match(I)){e="",(A=(N=r.debugConfig)==null?void 0:N.logCallBack)==null||A.call(N,{status:true,msg:["Ê≠£Âàô: ÂÜÖÁΩÆÁöÑaccessCodeNotMatchRegExpList","‰ΩúÁî®: ‰ΩøÁî®ËØ•Ê≠£ÂàôÂà§Êñ≠ÊèêÂèñÂà∞ÁöÑaccessCodeÊòØÂê¶Ê≠£Á°Æ","ÁªìÊûú: true ÈáçÁΩÆaccessCode‰∏∫Á©∫"]});break}let M=a.acceesCodeNotMatch;if(M){Array.isArray(M)||(M=[M]);for(const I of M)if(e.match(I)){e="",(x=(D=r.debugConfig)==null?void 0:D.logCallBack)==null||x.call(D,{status:true,msg:["Ê≠£Âàô: acceesCodeNotMatch","‰ΩúÁî®: Áî®‰∫éÂà§Êñ≠ÊèêÂèñÂà∞ÁöÑaccessCodeÊòØÂê¶ÊòØÈîôËØØÁöÑaccessCode","ÁªìÊûú: true ÈáçÁΩÆaccessCode‰∏∫Á©∫"]});break}}}return (_=(S=r.debugConfig)==null?void 0:S.logCallBack)==null||_.call(S,{status:true,msg:"Â§ÑÁêÜÂÆåÊØïÁöÑaccessCode: "+e}),e},handleAccessCodeByUserRule(r){let a=ke.getUrlMatchedRule(),e=r.accessCode;for(let t=0;t<a.length;t++){const n=a[t];let s=ke.getRuleData(n),i=Reflect.get(s,Ve.features.customAccessCode(r.ruleKeyName));if(Reflect.get(s,Ve.features.customAccessCodeEnable(r.ruleKeyName))&&typeof i=="string"){e=i,g.success(`‰ΩøÁî®Ëá™ÂÆö‰πâÁΩëÁ´ôËßÑÂàô‰∏≠ÁöÑÊèêÂèñÁ†Å ${r.ruleKeyName} ${e}`);break}}return e},handleLinkShow(r){var n,s,i,o,l,c,u,d,h,m,k,b;if(!((n=r.debugConfig)!=null&&n.config?true:this.checkHasRuleOption(r.ruleKeyName,r.ruleIndex))){g.error(`BUG: ${r.ruleKeyName}‰∏çÂ≠òÂú®ÔºåÂàÜÊûêÂèÇÊï∞`,r),(r.showToast??true)&&f.error(`ËßÑÂàôÔºö${r.ruleKeyName}‰∏çÂ≠òÂú®`);return}let e=((s=r.debugConfig)==null?void 0:s.config)??L.$rule.ruleOption[r.ruleKeyName][r.ruleIndex],t=se.replaceParam(e.uiLinkShow,{shareCode:r.shareCode});if((o=(i=r.debugConfig)==null?void 0:i.logCallBack)==null||o.call(i,{status:true,msg:["Ê≠£Âàô: uiLinkShow","‰ΩúÁî®: Áî®‰∫éÊòæÁ§∫Âú®ÂºπÁ™ó‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤","Â§áÊ≥®: ÂØπshareCodeËøõË°åÂèÇÊï∞ÊõøÊç¢",`ÁªìÊûú: ${t}`]}),typeof r.accessCode=="string"&&r.accessCode.trim()!=""?(t=se.replaceParam(t,{accessCode:r.accessCode}),(c=(l=r.debugConfig)==null?void 0:l.logCallBack)==null||c.call(l,{status:true,msg:["Ê≠£Âàô: uiLinkShow","‰ΩúÁî®: Áî®‰∫éÊòæÁ§∫Âú®ÂºπÁ™ó‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤","Â§áÊ≥®: ÂØπaccessCodeËøõË°åÂèÇÊï∞ÊõøÊç¢",`ÁªìÊûú: ${t}`]})):(t=pt.replaceText(t,L.$extraRule.noAccessCodeRegExp,""),(d=(u=r.debugConfig)==null?void 0:u.logCallBack)==null||d.call(u,{status:true,msg:["Ê≠£Âàô: ÂÜÖÁΩÆÁöÑnoAccessCodeRegExp","‰ΩúÁî®: Âõ†accessCode‰∏∫Á©∫Ôºå‰ΩøÁî®ËØ•Ê≠£ÂàôÂéªÈô§‰∏çÈúÄË¶ÅÁöÑÂ≠óÁ¨¶‰∏≤",`ÁªìÊûú: ${t}`]})),e.paramMatch){let R=L.$match.matchedInfo.get(r.ruleKeyName).get(r.shareCode);if(r.matchText=r.matchText??(R==null?void 0:R.matchText),p.isNotNull(r.matchText)){let v=r.matchText.match(e.paramMatch),N={};if(v)for(let A=0;A<v.length;A++)N[`$${A}`]=v[A];t=se.replaceParam(t,N),(m=(h=r.debugConfig)==null?void 0:h.logCallBack)==null||m.call(h,{status:true,msg:["Ê≠£Âàô: paramMatch","‰ΩúÁî®: Áî®‰∫éÂØπmatchTextËøõË°åÊèêÂèñÈúÄË¶ÅÁöÑÂÖ≥ÈîÆÂÜÖÂÆπÔºåÊõøÊç¢ÂÖ≥ÈîÆÂ≠óÔºö{#$1#}„ÄÅ{#$2#}...","ÂèÇÊï∞: "+JSON.stringify(N,void 0,4),`ÁªìÊûú: ${t}`]});}}return (b=(k=r.debugConfig)==null?void 0:k.logCallBack)==null||b.call(k,{status:true,msg:"Â§ÑÁêÜÂÆåÊØïÁöÑuiLink: "+t}),t},createLinkStorageInst(r,a=0,e=false,t){return {accessCode:r,ruleIndex:a,isForceAccessCode:e,matchText:t}},checkHasRuleOption(r,a){var t;let e=(t=L.$rule.ruleOption)==null?void 0:t[r];return !(!Array.isArray(e)||typeof a=="number"&&(a<0||e.length<=a))}};class Sr{constructor(a){G(this,"key","short-cut");G(this,"$data");G(this,"isWaitPress",false);G(this,"currentWaitEnterPressInstanceHandler",null);typeof a=="string"&&(this.key=a),this.$data={otherShortCutOptions:[]};}initConfig(a,e){this.hasOption(a)||this.setOption(a,e);}getStorageKey(){return this.key}getLocalAllOptions(){return le(this.key,[])}hasOption(a){return !!this.getLocalAllOptions().find(n=>n.key===a)}hasOptionValue(a){if(this.hasOption(a)){let e=this.getOption(a);return (e==null?void 0:e.value)!=null}else return  false}getOption(a,e){return this.getLocalAllOptions().find(s=>s.key===a)??e}setOption(a,e){let t=this.getLocalAllOptions(),n=t.findIndex(s=>s.key===a);n==-1?t.push({key:a,value:e}):Reflect.set(t[n],"value",e),fe(this.key,t);}emptyOption(a){let e=false,t=this.getLocalAllOptions(),n=t.findIndex(s=>s.key===a);return n!==-1&&(t[n].value=null,e=true),fe(this.key,t),e}deleteOption(a){let e=false,t=this.getLocalAllOptions(),n=t.findIndex(s=>s.key===a);return n!==-1&&(t.splice(n,1),e=true),fe(this.key,t),e}translateKeyboardValueToButtonText(a){let e="";return a.ohterCodeList.forEach(t=>{e+=p.stringTitleToUpperCase(t,true)+" + ";}),e+=p.stringTitleToUpperCase(a.keyName),e}getShowText(a,e){if(this.hasOption(a)){let t=this.getOption(a);return t.value==null?e:this.translateKeyboardValueToButtonText(t.value)}else return e}async enterShortcutKeys(a){const e=this;return new Promise(t=>{this.isWaitPress=true;let n=w.listenKeyboard(window,"keyup",(s,i,o)=>{const l={keyName:s,keyValue:i,ohterCodeList:o};let c={};try{const u=JSON.stringify(l),d=this.getLocalAllOptions();Array.isArray(this.$data.otherShortCutOptions)&&d.push(...this.$data.otherShortCutOptions);for(let h=0;h<d.length;h++){let m=d[h];if(m.key===a)continue;const k=JSON.stringify(m.value);let b=!1;if(m.value!=null&&u===k&&(b=!0),b){c={status:!1,key:m.key,option:l};return}}this.setOption(a,l),c={status:!0,key:a,option:l};}catch(u){console.log(u),c={status:false,key:a,option:l};}finally{e.isWaitPress=false,n.removeListen(),e.currentWaitEnterPressInstanceHandler=null,t(c);}});e.currentWaitEnterPressInstanceHandler=null,e.currentWaitEnterPressInstanceHandler=()=>{e.isWaitPress=false,n.removeListen();};})}cancelEnterShortcutKeys(){typeof this.currentWaitEnterPressInstanceHandler=="function"&&this.currentWaitEnterPressInstanceHandler();}initGlobalKeyboardListener(a,e){let t=this.getLocalAllOptions();if(!t.length){g.warn("Ê≤°ÊúâËÆæÁΩÆÂø´Êç∑ÈîÆ");return}const n=this;function s(l,c){w.listenKeyboard(l,"keydown",(u,d,h,m)=>{if(n.isWaitPress)return;e!=null&&e.isPrevent&&p.preventEvent(m),t=n.getLocalAllOptions();let k=t.findIndex(b=>{let R=b.value,v={keyName:u,keyValue:d,ohterCodeList:h};if(JSON.stringify(R)===JSON.stringify(v))return b});if(k!=-1){let b=t[k];b.key in c&&(g.info(["Ë∞ÉÁî®Âø´Êç∑ÈîÆ",b]),c[b.key].callback());}},{capture:!!(e!=null&&e.capture)});}let i={},o={};Object.keys(a).forEach(l=>{let c=a[l];(c.target==null||typeof c.target=="string"&&c.target==="")&&(c.target="window"),c.target==="window"?Reflect.set(i,l,c):Reflect.set(o,l,c);}),s(window,i),w.ready(()=>{Object.keys(o).forEach(async l=>{let c=o[l];if(typeof c.target=="string")p.waitNode(c.target,1e4).then(u=>{if(!u)return;let d={};Reflect.set(d,l,c),s(u,d);});else if(typeof c.target=="function"){let u=await c.target();if(u==null)return;let d={};Reflect.set(d,l,c),s(u,d);}else {let u={};Reflect.set(u,l,c),s(c.target,u);}});});}}const xe={shortCut:new Sr("GM_shortcut"),init(){this.shortCut.initGlobalKeyboardListener(this.getShortCutMap());},getShortCutMap(){return {"netdisk-keyboard-open-setting":{target:"window",callback:()=>{g.info("Âø´Êç∑ÈîÆ ==> „ÄêÊâìÂºÄ„Äë‚öô ËÆæÁΩÆ"),ot.show();}},"netdisk-keyboard-open-history-matching-records":{target:"window",callback:()=>{g.info("Âø´Êç∑ÈîÆ ==> „ÄêÊâìÂºÄ„Äë‚öô ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï"),C.netDiskHistoryMatch.show();}},"netdisk-keyboard-open-user-rule":{target:"window",callback:()=>{g.info("Âø´Êç∑ÈîÆ ==> „ÄêÊâìÂºÄ„Äë‚öô ÈìæÊé•ËØÜÂà´ËßÑÂàô"),Te.show(false);}},"netdisk-keyboard-open-proactively-recognize-text":{target:"window",callback:()=>{g.info("Âø´Êç∑ÈîÆ ==> „ÄêÊâìÂºÄ„Äë‚öô ‰∏ªÂä®ËØÜÂà´ÊñáÊú¨"),C.matchPasteText.show();}},"netdisk-keyboard-performPageTextMatchingManually":{target:"window",callback(){g.info("Âø´Êç∑ÈîÆ ==> ÊâßË°åÊñáÊú¨ÂåπÈÖç"),P.dispatchMonitorDOMChange=true;}},"netdisk-keyboard-character-mapping":{target:"window",callback(){g.info("Âø´Êç∑ÈîÆ ==> „ÄêÊâìÂºÄ„Äë‚öô Â≠óÁ¨¶Êò†Â∞ÑËßÑÂàô"),Ze.showView("Â≠óÁ¨¶Êò†Â∞Ñ");}},"netdisk-keyboard-identifyTheSelectedContent":{target:"window",callback(){g.info("Âø´Êç∑ÈîÆ ==> ËØÜÂà´ÈÄâ‰∏≠ÂÜÖÂÆπ");const{text:r,html:a}=He.getSelectContent();g.info("ÈÄâ‰∏≠ÁöÑÂÜÖÂÆπ‰ø°ÊÅØÔºö",[r,a]),P.postMessage({characterMapping:[],textList:[r,a],matchTextRange:y.match.pageMatchRange.value,matchedRuleOption:L.$rule.ruleOption,startTime:Date.now(),from:"ShortCut-Select-Content"});}}}}},_e=function(r,a,e,t,n,s="default",i){let o=n,l=()=>i.getShowText(e,o),c=tt(r,a,l,"keyboard",false,false,s,async u=>{var m;let h=(m=u.target.closest(".pops-panel-button"))==null?void 0:m.querySelector("span");if(i.isWaitPress){f.warning("ËØ∑ÂÖàÊâßË°åÂΩìÂâçÁöÑÂΩïÂÖ•Êìç‰Ωú");return}if(i.hasOptionValue(e))i.emptyOption(e),f.success("Ê∏ÖÁ©∫Âø´Êç∑ÈîÆ");else {let k=f.loading("ËØ∑Êåâ‰∏ãÂø´Êç∑ÈîÆ...",{showClose:true,onClose(){i.cancelEnterShortcutKeys();}}),{status:b,option:R,key:v}=await i.enterShortcutKeys(e);k.close(),b?(g.success(["ÊàêÂäüÂΩïÂÖ•Âø´Êç∑ÈîÆ",R]),f.success("ÊàêÂäüÂΩïÂÖ•")):f.error(`Âø´Êç∑ÈîÆ ${i.translateKeyboardValueToButtonText(R)} Â∑≤Ë¢´ ${v} Âç†Áî®`);}h.innerHTML=l();});return c.attributes={},Reflect.set(c.attributes,bt,()=>false),c},_r=function(r,a,e,t,n,s,i="ËØ∑Ëá≥Â∞ëÈÄâÊã©‰∏Ä‰∏™ÈÄâÈ°π",o){let l=[];typeof t=="function"?l=t():l=t;let c={text:r,type:"select-multiple",description:s,placeholder:i,attributes:{},props:{},getValue(){return this.props[U].get(a,e)},selectConfirmDialogDetails:o,callback(u){let d=this.props[U],h=[];u.forEach(m=>{h.push(m.value);}),g.info("Â§öÈÄâ-ÈÄâÊã©Ôºö",h),d.set(a,h);},data:l};return Reflect.set(c.attributes,pe,a),Reflect.set(c.attributes,me,e),ze.initComponentsStorageApi("select-multiple",c,{get(u,d){return ne.getValue(u,d)},set(u,d){ne.setValue(u,d);}}),c},Rr=()=>({id:"netdisk-panel-config-all-setting",title:"ËÆæÁΩÆ",headerTitle:"ÊÄªËÆæÁΩÆ",isDefault:true,forms:[{type:"forms",text:"",forms:[{type:"deepMenu",text:"Toast",forms:[{type:"forms",text:"",className:"netdisk-panel-forms-toast",forms:[Re("‰ΩçÁΩÆ",y.toast.position.KEY,y.toast.position.default,[{value:"topleft",text:"Â∑¶‰∏äËßí"},{value:"top",text:"È°∂ÈÉ®"},{value:"topright",text:"Âè≥‰∏äËßí"},{value:"left",text:"Â∑¶Ëæπ"},{value:"center",text:"‰∏≠Èó¥"},{value:"right",text:"Âè≥Ëæπ"},{value:"bottomleft",text:"Â∑¶‰∏ãËßí"},{value:"bottom",text:"Â∫ïÈÉ®"},{value:"bottomright",text:"Âè≥‰∏ãËßí"}],void 0,`ToastÊòæÁ§∫Âú®‰πùÂÆ´Ê†ºÁöÑ‰ΩçÁΩÆÔºåÈªòËÆ§: ${y.toast.position.default}`),Re("ÂêåÊó∂ÊúÄÂ§öÊòæÁ§∫ÁöÑÊï∞Èáè",y.toast.maxnums.KEY,y.toast.maxnums.default,[{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"}],void 0,`ÈªòËÆ§: ${y.toast.maxnums.default}`),j("ÈÄÜÂ∫èÂºπÂá∫",y.toast.showreverse.KEY,y.toast.showreverse.value,void 0,"ÈªòËÆ§ÊòØËá™‰∏äÂæÄ‰∏ãÊòæÁ§∫ToastÔºåÈÄÜÂ∫èÂàôÊòØËá™‰∏ãÂæÄ‰∏äÊòæÁ§∫Toast")]}]},{type:"deepMenu",text:"ÂºπÁ™ó",forms:[{className:"netdisk-panel-forms-pops",type:"forms",text:"",forms:[Re("Âä®Áîª",y.pops.popsAnimation.KEY,y.pops.popsAnimation.default,[{value:"",text:"Êó†"},{value:"pops-anim-spread",text:"spread"},{value:"pops-anim-shake",text:"shake"},{value:"pops-anim-rolling-left",text:"rolling-left"},{value:"pops-anim-rolling-right",text:"rolling-right"},{value:"pops-anim-slide-top",text:"slide-top"},{value:"pops-anim-slide-bottom",text:"slide-bottom"},{value:"pops-anim-slide-left",text:"slide-left"},{value:"pops-anim-slide-right",text:"slide-right"},{value:"pops-anim-fadein",text:"fadein"},{value:"pops-anim-fadein-zoom",text:"fadein-zoom"},{value:"pops-anim-fadein-alert",text:"fadein-alert"},{value:"pops-anim-don",text:"don"},{value:"pops-anim-roll",text:"roll"},{value:"pops-anim-sandra",text:"sandra"},{value:"pops-anim-gather",text:"gather"}],void 0,`ÊòæÁ§∫/ÂÖ≥Èó≠ÁöÑÂä®ÁîªÊïàÊûúÔºåÈªòËÆ§: ${y.pops.popsAnimation.default}`),j("ÁÇπÂáªÂºπÁ™óÈÅÆÁΩ©Â±ÇÂÖ≥Èó≠ÂºπÁ™ó",y.pops.clickMaskToCloseDialog.KEY,y.pops.clickMaskToCloseDialog.default,void 0,"ÁÇπÂáªÈÅÆÁΩ©Â±ÇËß¶ÂèëÂÖ≥Èó≠ÂºπÁ™ó‰∫ã‰ª∂"),j("Á™óÂè£ÊãñÊãΩ",y.pops.pcDrag.KEY,y.pops.pcDrag.default,void 0,"ÈïøÊåâÊ†áÈ¢òÊ†èÂèØÊãñÊãΩÁßªÂä®ÂºπÁ™ó"),j("ÈôêÂà∂ÊãñÊãΩË∑ùÁ¶ª",y.pops.pcDragLimit.KEY,y.pops.pcDragLimit.default,void 0,"Âè™ËÉΩÂú®ÊµèËßàÂô®ÁöÑÂèØËßÜÁ™óÂè£ÂÜÖÊãñÂä®"),j("‰∫öÂÖãÂäõÊïàÊûú",y.pops.popsAcrylic.KEY,y.pops.popsAcrylic.default,void 0,"")]}]},{type:"deepMenu",text:"Êñá‰ª∂ÂºπÁ™ó",forms:[{type:"forms",text:"",className:"netdisk-panel-forms-pops-folder",forms:[Re("ÊéíÂ∫èÂêç",y.popsFolder["pops-folder-sort-name"].KEY,y.popsFolder["pops-folder-sort-name"].default,[{value:"fileName",text:"Êñá‰ª∂Âêç"},{value:"latestTime",text:"‰øÆÊîπÊó∂Èó¥"},{value:"fileSize",text:"Â§ßÂ∞è"}],void 0,"ÂΩìÂâçÁöÑËßÑÂàô"),Re("ÊéíÂ∫èËßÑÂàô",y.popsFolder["pops-folder-sort-is-desc"].KEY,y.popsFolder["pops-folder-sort-is-desc"].default,[{value:false,text:"ÂçáÂ∫è"},{value:true,text:"ÈôçÂ∫è"}],void 0,"ÂΩìÂâçÁöÑËßÑÂàô")]}]},{type:"deepMenu",text:"ÊÇ¨ÊµÆÊåâÈíÆ",forms:[{type:"forms",text:"",forms:[we("Â§ßÂ∞è",y.suspension.size.KEY,y.suspension.size.default,15,250,(r,a)=>{y.suspension.size.value=parseInt(a.toString()),C.suspension.isShow&&(W.css(C.suspension.suspensionNode,{width:y.suspension.size.value,height:y.suspension.size.value}),C.suspension.setSuspensionPosition());},r=>`${r}px`,"ÊÇ¨ÊµÆÊåâÈíÆÁöÑÂ§ßÂ∞èÔºåÈªòËÆ§: "+y.suspension.size.default),we("ÈÄèÊòéÂ∫¶",y.suspension.opacity.KEY,y.suspension.opacity.default,.1,1,(r,a)=>{y.suspension.opacity.value=parseFloat(a.toString()),C.suspension.isShow&&W.css(C.suspension.suspensionNode,{opacity:y.suspension.opacity.value});},void 0,"ÂÄºË∂äÂ∞èË∂äÈÄèÊòéÔºåÈªòËÆ§: "+y.suspension.opacity.default,.1),we("ËÉåÊôØËΩÆÊí≠Êó∂Èó¥",y.suspension["randbg-time"].KEY,y.suspension["randbg-time"].default,0,1e4,void 0,r=>`${r}ms`,"Ê∑°ÂÖ•/Ê∑°Âá∫ÁöÑÊó∂Èó¥ÔºåÈªòËÆ§: "+y.suspension["randbg-time"].default+"ms",100),we("ËÉåÊôØÊòæÁ§∫Êó∂Èó¥",y.suspension["randbg-show-time"].KEY,y.suspension["randbg-show-time"].default,0,1e4,void 0,r=>`${r}ms`,"ÂõæÊ†áÊòæÁ§∫ÁöÑÊåÅÁª≠Êó∂Èó¥ÔºåÈªòËÆ§: 1200",100),j("Âê∏ÈôÑËæπÁºò",y.suspension["suspended-button-adsorption-edge"].KEY,y.suspension["suspended-button-adsorption-edge"].default,void 0,"ÁßªÂä®ÊÇ¨ÊµÆÊåâÈíÆÊùæÂºÄÂêéËá™Âä®Âê∏ÈôÑËæπÁºò"),Q("z-index",y.suspension["suspended-z-index"].KEY,y.suspension["suspended-z-index"].default,"ÂÄºÂ∞è‰∫éÁ≠â‰∫é0Âàô‰∏∫Âä®ÊÄÅËé∑Âèñz-index",(r,a,e)=>(y.suspension["suspended-z-index"].value=e,true),"",true)]}]},{type:"deepMenu",text:"Â§ß/Â∞èÈìæÊé•ÂºπÁ™ó",forms:[{type:"forms",text:"Â∞èÁ™ó",className:"netdisk-panel-forms-small-window",forms:[we("ÂÆΩÂ∫¶",y.smallWindow["netdisk-ui-small-window-width"].KEY,y.smallWindow["netdisk-ui-small-window-width"].default,50,W.width(window),void 0,r=>`${r}px`,"ËÆæÁΩÆÂ∞èÁ™óÂÆΩÂ∫¶(px)ÔºåÈªòËÆ§: 250",1),we("È´òÂ∫¶",y.smallWindow["netdisk-ui-small-window-max-height"].KEY,y.smallWindow["netdisk-ui-small-window-max-height"].default,50,W.height(window),void 0,r=>`${r}px`,"ËÆæÁΩÆÂ∞èÁ™óÊúÄÂ§ßÈ´òÂ∫¶(px)ÔºåÈªòËÆ§: "+y.smallWindow["netdisk-ui-small-window-max-height"].default,1)]},{type:"forms",text:"",forms:[Q("z-index",y.smallWindow["netdisk-link-view-z-index"].KEY,y.smallWindow["netdisk-link-view-z-index"].default,"ÂÄºÂ∞è‰∫éÁ≠â‰∫é0Âàô‰∏∫Âä®ÊÄÅËé∑Âèñz-index",(r,a,e)=>(y.smallWindow["netdisk-link-view-z-index"].value=e,true),"",true)]}]}]},{type:"forms",text:"",forms:[{type:"deepMenu",text:"ÂäüËÉΩ",forms:[{type:"forms",text:"",className:"netdisk-panel-forms-function",forms:[Re("ÂåπÈÖçÊ®°Âºè",y.features["netdisk-match-mode"].KEY,y.features["netdisk-match-mode"].default,[{text:"MutationObserver",value:"MutationObserver"},{text:"Menu",value:"Menu"}],void 0,"MutationObserverÊòØËá™Âä®ÁõëÂê¨Âπ∂ËØÜÂà´ÈìæÊé•<br>MenuÊòØÊâãÂä®ÁÇπÂáªÊ≤πÁå¥ËèúÂçïËøõË°åËØÜÂà´"),Re("Ë°å‰∏∫Ê®°Âºè",y.features["netdisk-behavior-mode"].KEY,y.features["netdisk-behavior-mode"].default,[{text:"ÊÇ¨ÊµÆÊåâÈíÆ+Â∞èÁ™ó",value:"suspension_smallwindow"},{text:"ÊÇ¨ÊµÆÊåâÈíÆ+Â§ßÁ™ó",value:"suspension_window"},{text:"Â∞èÁ™ó",value:"smallwindow"}],void 0,"ÂåπÈÖçÂà∞ÈìæÊé•Êó∂Ëß¶ÂèëÁöÑUIÊâßË°å"),j("Ëá™Âä®Â°´ÂÖÖËÆøÈóÆÁ†Å",y.features.autoFillAccessCode.KEY,y.features.autoFillAccessCode.default,void 0,"ÈÄöËøá‰∏ªÂä®ÁÇπÂáªÈìæÊé•Ë∑≥ËΩ¨Êó∂Ôºå‰ºöËá™Âä®ËæìÂÖ•ÁΩëÁõòËÆøÈóÆÁ†Å")]}]},{type:"deepMenu",text:"ÂåπÈÖçËÆæÁΩÆ",forms:[{type:"forms",text:"ÊñáÊú¨ÂåπÈÖçËåÉÂõ¥",forms:[_r("ÂåπÈÖçËßÑÂàôÁ±ªÂûã",y.match.pageMatchRange.KEY,y.match.pageMatchRange.default,[{value:"innerText",text:"ÊôÆÈÄöÊñáÊú¨"},{value:"innerHTML",text:"Ë∂ÖÊñáÊú¨"}],void 0,"ÊâßË°åÁöÑÊñáÊú¨ÂåπÈÖçËßÑÂàô",void 0,{height:"auto"}),j("Ê∑±ÂÖ•ShadowRootËé∑ÂèñÂåπÈÖçÊñáÊú¨",y.match.depthQueryWithShadowRoot.KEY,y.match.depthQueryWithShadowRoot.default,void 0,"ÈÅçÂéÜShadowRootÔºåËé∑ÂèñÂåπÈÖçÁöÑÂÜÖÂÆπ"),j("ÂåπÈÖçÂâ™Ë¥¥Êùø",y.match.readClipboard.KEY,y.match.readClipboard.default,void 0,"ApiÂÖºÂÆπÊÄßÊü•ÁúãÔºö<a href='https://caniuse.com/mdn-api_permissions_permission_clipboard-read' target='_blank'>ËØªÂèñÂâ™Ë¥¥ÊùøÊùÉÈôêÁî≥ËØ∑</a>„ÄÅ<a href='https://caniuse.com/mdn-api_clipboard_readtext' target='_blank'>Áõ¥Êé•ËØªÂèñÂâ™Ë¥¥Êùø</a>"),j("ÂåπÈÖçÂΩìÂâçURL",y.match.allowMatchLocationHref.KEY,y.match.allowMatchLocationHref.default,void 0,"ÊèêÂèñ<code>window.location.href</code>ËøõË°åÂåπÈÖç"),j("ÂåπÈÖçinputÊ†áÁ≠æÁöÑÂÜÖÂÆπ",y.match.toBeMatchedWithInputElementValue.KEY,y.match.toBeMatchedWithInputElementValue.default,void 0,"ÊèêÂèñÈ°µÈù¢‰∏≠ÁöÑ<code>&lt;input&gt;</code>ÁöÑÂÜÖÂÆπËøõË°åÂåπÈÖç"),j("ÂåπÈÖçtextareaÊ†áÁ≠æÁöÑÂÜÖÂÆπ",y.match.toBeMatchedTextAreaElementValue.KEY,y.match.toBeMatchedTextAreaElementValue.default,void 0,"ÊèêÂèñÈ°µÈù¢‰∏≠ÁöÑ<code>&lt;textarea&gt;</code>ÁöÑÂÜÖÂÆπËøõË°åÂåπÈÖç"),j("ÂåπÈÖçÁΩëÁªúËØ∑Ê±ÇÁöÑÂÜÖÂÆπ",y.match.toBeMatchedXhrHookResponseText.KEY,y.match.toBeMatchedXhrHookResponseText.default,void 0,"Âä´ÊåÅxhrËØ∑Ê±ÇÂπ∂ÂØπËØ∑Ê±ÇÁöÑÂÜÖÂÆπËøõË°åÂåπÈÖçÔºåÊ≥®ÊÑèÔºöËØ•ÂäüËÉΩÂèØËÉΩ‰ºöÂØºËá¥È°µÈù¢ÁöÑÈÉ®ÂàÜÂäüËÉΩÂºÇÂ∏∏ÔºåËØ∑Ë∞®ÊÖé‰ΩøÁî®")]},{type:"forms",text:"MutationObserverËßÇÂØüÂô®",forms:[we("ÂåπÈÖçÈó¥Èöî",y.match.delaytime.KEY,y.match.delaytime.default,0,5,void 0,r=>`${r}s`,"ÂåπÈÖçÊñáÊú¨ÂÆåÊØïÂêéÁöÑÂª∂ËøüxxxÁßíÂÖÅËÆ∏‰∏ã‰∏ÄÊ¨°ÂåπÈÖç",.1),j("Ê∑ªÂä†ÂÖÉÁ¥†Êó∂ËøõË°åÂåπÈÖç",y.match.isAddedNodesToMatch.KEY,y.match.isAddedNodesToMatch.default,void 0,"ÂΩìÁõëÂê¨Âà∞È°µÈù¢Ê∑ªÂä†ÂÖÉÁ¥†Êó∂ÊâçËøõË°åÂåπÈÖçÊñáÊú¨"),j("ËßÇÂØüÂô®ÔºöchildList",y.match["mutationObserver-childList"].KEY,y.match["mutationObserver-childList"].default,void 0,"Â≠êËäÇÁÇπÁöÑÂèòÂä®ÔºàÊñ∞Â¢û„ÄÅÂà†Èô§ÊàñËÄÖÊõ¥ÊîπÔºâ"),j("ËßÇÂØüÂô®ÔºöcharacterData",y.match["mutationObserver-characterData"].KEY,y.match["mutationObserver-characterData"].default,void 0,"ËäÇÁÇπÂÜÖÂÆπÊàñËäÇÁÇπÊñáÊú¨ÁöÑÂèòÂä®"),j("ËßÇÂØüÂô®Ôºösubtree",y.match["mutationObserver-subtree"].KEY,y.match["mutationObserver-subtree"].default,void 0,"ÊòØÂê¶Â∞ÜËßÇÂØüÂô®Â∫îÁî®‰∫éËØ•ËäÇÁÇπÁöÑÊâÄÊúâÂêé‰ª£ËäÇÁÇπ")]}]},{type:"deepMenu",text:"ÁΩëÁõòÂõæÊ†á",forms:[{type:"forms",text:"",forms:[j("ÁÇπÂáªÂÆö‰ΩçÂàÜ‰∫´Á†Å",y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode"].KEY,y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode"].default,void 0,"Ëá™Âä®ÊªöÂä®È°µÈù¢Ëá≥ÂåÖÂê´ÂàÜ‰∫´Á†ÅÁöÑÂÖÉÁ¥†"),j("ÈÄâ‰∏≠ÂàÜ‰∫´Á†Å",y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode-with-select"].KEY,y.smallIconNavgiator["pops-netdisk-icon-click-event-find-sharecode-with-select"].default,void 0,"‰ΩøÁî®ÂÖâÊ†áÈÄâ‰∏≠ÂàÜ‰∫´Á†Å/ÂÖÉÁ¥†"),j("Âæ™ÁéØÂÆö‰Ωç",y.smallIconNavgiator["pops-netdisk-icon-click-event-loop-find-sharecode"].KEY,y.smallIconNavgiator["pops-netdisk-icon-click-event-loop-find-sharecode"].default,void 0,"ÂÖ≥Èó≠ÂàôÊòØÊØè‰∏Ä‰∏™ÂÖÉÁ¥†Âè™ÂÆö‰Ωç‰∏ÄÊ¨°")]}]},{type:"deepMenu",text:"ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï",forms:[{type:"forms",text:"",className:"netdisk-panel-history-match",forms:[j("‰øùÂ≠òÂåπÈÖçËÆ∞ÂΩï",y.historyMatch.saveMatchNetDisk.KEY,y.historyMatch.saveMatchNetDisk.default,void 0,"Â∞ÜÂåπÈÖçÂà∞ÁöÑÈìæÊé•‰ø°ÊÅØËøõË°åÊú¨Âú∞Â≠òÂÇ®ÔºåÂèØÁÇπÂáª„ÄêÊ≤πÁå¥ËèúÂçï-‚öô ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï„ÄëËøõË°åÊü•Áúã"),j("ÂêàÂπ∂Áõ∏ÂêåÈìæÊé•",y.historyMatch["netdisk-history-match-merge-same-link"].KEY,y.historyMatch["netdisk-history-match-merge-same-link"].default,void 0,"Â∞ÜÂêàÂπ∂ÂåπÈÖçÂà∞ÁöÑÁõ∏ÂêåÈìæÊé•ÔºåÂπ∂Êõ¥Êñ∞ÂÆÉÊúÄÂêé‰∏ÄÊ¨°ÂåπÈÖçÂà∞ÁöÑÊõ¥Êñ∞Êó∂Èó¥„ÄÅÁΩëÂùÄ‰ø°ÊÅØ"),Re("ÊéíÂ∫èËßÑÂàô",y.historyMatch["netdisk-history-match-ordering-rule"].KEY,y.historyMatch["netdisk-history-match-ordering-rule"].default,[{value:"Êåâ ËÆ∞ÂΩïÊó∂Èó¥ - ÂçáÂ∫è",text:"Êåâ ËÆ∞ÂΩïÊó∂Èó¥ - ÂçáÂ∫è"},{value:"Êåâ ËÆ∞ÂΩïÊó∂Èó¥ - ÈôçÂ∫è",text:"Êåâ ËÆ∞ÂΩïÊó∂Èó¥ - ÈôçÂ∫è"},{value:"Êåâ Êõ¥Êñ∞Êó∂Èó¥ - ÂçáÂ∫è",text:"Êåâ Êõ¥Êñ∞Êó∂Èó¥ - ÂçáÂ∫è"},{value:"Êåâ Êõ¥Êñ∞Êó∂Èó¥ - ÈôçÂ∫è",text:"Êåâ Êõ¥Êñ∞Êó∂Èó¥ - ÈôçÂ∫è"}]),tt("‰øÆÂ§çÂ≠òÂÇ®ËÆ∞ÂΩï","Â¶ÇÊûú„ÄêÂåπÈÖçËÆ∞ÂΩï„ÄëÂºπÁ™óÊâì‰∏çÂºÄÔºåÂèØËÉΩÊòØÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÁº∫Â§±Êüê‰∫õÂ≠óÊÆµÔºåÂèØÂ∞ùËØïÁÇπÂáªÊ≠§Â§ÑËøõË°å‰øÆÂ§ç","‰øÆÂ§ç",void 0,void 0,false,"primary",r=>{p.preventEvent(r);try{const{count:a,repairCount:e}=C.netDiskHistoryMatch.checkAndRepairLocalData();e===0?f.info("‰∏çÂ≠òÂú®ÈúÄË¶Å‰øÆÂ§çÁöÑÊï∞ÊçÆ"):f.success(`ÂÖ±ËÆ°: ${a} Êù°Ôºå‰øÆÂ§ç${e}Êù°`);}catch(a){f.error("‰øÆÂ§çÂºÇÂ∏∏Ôºö"+a.toString());}})]}]},{type:"deepMenu",text:"ÂàÜ‰∫´Á†Å",forms:[{type:"forms",text:"",className:"netdisk-panel-forms-share-code",forms:[j("ÊéíÈô§ÂàÜ‰∫´Á†Å",y.shareCode.excludeIdenticalSharedCodes.KEY,y.shareCode.excludeIdenticalSharedCodes.default,void 0,"ÂêØÁî®Âêé‰ºöÊ†πÊçÆ„ÄêÁõ∏ÂêåÁ≥ªÊï∞„ÄëÊéíÈô§ÊéâÂåπÈÖçÂà∞ÁöÑÂàÜ‰∫´Á†Å"),we("Áõ∏ÂêåÁ≥ªÊï∞",y.shareCode.excludeIdenticalSharedCodesCoefficient.KEY,y.shareCode.excludeIdenticalSharedCodesCoefficient.default,0,1,void 0,r=>r.toString(),"‰æãÂ¶ÇÂàÜ‰∫´Á†Å: aaaaaaaabbÔºåÂÆÉÁöÑÁõ∏ÂêåÁ≥ªÊï∞ÊòØ0.8ÔºåËÆæÁΩÆÁõ∏ÂêåÁ≥ªÊï∞‚â•0.8Êó∂‰ºöË¢´ÊéíÈô§",.01)]}]},{type:"deepMenu",text:"ËÆøÈóÆÁ†Å",forms:[{className:"netdisk-panel-forms-access-code",text:"",type:"forms",forms:[j("ÂÖÅËÆ∏Êü•ËØ¢ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï",y.accessCode.allowQueryHistoryMatchingAccessCode.KEY,y.accessCode.allowQueryHistoryMatchingAccessCode.default,void 0,"ÂΩìËÆøÈóÆÁ†Å‰∏∫Á©∫Êó∂ÔºåËÆøÈóÆÁ†ÅÂ∞Ü‰ªéÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï‰∏≠Êü•ËØ¢Ôºå‰ºòÂÖàÁ∫ßÔºöÈ°µÈù¢ÂåπÈÖç < ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï < ÁΩëÁ´ôËßÑÂàô < ÈªëÂêçÂçï")]}]},{type:"deepMenu",className:"netdisk-panel-forms-shortcut-keys-deepMenu",text:"Âø´Êç∑ÈîÆ",forms:[{className:"netdisk-panel-forms-shortcut-keys",text:"",type:"forms",forms:[_e("„ÄêÊâìÂºÄ„Äë‚öô ËÆæÁΩÆ","","netdisk-keyboard-open-setting",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("„ÄêÊâìÂºÄ„Äë‚öô ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï","","netdisk-keyboard-open-history-matching-records",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("„ÄêÊâìÂºÄ„Äë‚öô ËÆøÈóÆÁ†ÅËßÑÂàô","","netdisk-keyboard-open-accesscode-rule",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("„ÄêÊâìÂºÄ„Äë‚öô Ê∑ªÂä†ÈìæÊé•ËØÜÂà´ËßÑÂàô","","netdisk-keyboard-open-user-rule",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("„ÄêÊâìÂºÄ„Äë‚öô ÁΩëÁ´ôËßÑÂàô","","netdisk-keyboard-website-rule",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("„ÄêÊâìÂºÄ„Äë‚öô Â≠óÁ¨¶Êò†Â∞ÑËßÑÂàô","","netdisk-keyboard-character-mapping",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("„ÄêÊâìÂºÄ„Äë‚öô ËØÜÂà´ÊñáÊú¨","","netdisk-keyboard-open-proactively-recognize-text",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("ÊâßË°åÊñáÊú¨ÂåπÈÖç","","netdisk-keyboard-performPageTextMatchingManually",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut),_e("ËØÜÂà´ÈÄâ‰∏≠ÂÜÖÂÆπ","","netdisk-keyboard-identifyTheSelectedContent",void 0,"ÊöÇÊó†Âø´Êç∑ÈîÆ","default",xe.shortCut)]}]}]}]});try{let r=RESOURCE_ICON??{};Object.assign(C.src.icon,r);}catch(r){console.error("init NetDisk icon error",r);}["input","select-multiple","select","slider","switch","textarea"].forEach(r=>{ze.setStorageApi(r,{get(a,e){return le(a,e)},set(a,e){fe(a,e);}});});ke.init();ue.init();qe.init();$e.addContentConfig([Rr()]);$e.addContentConfig(qe.getRulePanelContent());let Ut=it.getMenuOption(0);Ut.callback=()=>{ot.show();};it.updateMenuOption(Ut);it.addMenuOption([{key:"showNetDiskHistoryMatch",text:"‚öô ÂéÜÂè≤ÂåπÈÖçËÆ∞ÂΩï",autoReload:false,isStoreValue:false,showText(r){return r},callback(){C.netDiskHistoryMatch.show();}},{key:"ruleManager",text:"‚öô ËßÑÂàôÁÆ°ÁêÜÂô®",autoReload:false,isStoreValue:false,showText(r){return r},callback(){Ze.showView();}},{key:"showUserRule",text:"‚öô Ê∑ªÂä†ÈìæÊé•ËØÜÂà´ËßÑÂàô",autoReload:false,isStoreValue:false,showText(r){return r},callback(){Te.show(false);}},{key:"showMatchPasteText",text:"‚öô ËØÜÂà´ÊñáÊú¨",autoReload:false,isStoreValue:false,showText(r){return r},callback(){C.matchPasteText.show();}}]);ne.init();L.init();xe.init();w.ready(()=>{je.init(),kt.init(),P.init(),Ze.init();});

})(Qmsg, DOMUtils, Utils, pops, CryptoJS);