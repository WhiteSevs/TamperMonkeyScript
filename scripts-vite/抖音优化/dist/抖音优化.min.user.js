// ==UserScript==
// @name         æŠ–éŸ³ä¼˜åŒ–
// @namespace    https://github.com/WhiteSevs/TamperMonkeyScript
// @version      2025.6.10
// @author       WhiteSevs
// @description  è§†é¢‘è¿‡æ»¤ï¼ŒåŒ…æ‹¬å¹¿å‘Šã€ç›´æ’­æˆ–è‡ªå®šä¹‰è§„åˆ™ï¼Œä¼ªè£…ç™»å½•ã€å±è”½ç™»å½•å¼¹çª—ã€è‡ªå®šä¹‰æ¸…æ™°åº¦é€‰æ‹©ã€æœªç™»å½•è§£é”ç”»è´¨é€‰æ‹©ã€ç¦æ­¢è‡ªåŠ¨æ’­æ”¾ã€è‡ªåŠ¨è¿›å…¥å…¨å±ã€åŒå‡»è¿›å…¥å…¨å±ã€å±è”½å¼¹å¹•å’Œç¤¼ç‰©ç‰¹æ•ˆã€æ‰‹æœºæ¨¡å¼ã€ä¿®å¤è¿›åº¦æ¡æ‹–æ‹½ã€è‡ªå®šä¹‰è§†é¢‘å’Œè¯„è®ºåŒºèƒŒæ™¯è‰²ç­‰
// @license      GPL-3.0-only
// @icon         data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAF19JREFUeF7tnQl8U1X2x38vabqlLWOFrpStUMrWsrdUEARkEREQCoiAghswHQdQEFREGXfhD24MjOiMIqKD4IyICCObFCgt1JaC0ELpmq0L3ZLuyft/bkpL8pI07yUvaVre/Xz6KTT3nnvOud93381dzqXAU+riGzJarMMoGogGqD4A3RXAPQC8eKribhSjBVBJA0UUkAfgGgXq90YRzpZUybL4cAhlj5BAn9DxoOkFAGYB8LdHllCWsweuAfgvDWpvkUaWzrn07QI2ARDkExpPg14FGqNsrVgox58HaFCHAd2HRRrFEa5SOQEQ7B08VEdR7wCYxLUiIb8TPEDjB0qke1WpVv7BtjbWAARJQ9bQwPtsBQv52tID9CqVRrGNjQZsAKACpSG7ATzORqCQxzU8QIHerdQoFlvTplUAuvp19W/Q0gcAeqw1QcLnrugB+qRELJ5dWFl4y5J2FgFoanztYYAa6YqmCTqx9QCdLBGLp1qCwCIAgdLgEwA1jm01Qj5X9gB1SqWRPQCAZmppFoAgafBXNKhFrmySoBtnD+xRaeQLrQIQKA1eCVBbOYsXCri8ByhgrVIj/8BQUaMeIMgnqD9Ni664vCWCgjZ7QETTwxTVitRmAUYABHqHHACln9YVUsf1wFGVRj7ZBIAAafBkCtQvHddu85aJ40bYbbL2bIrdMpwpgKKouUq1bB+ps6UHCJCG/kyBnupMRVyhLj/VZbvUqN/5FWpfa2cTpBTOqdTyuBYAAqSh0RToNLs80U4L2wtAw76DqElY3/6sp6gJKrXsuL4HCJSGvAvgpfZnhf0a2wtA45GTqF6cYL8izpfwuUojf7oZgKsAIp2vQ9vXyARg2NVsTkr1u5aPtJWvmpQ5W1vBSU4bZL6l0sjvpTr7hkaIdXRmGyjgElUyARh+LRvfDBvOWrfClEvotGQTfChRS5knVVdxpNri9Dtr2Y7OqBNhDBUkDX2SBv1PR1fmqvKZAIy4lo09HAAgdmWMegwD1WT3VlNKKM7CfnWxq5rcoheZGCJLvR8CeN7ltXWQgkwARl7LxtccAUhauh4xKXdeHa+U3sQXlQoHacyr2D0EALKN6K7d4cMEIObaTeweNoyTl7P2/4I+r3/RUmZzWT62lBdwktE2malkKkAaco0C+raNAm1fKxOA2Myb+GooNwCIFckPLMaIklq9QadqyjFf2S5m1OWkByCjFbJ9+65MTABGZd7ElzYAcGnHNxj06X/0PizWNiAqP7k9+LOGANAIQNwetHWEjnwBQHS7GLcAQ6uIO4EJsjT8Ua9xhMq8yiQAmGwS4LUGFxfGBCAuMwf/GjrUJq1vHDyGLuu3w48S441budhRIbNJjjMLCQAw1gLuy8rBP4fYBgBpuLPLNmDUmUxcqKvCdPklZ7alTXUJADAAGJ2Vgy/sAMDwVRCvvIzEGteeERQAYAAwJisHn9sJQPOr4LCmFCuLr9v0ZDqrkAAAA4D7s3Kxa8gQu/2f/vFX6LLjAN4szcUBF54VFABgADD2ei4+G2w/AISggp9PomrtVswtSEeJtsFuqBwhQADAgQCQBqu/no+f5iZgxfWLjmg/u2UKADAAGHc9D/8YPNhuxxoJKK/CW7OfxsfnE/mVy4M0AQAGAA9cz8NOvgEgDUXTmLNtO85s/gR0RSUPTcePCAEABgDjb+RhRzTPPYBBWy0+cRKnjv+G+m8OgFa1/ZKxAAADgAk38vB3BwJAWFiReAb/69UV2sRkNJ5OQsOPR0GXts0GEgEABgATb+Rje3Q0P/1rK1I+/y0R2yN6oMpXqs/VeDYFdKECOpkCdHEp6JJS6IpvwdFbzgUAGAA8mJ2PT6McDwBp9CtZ2fiopAgnos1vx9TMWiIA4OhHkbkY5EwAmm376XwK9rhRuBgZbmSuAICjWx8AE4BJ2fn4xEk9ANO8vYnncBxapPcIQ/k9fhAAaAMAJmcX4OOoKCfUbLkKlaoY57NvomrLl0g5ew5FjQ0o0tajSNv0m88kjAEYY4ApNwvw0aC2BaC5gS8Pj8eAOuMQDsE5Z/hsfwgAMACYerMAHwoA8AqZSwtjjgEeulmAbQIALt1mvCpnCkAhtg0axGsdtgoTXgG2eo5DOSYA03IKsXUgewAq8mTo1D2UQ43sswoAsPeVzTmZADycU4j/4wDA5S/2oTpXhpGbVtqsg6WCAgC8u9RUIBOA6TkybBk4kHXNBIABW/chuYsX7n1+IXrPfJB1WWsZBQCseYiHz5kAPJIjw2YbACCqqGktMgb3xJCPNsDLv5Pd2gkAMFxIBQdCPKgfRIFdQJGfoC76f8PDHaiuAa2pBq2uBtQaNBw7zWoenQnAjFwZPhjAvQcwVPWGWIvioX3Q7Zm56DrK9i3mAgDkyFLcCLiNHw23cXH6xmeb2E6jOgKAVSXXscm/FzwoEdI7e0E8JQ7D1i1jq3pLvrsWAFG3UEgemwXJzKkQ9erO2XGkgK0AzMyV4/0BA1jX2TwGMCwwW3EZJEJIQqeueMW/Sf8ckRaKAd3h98AIRC6cBYmXp9U67joARJG94U4a/rFZoDr5WXVQaxlsBWBWrhzv8QQA0a+HxFMPwuO+gS3qVtJa3PDzQF1UOAKmjUPv6RPMmnLXAEBJveHx+ov6xodEwrnhO5eUIbi0DKHqanTT0ejr44OeL3yEvIIClOkaUU1rUa3T4d0ycu+ScWK+Ah7Nk+Pd/vz0AIY1TfS+B3N9AjBd2tlEBx1o1NA0akGjjiI/FBrETT8dfi1A1LMbPLe8Drf72Eeld6+tw8jLWZgAEaYOGgB/f9PT7edHxmNkjfWFFCYAs/PkeMcBADS3+jAPX8z1DUC8TwC8DOIKsaW+Qy0GiWOGwvubv4PyadoW1VoKkasQU6BErMQdU4YPgZdX67fRHY+NxwMa7gDMyVPg7f79ralzZ6B2ex7A3BigNSG9JF76HmGStz/6uXuzrq/DACB5ZDK8Ptti1XC/SjWeysrF8rFjrOY1zHBoVDweUnMHID5fgbf6OR4AQ10Dxe6I8vBBlLsU0eS3hw/I38ylDgGA53sb4P7kPKsNOj31Cp4L7YqIXj2s5mVm2B8Xj0er2gcA5ozzpkS4Vyxp+eksavr3dp5jDjh9P4DXzs2QzJzSaoP2y87HMzX1eDjG9kDO394Xj3mV3AGYm6/Am07uATjTzWMBpwLgvmQ+PN81jappaM/ylAwsj42Bp6eHXWbaCsC8fCX+1o/9hFNr8wB2GeCkwk4DgHzH9znVFETJUlqeeBGrJk/kxXRbAZhfoMSmSAEAXhrBUIjPyQMQ9YuwKPe53T/ghWVLeavXVgAeK1DiDQEA3tpBL8jzg41wXxxvUeizu77Di3/lPlfempa2ArCgQInXBQD4A0Aydwa8Pn7LosBlPx3H6nmz+avwtiTbAVDh9Uj2gdOFMUArTUf5+kB6aA9EfY1PvDQXWZ5yGavGcft+z5YUWwF4vFCFjX0FANj6udV8Hi+ugMeaFWbzRJ1Pw7f33w83NztjVNbWAeVVQFkV0NAIRPYA3CWwFYCFhSq8JgBgf/uTp548/aQXYCZdbgH+cUuN8WP019ZwT9dy8cdn38LvdDpCa+6EaW8WVCemIBPR6MUIy2NuFo25FrCosAgb+rIPnSy8Aiw0n+db6+H+tPkLxxd8/zNef4L7ZeSl+/8HzdbdCKtoCsrMNbEBYHFhEV4VAODqWtP8Pkk/g6z0MVOPU0n4NjbW7AqexVq1OmQl/A19Eu2LwM0GgCdkRXglQugB7CLAbcIY/SqfufT++QzMHH8/e/nZhchZ8gp6lNWwL2MhpwCAqWMcMhNoqfufkXIJH4wby74hswshm78GIbWm73mmkNS6Kn1AxtQ6Ncp1DSjTNqJc14ieEk/0dPPS//7czC0ezDHAk7JivBxhecKKWa8wBjDTnD6//dfsV79d1wtw/2CWJ2+ra5E/bgnCzAzyDKskjb67SomkWtsibzEBWCIrxnoBAPYPKTMnGf0TAJgpXF6Ew33Yv1szlr6CgSmtx9ndVl6A98rybVfWTICIpfJirOsj9AA2O1WycDa8trxhUn5ZRhZWx8awkluRdhV+iza2mndYwQXIG+tYyWstE7MHeEpejJcEAGz3q9cX2yCZZrqit09WiuiI3qwEX0zYhKGnLN/pO7QgBYpGfiJlMAF4Wl6CtX36sNKTZBLGAAxXSY9+B3G08a5art3/leFz0d/Cw9285551C1nJKADA85Ux5r7/L0+9glVjRrNqs8zTyYhYsdls3rdu5eGTikJWcthmYgLwjKIEa3oLPQBb/5nk8716GhRjm/aeHAVGDGS30fL7v7yG2SevmchNq1NjuuISGml+rzhiAvCsogQvCgDY3P7wk6UDjAWeQ0WV6NOT3RGvg8texsNnbpgo8FxRJn7UlNiumIWSTACeU5Tihd7sxirCGMCMU81dx36mRocune9l1XhHn3oJDybnGOW92VCD+wpTWZXnmomp7zJlKVaHCwBw9WNLfnMA/OHhCzc3N1YyTy56EWPTjL/bkyef9AB8J3Lc3DftmJHY5cpSrBIAsN3VTACkmmr8HsA+hs7/lqzFxAu5Rgq8VpqDzyrltitloSQ5ei79wfji9BXKW1gZbn4Dizkx5zduw8gDZ40+4vubCu+GGwjkfS2ACUCwshinwtnPrKUc+hXD1/3DyOZ5yiv4raacdz+Ym7TiCsCJmcsxLrtUAKDZA74ZJ0EF3DkBG5mdjx85xt49FjkF4yV3joc7agDo+c4rcF/6mFHjPS8vQQKHiaCk4XMQUycykjFNfglkcao9JN57AO+9O/QRPZrTkMyb+I7jZcy7Jy3GQsWdTR/rSrPxZaWSV3+S+AM+p/+rDzVjmF7OLsSTUezDxGX3fwS9xMbBHkYXpiK7wf7la14NtiCMdwA8N6yGe8Kd/f3heXIc5nDcmuh5YOeXGLJ1vz64AknkXP+H5fxOAEkWPAqvrZtM3PJOZi5mD2V3bVz66fOIWmF6wHVgfjJKXfSaOKbBvAPAdGyXkjKc6d6LM8xfT3kCj8uaniJHfAvw3rMdbhNNN6Z8kpmHSUPZ3Rl0eNM2TNlnPAAk+oblnuV9woqzA1kW4B0A8ZBBkP6yt6V6j7p6ZPjfCY/CUi+kpaajZv46xHr4oqCxDiMLLrAtajWfJ4lGsvxJs/m+zCrAqCHs9izsm5uAOVeLjOSotPUYnJ9iVQdXycA7AMQw7+93wW1MbIuNp9QNCA4M4GzzD39+FQ+dugZ3SoSxhb8jq6GaswxmAfHwaP1uZXMpLCkVxyaYj9djLv+h4bPwUJ1xSJvk2krMUGTYraezBDgEADKyJiPs5vThlWxMHTncJpu+W7kRsUd+xy+aW9h4y3iGkKtAMuDzvXTCYrFlv57F6hnTWIk9tWsvYrbt14eCM0z71EV43sUvjDbU1yEAUMEB8Ek82BL65dmUDLw4jsNGUEYT/Oulv6HfgTN6AMiikC3JbdI4eO/+xGJRt0I5jnh3QlhYV1biD49fhCnFpmvWm8vysaW8gJUMV8jkEACIYWSETQaEJI1Pv4odcTYeArntpezMG8h4Yj2WXTYddLXmSFFYCCTzZlo8odRc9pnTF7BmCrs4v1eOn0FAwmZ0FptGNBtTmIob7eQrILHdYQC4jR4J7/1f6P3bqaIKR7074Z4/2R8/9+W3P8Hu3Ew07DsINFi+kVs8MBKSeTP0jU918m31YXsoKxfbOFwZ/+ucBEzINB78kQou1akxWZ7uCg82ax0cBgDRwHBS6L30LMyKY7cn0Jr2Pfd+CxJkqvG3c6DLKpp+yisgCugMqkcYyFMvCmO//pAlNQ0zZ0mH0nwZqqb+Gd1FpkGc3i7Lw8c8z1dY84W9nzsUAMmch+H16bt6Haf9fgVbR7PbFWTNqAvJFzEnKQnuTy2wlrXVzwedPo/9U1qPV8QUkLj8NdyXaLphheSbJEtHRr1tYxS7DLGjsEMB0PcC+z+H2+gY/WvgkMQbAV1MI2Xaon9VZRWe27ELydMfBIktzCk1NmJRSgY2TBzPqVjZzXyUzlqFcJ3piWYy90/WANpbcjgA5Hu39/efg/LyxKoLlznH+7Pm0P8cPIyk2loc6x6MigGtnzugi0oQn5WL+d26Iaof+zMKzTokTVqKGIX5J3xNSTa+ruJ3vcKa7Xx87nAAiJLuyxbD84216FGgwMGe4fDwsC8CmCXDz6VdwpnyclRSFKpEFKokboCORoSmBj0oCpEBXRAVxf4uAMN6kl54GzFH08xW3R4Hf82GOAUAUhmJCkoGbq+lXsVCW+MC8IG8DTKyfzqOe9Z9inso88Es2uvTT1zhNABIZT6//4rQ+kZ87eePMA6jdBvajNciabHzEa3Rdbin3+kAkAp9s87ikQuXseURdlOuvLakDcLOLFiNuAzLS9Ht+elvEwBIpdKj/8Y7VbWYO5n9wosNbWd3kbOPJmDUddMJn2bB/9GUYLkDNqvarTgHAU59BRjqFfTdZ9gV1g3DbRyUcbDRpqznpj2L2HzL+xBzGmoRV3jRJtmuVKjNACBOGPb+RvxzzqMIMNhD6ArOSXpwKWKUrU/oTJCl4Y96jSuoa48OWgIAWWRv/fYFe6qwUvbhZUuwK2EF0CPEgbWwF508bjFGlLYehOovxVn4Xl3MXqjr5iwjAMgAtKn3n+kXjUXjJyDivRfazFUX3vwU0gMnENlgvL7PVGhDaQ52OeCMQlsYTgOZVKA09DxAs7+wx0GaksuU1vbsD9Gf5yN80QwH1WIq9ureg9Bs/w7Dyq3HG5guv4QL7WS7N0sHHiU9wNcAuAftY1kDl2wEgvc7hyOrTzBCVj+BsPsdx+WVf30P9e5DGFlk/T1OtnmtLLkOMvDrYOkjKkgasoYG3ncVw8gFSiv/FIZHpJ2R4Qmoo8IROGsiwh+2/yujWlWC63t+hPbAMQyrsLyXwNAXhzSlWF1yA5W6RldxEW96UKCWUF18Q0aLdDjNm1SeBJGLFgkIXd2a1g1kaERBty4QR/eBf+xg9Jw8FmIPy3cM1mlqoEzNQFHaVVQnpsLvphwRNTTIXTxsUka9BjsrZNjfMQZ7Zk3Wiqi++kt1AqUh5HCbPxvHODNPkNgdS/2CscQvGD4i03n4PKoRanfjv4u1NPwbdAig2J1GZtpDDnTsrJRjZ4Uc9bT56V9n+sCBdV1TaeT9mgHYBeApB1Zml+jeEq8WEOwS1ErhKp0W+9VF+sbP7XjvenOWv6fSyNc1AeATOh40bXxQ3lGetkNuhMQb06X36q9f7cvhssXWqjxWXYYj1bfwc3VpuznOZYcLW4rSoAYXaWTpLfeqBfqEnAWNUXwId4aMkZ5+eNDbHz3cPPVnCMlvc68JQ11qaZ0+vJxCW4eDmlIc1JTcVY3e7Asa1OEijewh8v8WAIJ8QuNpmv63MxrPUXWQbdrNQHR384RSW3+7wcnvOn3sYCEBNOgpRRrFESMAbg8GyR8nCU7qwB6g8YOqWt50YMOwByD/CfYOHqqjqPa/xNWB289e0yhKN0CpVv5hFgDyR1ebGLLXYKG8oQfoVSqNYpvhX4wv1739iStNDwsNyI8HKNC7lRrFYqY0swA07RUMPQHQHG534EdRQYojPECfVGkUD5iTbAkAdPXr6t+g1R4GKMetyDjCVkEmwwN0skQsnlpYWXiLEwAk820I9gPUOMGv7dED1CmJmHrUUuObfAuwZGKQNPgrGtSi9uiCu1jnPSqNnLRZq9G1Lb4CmI4LlAavBKitd7FD243pFLBWqZF/wEZh1gDovyL6BPWndaI3QWEWG+FCHqd74KiIptcrqhWsI2tzAqDZnABp8GRA9FcK9FSnmyhUaOoBCucoUFuVatk+ru6xCYA7IIRGU6BJrFWyiY/9ldtctRTym/MAGdX/AIr6RqWWHbfVRXYBYFhpZ9/QCDcd4mjQJMxmJA10pwASG44E/bXzinBbzesQ5Ui0zDKAKgTo6xSQrhXhXHGVPJEP6/4fAayH1yFvEgIAAAAASUVORK5CYII=
// @supportURL   https://github.com/WhiteSevs/TamperMonkeyScript/issues
// @match        *://*.douyin.com/*
// @match        *://*.iesdouyin.com/*
// @require      https://fastly.jsdelivr.net/gh/WhiteSevs/TamperMonkeyScript@86be74b83fca4fa47521cded28377b35e1d7d2ac/lib/CoverUMD/index.js
// @require      https://fastly.jsdelivr.net/npm/@whitesev/utils@2.6.9/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/npm/@whitesev/domutils@1.5.10/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/npm/@whitesev/pops@2.1.0/dist/index.umd.js
// @require      https://fastly.jsdelivr.net/npm/qmsg@1.3.8/dist/index.umd.js
// @connect      *
// @connect      www.toutiao.com
// @grant        GM_deleteValue
// @grant        GM_download
// @grant        GM_getResourceText
// @grant        GM_getValue
// @grant        GM_info
// @grant        GM_registerMenuCommand
// @grant        GM_setValue
// @grant        GM_unregisterMenuCommand
// @grant        GM_xmlhttpRequest
// @grant        unsafeWindow
// @run-at       document-start
// ==/UserScript==

(function (C, De, X, Re) {
	'use strict';

	var Tt=Object.defineProperty;var Dt=(t,e,i)=>e in t?Tt(t,e,{enumerable:true,configurable:true,writable:true,value:i}):t[e]=i;var I=(t,e,i)=>Dt(t,typeof e!="symbol"?e+"":e,i);var Ct=typeof GM_deleteValue<"u"?GM_deleteValue:void 0,ht=typeof GM_download<"u"?GM_download:void 0,pt=typeof GM_getResourceText<"u"?GM_getResourceText:void 0,ke=typeof GM_getValue<"u"?GM_getValue:void 0,Se=typeof GM_info<"u"?GM_info:void 0,Rt=typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:void 0,ae=typeof GM_setValue<"u"?GM_setValue:void 0,At=typeof GM_unregisterMenuCommand<"u"?GM_unregisterMenuCommand:void 0,$t=typeof GM_xmlhttpRequest<"u"?GM_xmlhttpRequest:void 0,T=typeof unsafeWindow<"u"?unsafeWindow:void 0,Ot=window;const wt="GM_Panel",Ae="data-init",ee="data-key",te="data-default-value",Pt="data-init-more-value",O="data-storage-api",de={setting:{get width(){return window.innerWidth<550?"88vw":window.innerWidth<700?"550px":"700px"},get height(){return window.innerHeight<450?"70vh":window.innerHeight<550?"450px":"550px"}},info:{get width(){return "350px"},get height(){return "250px"}}};class Nt{constructor(e){I(this,"storageKey");I(this,"listenerData");if(typeof e=="string"){let i=e.trim();if(i=="")throw new Error("keyå‚æ•°ä¸èƒ½ä¸ºç©ºå­—ç¬¦ä¸²");this.storageKey=i;}else throw new Error("keyå‚æ•°ç±»åž‹é”™è¯¯ï¼Œå¿…é¡»æ˜¯å­—ç¬¦ä¸²");this.listenerData=new X.Dictionary;}getLocalValue(){let e=ke(this.storageKey);return e==null&&(e={},this.setLocalValue(e)),e}setLocalValue(e){ae(this.storageKey,e);}set(e,i){let o=this.get(e),n=this.getLocalValue();Reflect.set(n,e,i),this.setLocalValue(n),this.triggerValueChangeListener(e,o,i);}get(e,i){let o=this.getLocalValue();return Reflect.get(o,e)??i}getAll(){return this.getLocalValue()}delete(e){let i=this.get(e),o=this.getLocalValue();Reflect.deleteProperty(o,e),this.setLocalValue(o),this.triggerValueChangeListener(e,i,void 0);}has(e){let i=this.getLocalValue();return Reflect.has(i,e)}keys(){let e=this.getLocalValue();return Reflect.ownKeys(e)}values(){let e=this.getLocalValue();return Reflect.ownKeys(e).map(i=>Reflect.get(e,i))}clear(){Ct(this.storageKey);}addValueChangeListener(e,i){let o=Math.random(),n=this.listenerData.get(e)||[];return n.push({id:o,key:e,callback:i}),this.listenerData.set(e,n),o}removeValueChangeListener(e){let i=false;for(const[o,n]of this.listenerData.entries()){for(let a=0;a<n.length;a++){const d=n[a];(typeof e=="string"&&d.key===e||typeof e=="number"&&d.id===e)&&(n.splice(a,1),a--,i=true);}this.listenerData.set(o,n);}return i}triggerValueChangeListener(e,i,o){if(!this.listenerData.has(e))return;let n=this.listenerData.get(e);for(let a=0;a<n.length;a++){const d=n[a];if(typeof d.callback=="function"){let s=this.get(e),r,c;typeof i<"u"&&arguments.length>=2?c=i:c=s,typeof o<"u"&&arguments.length>2?r=o:r=s,d.callback(e,c,r);}}}}const q=new Nt(wt),xe={$data:{__contentConfig:null,get contentConfig(){return this.__contentConfig==null&&(this.__contentConfig=new v.Dictionary),this.__contentConfig}},addContentConfig(t){Array.isArray(t)||(t=[t]);let e=this.$data.contentConfig.keys().length;this.$data.contentConfig.set(e,t);},getAllContentConfig(){return this.$data.contentConfig.values().flat()},getConfig(t){return this.$data.contentConfig.get(t)??[]}},St={$data:{__menuOption:[],get menuOption(){return this.__menuOption}},init(){this.initExtensionsMenu();},initExtensionsMenu(){u.isTopWindow()&&Mt.add([{key:"show_pops_panel_setting",text:"âš™ è®¾ç½®",autoReload:false,isStoreValue:false,showText(t){return t},callback:()=>{u.showPanel(xe.getConfig(0));}},...this.$data.menuOption]);},addMenuOption(t){Array.isArray(t)||(t=[t]),this.$data.menuOption.push(...t);}},u={$data:{__configDefaultValueData:null,__onceExecMenuData:null,__onceExecData:null,__panelConfig:{},$panel:null,get configDefaultValueData(){return this.__configDefaultValueData==null&&(this.__configDefaultValueData=new v.Dictionary),this.__configDefaultValueData},get onceExecMenuData(){return this.__onceExecMenuData==null&&(this.__onceExecMenuData=new v.Dictionary),this.__onceExecMenuData},get onceExecData(){return this.__onceExecData==null&&(this.__onceExecData=new v.Dictionary),this.__onceExecData},get scriptName(){return _e},get panelConfig(){return this.__panelConfig},set panelConfig(t){this.__panelConfig=t;},key:wt,attributeKeyName:ee,attributeDefaultValueName:te},init(){this.initContentDefaultValue(),St.init();},isTopWindow(){return T.top===T.self},initContentDefaultValue(){const t=o=>{if(!o.attributes||o.type==="button"||o.type==="forms"||o.type==="deepMenu")return;let n={},a=o.attributes[ee];a!=null&&(n[a]=o.attributes[te]);let d=o.attributes[Ae];if(typeof d=="function"){let c=d();if(typeof c=="boolean"&&!c)return}let s=o.attributes[Pt];s&&typeof s=="object"&&Object.assign(n,s);let r=Object.keys(n);if(!r.length){l.warn(["è¯·å…ˆé…ç½®é”®",o]);return}r.forEach(c=>{let h=n[c];this.setDefaultValue(c,h);});},e=o=>{for(let n=0;n<o.length;n++){let a=o[n];t(a);let d=a.forms;d&&Array.isArray(d)&&e(d);}},i=[...xe.getAllContentConfig()];for(let o=0;o<i.length;o++){let n=i[o];if(!n.forms)continue;const a=n.forms;a&&Array.isArray(a)&&e(a);}},setDefaultValue(t,e){this.$data.configDefaultValueData.has(t)&&l.warn("è¯·æ£€æŸ¥è¯¥key(å·²å­˜åœ¨): "+t),this.$data.configDefaultValueData.set(t,e);},setValue(t,e){q.set(t,e);},getValue(t,e){let i=q.get(t);return i??(this.$data.configDefaultValueData.has(t)?this.$data.configDefaultValueData.get(t):e)},deleteValue(t){q.delete(t);},hasKey(t){return q.has(t)},addValueChangeListener(t,e){return q.addValueChangeListener(t,(o,n,a)=>{e(t,a,n);})},removeValueChangeListener(t){q.removeValueChangeListener(t);},triggerMenuValueChange(t,e,i){q.triggerValueChangeListener(t,i,e);},deleteExecMenuOnce(t){return this.$data.onceExecMenuData.delete(t),q.removeValueChangeListener(t)},deleteOnceExec(t){this.$data.onceExecData.delete(t);},exec(t,e,i,o=true){const n=this;let a;typeof t=="string"||Array.isArray(t)?a=()=>t:a=t;let d=false,s=a(),r=[];Array.isArray(s)?(d=true,r=s):r.push(s);let c=r.find(w=>!this.$data.configDefaultValueData.has(w));if(c){l.warn(`${c} é”®ä¸å­˜åœ¨`);return}let h=JSON.stringify(r);if(o){if(this.$data.onceExecMenuData.has(h))return;this.$data.onceExecMenuData.set(h,1);}let f=[],m=[],y=(w,E)=>{let _=[];E instanceof HTMLStyleElement?_=[E]:Array.isArray(E)&&(_=[...E.filter(R=>R!=null&&R instanceof HTMLStyleElement)]),f=f.concat(_);},x=w=>this.getValue(w),k=()=>{for(let w=0;w<f.length;w++)f[w].remove(),f.splice(w,1),w--;},S=()=>{let w=false;return typeof i=="function"?w=i(r):w=r.every(E=>x(E)),w},M=w=>{let E=S(),_=[];if(E){let R=r.map(D=>this.getValue(D)),P=e({addStyleElement:(...D)=>y(true,...D),value:d?R:R[0]});P instanceof HTMLStyleElement?_.push(P):Array.isArray(P)&&_.push(...P.filter(D=>D!=null&&D instanceof HTMLStyleElement));}k(),f=[..._];};return o&&r.forEach(w=>{let E=this.addValueChangeListener(w,(_,R,P)=>{M();});m.push(E);}),M(),{clear(){this.clearStoreStyleElements(),this.removeValueChangeListener(),o&&n.$data.onceExecMenuData.delete(h);},clearStoreStyleElements:()=>k(),removeValueChangeListener:()=>{m.forEach(w=>{this.removeValueChangeListener(w);});}}},execMenu(t,e,i=false){return this.exec(t,o=>e(o),o=>o.every(a=>{let d=!!this.getValue(a);return i&&(d=!d),d}),false)},execMenuOnce(t,e){return this.exec(t,e,i=>i.every(n=>!!this.getValue(n)),true)},onceExec(t,e){if(typeof t!="string")throw new TypeError("key å¿…é¡»æ˜¯å­—ç¬¦ä¸²");this.$data.onceExecData.has(t)||(e(),this.$data.onceExecData.set(t,1));},showPanel(t,e=`${_e}-è®¾ç½®`){let i=H.panel({title:{text:`${_e}-è®¾ç½®`,position:"center",html:false,style:""},content:t,btn:{close:{enable:true,callback:(o,n)=>{o.close(),this.$data.$panel=null;}}},mask:{enable:true,clickEvent:{toClose:true,toHide:false},clickCallBack:(o,n)=>{o(),this.$data.$panel=null;}},width:de.setting.width,height:de.setting.height,drag:true,only:true,...this.$data.panelConfig});this.$data.$panel=i;}},j={qmsg_config_position:{key:"qmsg-config-position",defaultValue:"bottom"},qmsg_config_maxnums:{key:"qmsg-config-maxnums",defaultValue:3},qmsg_config_showreverse:{key:"qmsg-config-showreverse",defaultValue:false},httpx_cookie_manager_enable:{key:"httpx-use-cookie-enable",defaultValue:false},httpx_cookie_manager_use_document_cookie:{key:"httpx-use-document-cookie",defaultValue:false}};class Ht{constructor(e){I(this,"$data",{get enable(){return u.getValue(j.httpx_cookie_manager_enable.key,j.httpx_cookie_manager_enable.defaultValue)},get useDocumentCookie(){return u.getValue(j.httpx_cookie_manager_use_document_cookie.key,j.httpx_cookie_manager_use_document_cookie.defaultValue)},cookieRule:[]});Array.isArray(e)&&(this.$data.cookieRule=e);}fixCookieSplit(e){return v.isNotNull(e)&&!e.trim().endsWith(";")&&(e+=";"),e}concatCookie(e,i){return v.isNull(e)?i:(e=e.trim(),i=i.trim(),e=this.fixCookieSplit(e),i.startsWith(";")&&(i=i.substring(1)),e.concat(i))}handle(e){if(e.fetch||!this.$data.enable)return;let i="",o=e.url;o.startsWith("//")&&(o=window.location.protocol+o);let n=new URL(o);this.$data.useDocumentCookie&&n.hostname.endsWith(window.location.hostname.split(".").slice(-2).join("."))&&(i=this.concatCookie(i,document.cookie.trim()));for(let a=0;a<this.$data.cookieRule.length;a++){let d=this.$data.cookieRule[a];if(n.hostname.match(d.hostname)){let s=u.getValue(d.key);if(v.isNull(s))break;i=this.concatCookie(i,s);}}v.isNotNull(i)&&(e.headers&&e.headers.Cookie?e.headers.Cookie=this.concatCookie(e.headers.Cookie,i):e.headers.Cookie=i,l.info(["Httpx => è®¾ç½®cookie:",e])),e.headers&&e.headers.Cookie!=null&&v.isNull(e.headers.Cookie)&&delete e.headers.Cookie;}}const Ft=new Ht([]),b={addBlockCSS(...t){let e=[];if(t.length!==0&&!(t.length===1&&typeof t[0]=="string"&&t[0].trim()===""))return t.forEach(i=>{Array.isArray(i)?e=e.concat(i):e.push(i);}),B(`${e.join(`,
`)}{display: none !important;}`)},setGMResourceCSS(t){let e=typeof pt=="function"?pt(t.keyName):"";typeof e=="string"&&e?B(e):b.loadStyleLink(t.url);},async loadStyleLink(t){let e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href=t,De.ready(()=>{document.head.appendChild(e);});},async loadScript(t){let e=document.createElement("script");return e.src=t,new Promise(i=>{e.onload=()=>{i(null);},(document.head||document.documentElement).appendChild(e);})},fixUrl(t){return t=t.trim(),t.match(/^http(s|):\/\//i)||(t.startsWith("/")||(t+="/"),t=window.location.origin+t),t},fixHttps(t){if(t.startsWith("https://")||!t.startsWith("http://"))return t;let e=new URL(t);return e.protocol="https:",e.toString()},lockScroll(...t){let e=document.createElement("style");e.innerHTML=`
			.pops-overflow-hidden-important {
				overflow: hidden !important;
			}
		`;let i=[document.documentElement,document.body].concat(...t||[]);return i.forEach(o=>{o.classList.add("pops-overflow-hidden-important");}),(document.head||document.documentElement).appendChild(e),{recovery(){i.forEach(o=>{o.classList.remove("pops-overflow-hidden-important");}),e.remove();}}},async getClipboardText(){function t(o){navigator.clipboard.readText().then(n=>{o(n);}).catch(n=>{l.error("è¯»å–å‰ªè´´æ¿å†…å®¹å¤±è´¥ðŸ‘‰",n),o("");});}function e(o){navigator.permissions.query({name:"clipboard-read"}).then(n=>{t(o);}).catch(n=>{l.error("ç”³è¯·å‰ªè´´æ¿æƒé™å¤±è´¥ï¼Œå°è¯•ç›´æŽ¥è¯»å–ðŸ‘‰",n.message??n.name??n.stack),t(o);});}function i(){var o,n;return !(typeof((o=navigator==null?void 0:navigator.clipboard)==null?void 0:o.readText)!="function"||typeof((n=navigator==null?void 0:navigator.permissions)==null?void 0:n.query)!="function")}return new Promise(o=>{if(!i()){o("");return}document.hasFocus()?e(o):window.addEventListener("focus",()=>{e(o);},{once:true});})}},v=X.noConflict(),g=De.noConflict(),H=Re,l=new v.Log(Se,T.console||Ot.console);var xt;let _e=((xt=Se==null?void 0:Se.script)==null?void 0:xt.name)||void 0;const _t=false;l.config({debug:_t,logMaxCount:1e3,autoClearConsole:true,tag:true});C.config(Object.defineProperties({html:true,autoClose:true,showClose:false},{position:{get(){return u.getValue(j.qmsg_config_position.key,j.qmsg_config_position.defaultValue)}},maxNums:{get(){return u.getValue(j.qmsg_config_maxnums.key,j.qmsg_config_maxnums.defaultValue)}},showReverse:{get(){return u.getValue(j.qmsg_config_showreverse.key,j.qmsg_config_showreverse.defaultValue)}},zIndex:{get(){let t=X.getMaxZIndex(),e=Re.config.InstanceUtils.getPopsMaxZIndex().zIndex;return X.getMaxValue(t,e)+100}}}));H.GlobalConfig.setGlobalConfig({zIndex:()=>{let t=X.getMaxZIndex(void 0,void 0,i=>{var o;if((o=i==null?void 0:i.classList)!=null&&o.contains("qmsg-shadow-container")||i!=null&&i.closest("qmsg")&&i.getRootNode()instanceof ShadowRoot)return  false}),e=Re.config.InstanceUtils.getPopsMaxZIndex().zIndex;return X.getMaxValue(t,e)+100},mask:{enable:true,clickEvent:{toClose:false,toHide:false}}});const Mt=new v.GM_Menu({GM_getValue:ke,GM_setValue:ae,GM_registerMenuCommand:Rt,GM_unregisterMenuCommand:At}),Ve=new v.Httpx({xmlHttpRequest:$t,logDetails:_t});Ve.interceptors.request.use(t=>(Ft.handle(t),t));Ve.interceptors.response.use(void 0,t=>(l.error("æ‹¦æˆªå™¨-è¯·æ±‚é”™è¯¯",t),t.type==="onabort"?C.warning("è¯·æ±‚å–æ¶ˆ",{consoleLogContent:true}):t.type==="onerror"?C.error("è¯·æ±‚å¼‚å¸¸",{consoleLogContent:true}):t.type==="ontimeout"?C.error("è¯·æ±‚è¶…æ—¶",{consoleLogContent:true}):C.error("å…¶å®ƒé”™è¯¯",{consoleLogContent:true}),t));T.Object.defineProperty,T.Function.prototype.apply,T.Function.prototype.call,T.Element.prototype.appendChild,T.setTimeout;const B=v.addStyle.bind(v),Q=document.querySelector.bind(document),Z=document.querySelectorAll.bind(document);new v.GM_Cookie;const Ut=_e||"æŠ–éŸ³ä¼˜åŒ–",V={isIndex(){return window.location.hostname==="www.douyin.com"},isFollow(){return this.isIndex()&&window.location.pathname.startsWith("/follow")},isLive(){return window.location.hostname==="live.douyin.com"||this.isFollowLive()||this.isRootLive()},isFollowLive(){return this.isIndex()&&window.location.pathname.startsWith("/follow/live/")},isRootLive(){return this.isIndex()&&window.location.pathname.startsWith("/root/live/")},isRecommend(){let t=new URLSearchParams(window.location.search);return this.isIndex()&&t.has("recommend")},isSearch(){return this.isIndex()&&(window.location.pathname.startsWith("/search/")||this.isRootSearch())},isRootSearch(){return this.isIndex()&&window.location.pathname.startsWith("/root/search/")},isChannel(){return this.isIndex()&&window.location.pathname.startsWith("/channel/")},isDiscover(){return this.isIndex()&&window.location.pathname.startsWith("/discover/")},isUser(){return this.isIndex()&&window.location.pathname.startsWith("/user/")},isVideo(){return this.isIndex()&&window.location.pathname.startsWith("/video/")},isNote(){return this.isIndex()&&window.location.pathname.startsWith("/note/")},isJingXuan(){return this.isIndex()&&window.location.pathname.startsWith("/jingxuan")},isFriend(){return this.isIndex()&&window.location.pathname.startsWith("/friend")}},It={init(){u.exec(["shieldTopNavigator","search-shieldTopNavigator"],()=>this.shieldTopNavigator(),t=>{const[e,i]=t;let o=u.getValue(e),n=u.getValue(i);if(V.isSearch()){if(n==1)return  true;if(n==0)return  false}return o}),u.execMenuOnce("shieldClientTip",()=>this.shieldClientTip()),u.execMenuOnce("shieldFillingBricksAndStones",()=>this.shieldFillingBricksAndStones()),u.execMenuOnce("shieldClient",()=>this.shieldClient()),u.execMenuOnce("shieldQuickAccess",()=>this.shieldQuickAccess()),u.execMenuOnce("shieldNotifitation",()=>this.shieldNotifitation()),u.execMenuOnce("shieldPrivateMessage",()=>this.shieldPrivateMessage()),u.execMenuOnce("shieldSubmission",()=>this.shieldSubmission()),u.execMenuOnce("shieldWallpaper",()=>this.shieldWallpaper()),u.execMenuOnce("shieldBottomQuestionButton",()=>this.shieldBottomQuestionButton()),u.execMenuOnce("shield-topNav-rightMenu",()=>this.shieldRightMenu()),u.execMenuOnce("shield-topNav-rightMenu-more",()=>this.shieldRightMenuMore()),u.execMenuOnce("shield-topNav-rightMenu-loginAvatar",()=>this.shieldRightMenuLoginAvatar()),u.execMenuOnce("shield-topNav-ai-search",()=>this.shieldAISearch());},shieldTopNavigator(){l.info("ã€å±è”½ã€‘é¡¶éƒ¨å¯¼èˆªæ ");let t=[];return t.push(b.addBlockCSS("#douyin-header")),t.push(B(`
			/* ä¿®å¤è§†é¢‘çš„é«˜åº¦ */
			#douyin-right-container{
				padding-top: 0px !important;
			}
			/* å…¼å®¹æ‰‹æœºæ¨¡å¼ */
			@media screen and (max-width: 550px){
				.is-mobile-pc{
					--header-height: 0px !important;
				}
				
			}
		`)),V.isSearch()&&t.push(B(`
				/* æŠŠæœç´¢é¡¶éƒ¨çš„å·¥å…·æ ç½®é¡¶ */
				#search-content-area > div > div:nth-child(1) > div:nth-child(1){
					top: 0;
				}`)),t},shieldFillingBricksAndStones(){l.info("ã€å±è”½ã€‘å……é’»çŸ³");let t=[];const e='d="M12.8013 19.9762C12.3693 20.4436 11.6307 20.4436 11.1986 19.9762L3.11756 11.2346C2.74913 10.8361 2.72958 10.2274 3.07168 9.80599L6.92716 5.05714C7.13438 4.8019 7.44562 4.65369 7.77439 4.65369H16.2256C16.5544 4.65369 16.8656 4.8019 17.0728 5.05714L20.9283 9.80599C21.2704 10.2274 21.2508 10.8361 20.8824 11.2346L12.8013 19.9762ZM4.45944 10.4765L12 18.6334L19.5405 10.4765L16.031 6.15369H7.96901L4.45944 10.4765ZM16.0867 9.09336L16.0954 10.4557C15.3615 10.4557 14.6822 10.2315 14.1281 9.85065V12.5739C14.1281 13.9502 12.964 15.0659 11.5281 15.0659C10.0922 15.0659 8.9281 13.9502 8.9281 12.5739C8.9281 11.1976 10.0922 10.0819 11.5281 10.0819C11.6486 10.0819 11.7672 10.0897 11.8834 10.1049V11.4964C11.7713 11.4625 11.6519 11.4442 11.5281 11.4442C10.8771 11.4442 10.3494 11.95 10.3494 12.5739C10.3494 13.1978 10.8771 13.7036 11.5281 13.7036C12.179 13.7036 12.7067 13.1978 12.7067 12.5739V7.21604H14.1281C14.1281 8.25285 15.005 9.09336 16.0867 9.09336Z"';return t.push(b.addBlockCSS(`div[id^="douyin-header-menu"] pace-island > div > div:has(path[${e}])`,'body .semi-portal .semi-portal-inner li.semi-dropdown-item:has(a[href*="douyin_recharge"])')),V.isSearch()?t.push(b.addBlockCSS(`div[id^="douyin-header-menu"] >  div > div > div:has(path[${e}])`)):V.isLive()&&t.push(b.addBlockCSS('#douyin-header pace-island[id^="island"] > div[class]:not([data-click]):has(div[data-e2e="something-button"]) > :has(path[d="M12.8013 19.9762C12.3693 20.4436 11.6307 20.4436 11.1986 19.9762L3.11756 11.2346C2.74913 10.8361 2.72958 10.2274 3.07168 9.80599L6.92716 5.05714C7.13438 4.8019 7.44562 4.65369 7.77439 4.65369H16.2256C16.5544 4.65369 16.8656 4.8019 17.0728 5.05714L20.9283 9.80599C21.2704 10.2274 21.2508 10.8361 20.8824 11.2346L12.8013 19.9762ZM4.45944 10.4765L12 18.6334L19.5405 10.4765L16.031 6.15369H7.96901L4.45944 10.4765ZM16.0867 9.09336L16.0954 10.4557C15.3615 10.4557 14.6822 10.2315 14.1281 9.85065V12.5739C14.1281 13.9502 12.964 15.0659 11.5281 15.0659C10.0922 15.0659 8.9281 13.9502 8.9281 12.5739C8.9281 11.1976 10.0922 10.0819 11.5281 10.0819C11.6486 10.0819 11.7672 10.0897 11.8834 10.1049V11.4964C11.7713 11.4625 11.6519 11.4442 11.5281 11.4442C10.8771 11.4442 10.3494 11.95 10.3494 12.5739C10.3494 13.1978 10.8771 13.7036 11.5281 13.7036C12.179 13.7036 12.7067 13.1978 12.7067 12.5739V7.21604H14.1281C14.1281 8.25285 15.005 9.09336 16.0867 9.09336Z"])')),t},shieldClient(){l.info("ã€å±è”½ã€‘å®¢æˆ·ç«¯");let t=[];return t.push(b.addBlockCSS('#douyin-right-container pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) .dy-tip-container','div[id^="douyin-header-menu"] pace-island > div > div[aria-describedby]:has(a[download^="douyin-downloader"])','div[id^="douyin-header-menu"] pace-island > div > div[aria-describedby]:has(a[href*="/douyin-pc-web/"])')),V.isSearch()?t.push(b.addBlockCSS('div:has(> div[data-e2e="something-button"] path[d="M18.404 19.018h-12v-1.5h12v1.5zM11.654 13.457v-8.19h1.5v8.19l3.22-3.22 1.06 1.061-4.5 4.5a.75.75 0 01-1.06 0l-4.5-4.5 1.06-1.06 3.22 3.22z"])','div[id^="douyin-header-menu"] >  div > div > div:has(a[download^="douyin-downloader"])')):V.isLive()&&t.push(b.addBlockCSS('#douyin-header pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) .dy-tip-container:has(a)','#douyin-header pace-island[id^="island"] > div[class] span:has(a[download][href*="client"])','.semi-portal-inner .semi-dropdown-content .semi-dropdown-item:has(a[download][href*="client"])')),t},shieldQuickAccess(){l.info("ã€å±è”½ã€‘å¿«æ·è®¿é—®");let t=[];return t.push(b.addBlockCSS('header pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) > :has(.quick-access-nav-icon)','div[id^="douyin-header-menu"] pace-island > div > div:has(.quick-access-nav-icon)')),V.isSearch()?(t.push(b.addBlockCSS("div:has(>div>div>.quick-access-nav-icon)")),v.waitNode('li.semi-dropdown-item[role="menuitem"]:contains("å¿«æ·è®¿é—®")',1e4).then(e=>{e==null||e.remove();})):V.isLive(),t},shieldNotifitation(){l.info("ã€å±è”½ã€‘é€šçŸ¥");let t=[];return t.push(b.addBlockCSS('#douyin-right-container #douyin-header-menuCt pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) > :has(path[d="M11.9998 4.50037C9.02034 4.50037 6.55167 6.81159 6.35561 9.78463L5.94855 15.9572H18.0507L17.6441 9.78506C17.4482 6.81184 14.9795 4.50037 11.9998 4.50037ZM7.85236 9.88334C7.99643 7.6987 9.81045 6.00037 11.9998 6.00037C14.1893 6.00037 16.0034 7.69888 16.1473 9.88365L16.4486 14.4572H7.55073L7.85236 9.88334Z"])')),V.isSearch()?t.push(b.addBlockCSS('div[id^="douyin-header-menu"] >  div > div > ul:has(path[d="M11.9998 4.50037C9.02034 4.50037 6.55167 6.81159 6.35561 9.78463L5.94855 15.9572H18.0507L17.6441 9.78506C17.4482 6.81184 14.9795 4.50037 11.9998 4.50037ZM7.85236 9.88334C7.99643 7.6987 9.81045 6.00037 11.9998 6.00037C14.1893 6.00037 16.0034 7.69888 16.1473 9.88365L16.4486 14.4572H7.55073L7.85236 9.88334Z"])')):V.isLive()&&t.push(b.addBlockCSS('div[id^="douyin-header-menu"] pace-island[id^="island"] > * > :has(path[d="M11.9998 4.50037C9.02034 4.50037 6.55167 6.81159 6.35561 9.78463L5.94855 15.9572H18.0507L17.6441 9.78506C17.4482 6.81184 14.9795 4.50037 11.9998 4.50037ZM7.85236 9.88334C7.99643 7.6987 9.81045 6.00037 11.9998 6.00037C14.1893 6.00037 16.0034 7.69888 16.1473 9.88365L16.4486 14.4572H7.55073L7.85236 9.88334Z"])')),t},shieldPrivateMessage(){l.info("ã€å±è”½ã€‘ç§ä¿¡");let t=[];return t.push(b.addBlockCSS('#douyin-right-container pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) > ul:has(div[data-e2e="im-entry"])','#douyin-header pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) > ul:has(div[data-e2e="im-entry"])')),V.isSearch()&&(l.info("æœç´¢-ã€å±è”½ã€‘ç§ä¿¡"),t.push(b.addBlockCSS('ul:has( div>div[data-e2e="im-entry"] )','div[id^="douyin-header-menu"] >  div > div > ul:has([data-e2e="im-entry"])'))),t},shieldSubmission(){l.info("ã€å±è”½ã€‘æŠ•ç¨¿");let t=[];const e='d="M11.3487 4.90125H11.3164H11.3164C10.2479 4.90124 9.40104 4.90124 8.71799 4.95587C8.01959 5.01173 7.42807 5.12824 6.88626 5.39747C5.95866 5.8584 5.20716 6.60991 4.74622 7.53751C4.477 8.07932 4.36048 8.67084 4.30462 9.36923C4.24999 10.0523 4.24999 10.8991 4.25 11.9677V12V12.0322C4.24999 13.1008 4.24999 13.9477 4.30462 14.6307C4.36048 15.3291 4.477 15.9206 4.74622 16.4624C5.20716 17.39 5.95866 18.1415 6.88626 18.6025C7.42807 18.8717 8.01959 18.9882 8.71799 19.0441C9.40104 19.0987 10.2479 19.0987 11.3164 19.0987H11.3487H12.6513H12.6836C13.7521 19.0987 14.599 19.0987 15.282 19.0441C15.9804 18.9882 16.5719 18.8717 17.1137 18.6025C18.0413 18.1415 18.7928 17.39 19.2538 16.4624C19.523 15.9206 19.6395 15.3291 19.6954 14.6307C19.75 13.9477 19.75 13.1008 19.75 12.0322V12V11.9677C19.75 10.8991 19.75 10.0523 19.6954 9.36923C19.6395 8.67084 19.523 8.07932 19.2538 7.53751C18.7928 6.60991 18.0413 5.8584 17.1137 5.39747C16.5719 5.12824 15.9804 5.01173 15.282 4.95587C14.599 4.90124 13.7521 4.90124 12.6836 4.90125H12.6513H11.3487ZM7.55376 6.74077C7.8529 6.59212 8.22981 6.4997 8.83757 6.45109C9.45382 6.4018 10.2407 6.40125 11.3487 6.40125H12.6513C13.7593 6.40125 14.5462 6.4018 15.1624 6.45109C15.7702 6.4997 16.1471 6.59212 16.4462 6.74077C17.0809 7.05614 17.5951 7.57033 17.9105 8.205C18.0591 8.50414 18.1515 8.88105 18.2002 9.48882C18.2494 10.1051 18.25 10.8919 18.25 12C18.25 13.108 18.2494 13.8949 18.2002 14.5111C18.1515 15.1189 18.0591 15.4958 17.9105 15.7949C17.5951 16.4296 17.0809 16.9438 16.4462 17.2592C16.1471 17.4078 15.7702 17.5002 15.1624 17.5488C14.5462 17.5981 13.7593 17.5987 12.6513 17.5987H11.3487C10.2407 17.5987 9.45382 17.5981 8.83757 17.5488C8.22981 17.5002 7.8529 17.4078 7.55376 17.2592C6.91909 16.9438 6.4049 16.4296 6.08952 15.7949C5.94088 15.4958 5.84846 15.1189 5.79985 14.5111C5.75056 13.8949 5.75 13.108 5.75 12C5.75 10.8919 5.75056 10.1051 5.79985 9.48882C5.84846 8.88105 5.94088 8.50414 6.08952 8.205C6.4049 7.57033 6.91909 7.05614 7.55376 6.74077ZM11.25 15V12.75H9V11.25H11.25V8.99997H12.75V11.25H15V12.75H12.75V15H11.25Z"';return t.push(b.addBlockCSS(`div[id^="douyin-header-menu"] pace-island > div > div:has(path[${e}])`)),V.isSearch()?t.push(b.addBlockCSS(`div[id^="douyin-header-menu"] >  div > div > div:has(path[${e}])`)):V.isLive()&&t.push(b.addBlockCSS('#douyin-header pace-island[id^="island"] > div[class]:has(div[data-e2e="something-button"]) > :has(ul[data-e2e="cooperate-list"])')),t},shieldClientTip(){l.info("ã€å±è”½ã€‘å®¢æˆ·ç«¯æç¤º");let t=[];return t.push(b.addBlockCSS('ul li div[data-e2e="something-button"] + div div:has(>a[download*="douyin-downloader"])','#douyin-header pace-island[id^="island_"] ul > div:has(>a[class][download])','#douyin-header pace-island[id^="island_"] ul[class] li div[data-e2e="im-entry"]  div>div div div:has(a[download][href])','#douyin-header header div[id^="douyin-header-menu"] pace-island[id^="island_"] .dy-tip-container div:has(+ #wallpaper-modal)')),V.isSearch()&&t.push(b.addBlockCSS('div[id^="douyin-header-menu"] ul li div[data-e2e="im-entry"] div > div > div:has(>a[download*="douyin-downloader"])','div[id^="douyin-header-menu"] ul > div:has(>a[download*="douyin-downloader"])')),t},shieldWallpaper(){l.info("ã€å±è”½ã€‘å£çº¸");let t=[];return t.push(b.addBlockCSS('div[id^="douyin-header-menu"] pace-island > div > div:has(span.semi-icon path[d="M9.10335 4.79386C8.86882 4.64984 8.57425 4.64585 8.3359 4.78346C8.09755 4.92108 7.95372 5.17818 7.96117 5.4533L8.05873 9.05336L5.31808 11.3898C5.10864 11.5683 5.01381 11.8473 5.07104 12.1165C5.12826 12.3857 5.32833 12.6019 5.59229 12.6798L9.0463 13.6995L10.4215 17.028C10.5266 17.2824 10.7625 17.4588 11.0362 17.4875C11.3099 17.5163 11.5774 17.3929 11.7331 17.1659L13.3237 14.8471L16.4638 19.3577L17.6949 18.5007L14.6505 14.1276L17.3608 13.9168C17.6352 13.8954 17.8758 13.7255 17.9878 13.4741C18.0997 13.2226 18.065 12.9301 17.8972 12.7119L15.7022 9.85673L16.5462 6.35562C16.6107 6.08806 16.5234 5.80667 16.3189 5.62251C16.1144 5.43835 15.8254 5.38101 15.566 5.47312L12.1723 6.67838L9.10335 4.79386ZM9.56789 9.37117L9.49812 6.79649L11.693 8.14425C11.8862 8.26291 12.1227 8.28777 12.3364 8.21188L14.7635 7.34991L14.16 9.85382C14.1068 10.0743 14.1563 10.3069 14.2945 10.4867L15.8643 12.5286L13.2964 12.7284C13.0704 12.746 12.8644 12.8649 12.7361 13.0519L11.2792 15.1758L10.2957 12.7954C10.2091 12.5858 10.0324 12.4267 9.81491 12.3624L7.34469 11.6332L9.30473 9.96224C9.47729 9.81513 9.57403 9.59784 9.56789 9.37117Z"])')),V.isSearch()?t.push(b.addBlockCSS('div[id^="douyin-header-menu"] >  div > div > div:has(span.semi-icon path[d="M9.10335 4.79386C8.86882 4.64984 8.57425 4.64585 8.3359 4.78346C8.09755 4.92108 7.95372 5.17818 7.96117 5.4533L8.05873 9.05336L5.31808 11.3898C5.10864 11.5683 5.01381 11.8473 5.07104 12.1165C5.12826 12.3857 5.32833 12.6019 5.59229 12.6798L9.0463 13.6995L10.4215 17.028C10.5266 17.2824 10.7625 17.4588 11.0362 17.4875C11.3099 17.5163 11.5774 17.3929 11.7331 17.1659L13.3237 14.8471L16.4638 19.3577L17.6949 18.5007L14.6505 14.1276L17.3608 13.9168C17.6352 13.8954 17.8758 13.7255 17.9878 13.4741C18.0997 13.2226 18.065 12.9301 17.8972 12.7119L15.7022 9.85673L16.5462 6.35562C16.6107 6.08806 16.5234 5.80667 16.3189 5.62251C16.1144 5.43835 15.8254 5.38101 15.566 5.47312L12.1723 6.67838L9.10335 4.79386ZM9.56789 9.37117L9.49812 6.79649L11.693 8.14425C11.8862 8.26291 12.1227 8.28777 12.3364 8.21188L14.7635 7.34991L14.16 9.85382C14.1068 10.0743 14.1563 10.3069 14.2945 10.4867L15.8643 12.5286L13.2964 12.7284C13.0704 12.746 12.8644 12.8649 12.7361 13.0519L11.2792 15.1758L10.2957 12.7954C10.2091 12.5858 10.0324 12.4267 9.81491 12.3624L7.34469 11.6332L9.30473 9.96224C9.47729 9.81513 9.57403 9.59784 9.56789 9.37117Z"])')):V.isLive()&&t.push(b.addBlockCSS('#douyin-header header div[id^="douyin-header-menu"] pace-island[id^="island_"] .dy-tip-container:has(span.semi-icon)','#douyin-header pace-island[id^="island"] > div[class] span:has(.semi-icon)')),t},shieldBottomQuestionButton(){return l.info("å±è”½åº•éƒ¨é—®é¢˜æŒ‰é’®"),b.addBlockCSS(["#douyin-sidebar","#douyin-temp-sidebar"])},shieldRightMenu(){return l.info("ã€å±è”½ã€‘å³ä¾§èœå•æ "),b.addBlockCSS('div[id^="douyin-header-menu"]')},shieldRightMenuMore(){return l.info("ã€å±è”½ã€‘æ›´å¤š"),b.addBlockCSS('#douyin-header header div[id^="douyin-header-menu"] pace-island > div > div:has(path[d="M17 8.75H7V7.25H17V8.75ZM17 12.75H7V11.25H17V12.75ZM7 16.75H17V15.25H7V16.75Z"])')},shieldRightMenuLoginAvatar(){return l.info("ã€å±è”½ã€‘ç™»å½•å¤´åƒ"),b.addBlockCSS('#douyin-header header div[id^="douyin-header-menu"] pace-island > div > div:has(path[d="M6.484 43.177c4.765-5.408 11.743-8.821 19.517-8.821 7.775 0 14.753 3.413 19.517 8.821C40.754 48.587 33.776 52 26.001 52c-7.774 0-14.752-3.413-19.517-8.822zM35.287 21.356a9.286 9.286 0 1 1-18.571 0 9.286 9.286 0 0 1 18.571 0z"])','#douyin-header header div[id^="douyin-header-menu"] pace-island > div > div:has([data-e2e="live-avatar"])')},shieldAISearch(){return l.info("ã€å±è”½ã€‘AIæœç´¢"),b.addBlockCSS('#douyin-header header div:has(>svg g[clip-path*="aiSearch"])')}},Kt={init(){u.execMenuOnce("shieldSearch",()=>this.shieldSearch()),u.execMenuOnce("shieldSearchPlaceholder",()=>this.shieldSearchPlaceholder()),u.execMenuOnce("shieldSearchGuessYouWantToSearch",()=>this.shieldSearchGuessYouWantToSearch()),u.execMenuOnce("shieldSearchTiktokHotspot",()=>this.shieldSearchTiktokHotspot());},shieldSearch(){return l.info("ã€å±è”½ã€‘æœç´¢æ¡†"),b.addBlockCSS('#douyin-header div[data-click="doubleClick"] > div[data-click="doubleClick"] > div:has(input[data-e2e="searchbar-input"])')},shieldSearchPlaceholder(){l.info("ã€å±è”½ã€‘æœç´¢æ¡†çš„æç¤º");let t=[];return t.push(b.addBlockCSS('#douyin-header div[data-click="doubleClick"] > div[data-click="doubleClick"] > div div:has( + input[data-e2e="searchbar-input"])')),t.push(B(`
			#douyin-header div[data-click="doubleClick"] > div[data-click="doubleClick"] > div input[data-e2e="searchbar-input"]::placeholder{
				color: transparent;
			}`)),t},shieldSearchGuessYouWantToSearch(){return l.info("ã€å±è”½ã€‘æœç´¢-çŒœä½ æƒ³æœ"),b.addBlockCSS('button[data-e2e="searchbar-button"] + div div:has( + div[data-e2e="search-guess-container"])','button[data-e2e="searchbar-button"] + div div[data-e2e="search-guess-container"]')},shieldSearchTiktokHotspot(){return l.info("ã€å±è”½ã€‘æœç´¢-æŠ–éŸ³çƒ­ç‚¹"),b.addBlockCSS('button[data-e2e="searchbar-button"] + div div:has( + div[data-e2e="search-hot-container"])','button[data-e2e="searchbar-button"] + div div[data-e2e="search-hot-container"]')}},ft={$data:{document_addEventListener:[],element_addEventListener:[],setTimeout:[],setInterval:[],function_apply:[],function_call:[],defineProperty:[]},document_addEventListener(t){if(this.$data.document_addEventListener.push(t),l.info("document.addEventListener hookæ–°å¢žåŠ«æŒåˆ¤æ–­å›žè°ƒ"),this.$data.document_addEventListener.length>1)return;const e=this;let i=new WeakMap;const o=T.document.addEventListener,n=T.document.removeEventListener;T.document.addEventListener=function(...a){let d=this,s=a[0],r=a[1],c=a[2];for(let h=0;h<e.$data.document_addEventListener.length;h++){const f=e.$data.document_addEventListener[h],m=Reflect.apply(f,this,[d,s,r,c]);if(typeof m=="function"){a[1]=m,i.set(r,{eventName:s,fn:m,options:c});break}else if(typeof m=="boolean"&&!m)return}return Reflect.apply(o,this,a)},T.document.removeEventListener=function(...a){let d=a[0],s=a[1],r=a[2];if(i.has(s)){const{eventName:c,fn:h,options:f}=i.get(s);let m=false;d===c&&(typeof r=="boolean"&&r===f||typeof r=="object"&&typeof f=="object"&&r.capture===f.capture||r==r)&&(m=true),m&&(a[1]=h);}return Reflect.apply(n,this,a)};},element_addEventListener(t){if(this.$data.element_addEventListener.push(t),l.info("Element.prototype.addEventListener hookæ–°å¢žåŠ«æŒåˆ¤æ–­å›žè°ƒ"),this.$data.element_addEventListener.length>1)return;const e=this;let i=new WeakMap;const o=T.Element.prototype.addEventListener,n=T.Element.prototype.removeEventListener;T.Element.prototype.addEventListener=function(...a){let d=this,s=a[0],r=a[1],c=a[2];for(let h=0;h<e.$data.element_addEventListener.length;h++){const f=e.$data.element_addEventListener[h],m=Reflect.apply(f,this,[d,s,r,c]);if(typeof m=="function"){a[1]=m,i.set(r,{eventName:s,fn:m,options:c});break}else if(typeof m=="boolean"&&!m)return}return Reflect.apply(o,this,a)},T.Element.prototype.removeEventListener=function(...a){let d=a[0],s=a[1],r=a[2];if(i.has(s)){const{eventName:c,fn:h,options:f}=i.get(s);let m=false;c===d&&(typeof r=="boolean"&&r===f||typeof r=="object"&&typeof f=="object"&&r.capture===f.capture||r==f)&&(m=true),m&&(a[1]=h);}return Reflect.apply(n,this,a)};},setTimeout(t){if(this.$data.setTimeout.push(t),l.info("window.setTimeout hookæ–°å¢žåŠ«æŒ"),this.$data.setTimeout.length>1)return;const e=this;let i=T.setTimeout;T.setTimeout=function(...o){let n=o[0],a=o[1];for(let d=0;d<e.$data.setTimeout.length;d++){const s=e.$data.setTimeout[d],r=s(n,a);if(typeof r=="boolean"&&!r)return}return Reflect.apply(i,this,o)};},setInterval(t){if(this.$data.setInterval.push(t),l.info("window.setInterval hookæ–°å¢žåŠ«æŒ"),this.$data.setInterval.length>1)return;const e=this;let i=T.setInterval;T.setInterval=function(...o){let n=o[0],a=o[1];for(let d=0;d<e.$data.setInterval.length;d++){const s=e.$data.setInterval[d],r=s(n,a);if(typeof r=="boolean"&&!r)return}return Reflect.apply(i,this,o)};},function_apply(t){if(this.$data.function_apply.push(t),l.info("Function.prototype.apply hookæ–°å¢žåŠ«æŒ"),this.$data.function_apply.length>1)return;const e=this;let i=T.Function.prototype.apply;T.Function.prototype.apply=function(...o){let n=o[0],a=o[1],d=this;for(let s=0;s<e.$data.function_apply.length;s++){const r=e.$data.function_apply[s],c=r(d,n,a);if(c!=null){o[0]=c.thisArg,o[1]=c.argArray,d=c.context;break}}return Reflect.apply(i,d,o)};},function_call(t){if(this.$data.function_call.push(t),l.info("Function.prototype.call hookæ–°å¢žåŠ«æŒ"),this.$data.function_call.length>1)return;const e=this;let i=T.Function.prototype.call;T.Function.prototype.call=function(...o){let n=o[0],a=o.slice(1),d=this;for(let s=0;s<e.$data.function_call.length;s++){const r=e.$data.function_call[s],c=r(d,n,a);if(c!=null){o[0]=c.thisArg,o.splice(1,a.length,...c.argArray),d=c.context;break}}return Reflect.apply(i,d,o)};},defineProperty(t){if(this.$data.defineProperty.push(t),l.info("Object.defineProperty hookæ–°å¢žåŠ«æŒ"),this.$data.defineProperty.length>1)return;const e=this;let i=T.Object.defineProperty;T.Object.defineProperty=function(...o){let n=o[0],a=o[1],d=o[2];for(let s=0;s<e.$data.defineProperty.length;s++){const r=e.$data.defineProperty[s],c=r(n,a,d);if(c!=null){o[0]=c.target,o[1]=c.key,o[2]=c.attributes;break}}return Reflect.apply(i,this,o)};},window_webpack(t="webpackJsonp",e,i){let o;T.Object.defineProperty(T,t,{get(){return o},set(n){l.success("æˆåŠŸåŠ«æŒwebpackï¼Œå½“å‰webpackåï¼š"+t),o=n;const a=o.push;o.push=function(...d){let s=d[0][0];return (e==s||Array.isArray(e)&&Array.isArray(s)&&JSON.stringify(e)===JSON.stringify(s))&&Object.keys(d[0][1]).forEach(r=>{let c=d[0][1][r];d[0][1][r]=function(...h){let f=c.call(this,...h);return h[0]=i(h[0]),f};}),Reflect.apply(a,this,d)};}});}},Me={$data:{hookElementAddEventListener:[]},init(){u.onceExec("hookKeyboard",()=>{Me.disableShortCut();}),u.execMenu("dy-cookie-remove__ac__",()=>{this.removeCookie();}),V.isIndex()?u.execMenuOnce("dy-video-disableDoubleClickLike",()=>{Me.disableDoubleClickLike();}):V.isLive()&&u.execMenuOnce("dy-live-disableDoubleClickLike",()=>{Me.disableDoubleClickLike();});},removeEnvCheck(){l.info("ç§»é™¤çŽ¯å¢ƒæ£€æµ‹");let t=T.setInterval;T.setInterval=function(e,i){let o=e.toString().trim();if(o.includes("debugger")){l.success(["æ‹¦æˆªâ†’",[o]]);return}if(o.includes("checkEXp")){l.success(["æ‹¦æˆªâ†’",[o]]);return}return t.call(this,e,i)};},removeCookie(){let t=new v.GM_Cookie;["__ac_signature","__ac_referer","__ac_nonce"].forEach(i=>{t.delete({name:i,firstPartyDomain:""},o=>{o?l.error(`ç§»é™¤Cookieå¤±è´¥ ==> ${i}`,o):l.success(`ç§»é™¤CookieæˆåŠŸ ==> ${i}`);});});},disableShortCut(){ft.document_addEventListener((t,e,i,o)=>{if(["keydown","keypress","keyup"].includes(e)&&typeof i=="function")return function(...n){let a=n[0];a.key;let d=a.code;a.charCode||a.keyCode||a.which;let s=[];a.ctrlKey&&s.push("ctrl"),a.altKey&&s.push("alt"),a.metaKey&&s.push("meta"),a.shiftKey&&s.push("shift");let r=[{enableKey:"dy-keyboard-hook-likeOrDislike",code:["KeyZ"]},{enableKey:"dy-keyboard-hook-comment",code:["KeyX"]},{enableKey:"dy-keyboard-hook-danmaku-enable",code:["KeyB"]},{enableKey:"dy-keyboard-hook-collect-enable",code:["KeyC"]},{enableKey:"dy-keyboard-hook-copyShareLink",code:["KeyV"]},{enableKey:"dy-keyboard-hook-clearScreen",code:["KeyJ"]},{enableKey:"dy-keyboard-hook-automaticBroadcast",code:["KeyK"]},{enableKey:"dy-keyboard-hook-videoInfo",code:["KeyI"]},{enableKey:"dy-keyboard-hook-notInterested",code:["KeyR"]},{enableKey:"dy-keyboard-hook-enterAuthorHomePage",code:["KeyF"]},{enableKey:"dy-keyboard-hook-follow",code:["KeyG"]},{enableKey:"dy-keyboard-hook-search",code:["KeyF"],otherCodeList:["shift"]},{enableKey:"dy-keyboard-hook-closeTheCurrentPageWithOneClick",code:["KeyQ"],otherCodeList:["shift"]},{enableKey:"dy-keyboard-hook-pageUpAndDown",code:["ArrowUp","ArrowDown"]},{enableKey:"dy-keyboard-hook-fastForwardAndFastBack",code:["ArrowLeft","ArrowRight"]},{enableKey:"dy-keyboard-hook-pause",code:["Space"]},{enableKey:"dy-keyboard-hook-fullScreenInsideThePage",code:["KeyY"]},{enableKey:"dy-keyboard-hook-fullScreen",code:["KeyH"]},{enableKey:"dy-keyboard-hook-watchItOutLater",code:["KeyL"]},{enableKey:"dy-keyboard-hook-volumeAdjustment",code:["Minus"],otherCodeList:["shift"]},{enableKey:"dy-keyboard-hook-listOfCallShortcutKeys",code:["Slash"],otherCodeList:["shift"]},{enableKey:"dy-keyboard-hook-closeTheShortcutKeyList",code:["Escape"]},{enableKey:"dy-keyboard-hook-relevantRecommendation",code:["KeyN"]}];V.isIndex()?r.push({enableKey:"dy-keyboard-hook-arrowUp-w",code:["KeyW"]},{enableKey:"dy-keyboard-hook-arrowDown-s",code:["KeyS"]},{enableKey:"dy-keyboard-hook-videoRewind",code:["KeyA"]},{enableKey:"dy-keyboard-hook-videoFastForward",code:["KeyD"]}):V.isLive()&&r.push({enableKey:"dy-live-refresh",code:["KeyE"]},{enableKey:"dy-live-screenRotation",code:["KeyD"]},{enableKey:"dy-live-enableSmallWindowMode",code:["KeyU"]});for(let c=0;c<r.length;c++){const h=r[c];if(h.code.includes(d)){if(Array.isArray(h.otherCodeList)&&h.otherCodeList.find(m=>!s.includes(m))||!u.getValue(h.enableKey))continue;return}}return Reflect.apply(i,this,n)}});},disableDoubleClickLike(){let t=Date.now();ft.element_addEventListener((e,i,o,n)=>{var d;const a=o.toString();if(i==="click"&&e instanceof HTMLElement&&((d=e==null?void 0:e.classList)!=null&&d.contains("xgplayer"))&&a.match(/video|innerContainer|video.__canvas|mouse/))return function(...s){let r=Date.now();if(r-t<=288){t=r,l.success("é˜»æ­¢è§¦å‘åŒå‡»ç‚¹èµž");return}t=r,Reflect.apply(o,this,s);}});}},mt={watchFeedVideoListChange(t){let e=null;g.ready(()=>{v.waitAnyNode(["#slidelist",'#search-content-area ul[data-e2e="scroll-list"]']).then(i=>{l.info("å¯ç”¨è§‚å¯Ÿå™¨è§‚å¯ŸåŠ è½½çš„è§†é¢‘");let o=new v.LockFunction(n=>{if(e=e||this.getOSElement(),!e){l.error("watchVideDataListChangeï¼šèŽ·å–osElementå¤±è´¥");return}t(e,n);},50);v.mutationObserver(document,{config:{childList:true,subtree:true},immediate:true,callback:(n,a)=>{o.run(a);}});});});},getOSElement(){return Q("#root div[class*='-os']")||Q("#douyin-right-container")}},Lt={__ajaxHooker:null,get ajaxHooker(){return this.__ajaxHooker==null&&(this.__ajaxHooker=v.ajaxHooker()),this.__ajaxHooker},init(){},commentReply(){this.ajaxHooker.hook(t=>{let e=b.fixUrl(t.url),i=new URL(e);i.pathname.startsWith("/aweme/v1/web/comment/list/reply")&&(i.searchParams.delete("whale_cut_token"),i.searchParams.append("whale_cut_token",""),t.url=i.toString());});},hookUserNoLoginResponse(){this.ajaxHooker.hook(t=>{let e=t.response;t.response=i=>{var n,a,d;e&&e(i);let o=v.toJSON(i.responseText);typeof o.status_code=="number"&&o.status_code!==0&&(o.status_code=0,typeof o.status_msg=="string"&&(o.status_msg="")),typeof((n=o==null?void 0:o.user_collect_count)==null?void 0:n.status_code)=="number"&&((a=o==null?void 0:o.user_collect_count)==null?void 0:a.status_code)!==0&&(o.user_collect_count.status_code=0,typeof((d=o==null?void 0:o.user_collect_count)==null?void 0:d.status_msg)=="string"&&(o.user_collect_count.status_msg="")),i.responseText=JSON.stringify(o);};});}},vt={disguiseLogin(){l.info("ä¼ªè£…ç™»å½•"),Lt.hookUserNoLoginResponse();const t=2e4;let i={uid:114514,secUid:"",shortId:"",realName:"",nickname:"ä¹Œè¨å¥‡",desc:"é™¤è‰è¯3çº§",gender:0,avatarUrl:"https://www.z4a.net/images/2025/02/28/008DOnfHgy1hxpz9zshl4g30hs0hsnpj.gif",avatar300Url:"https://www.z4a.net/images/2025/02/28/008DOnfHgy1hxpz9zshl4g30hs0hsnpj.gif",followStatus:0,followerStatus:0,awemeCount:0,watchLaterCount:0,followingCount:0,followerCount:0,followerCountStr:"",mplatformFollowersCount:9999999,favoritingCount:0,totalFavorited:9999999,userCollectCount:{logPb:{impr_id:""},collectCountList:[],statusCode:0,extra:{fatal_item_ids:[],logid:"",now:Date.now()}},uniqueId:"",customVerify:"",generalPermission:{is_hit_active_fans_grayed:false},age:new Date().getFullYear()-2019,country:"",province:"",city:"",district:"",school:"chiikawa",schoolVisible:1,enterpriseVerifyReason:"",secret:1,userCanceled:false,roomData:{},shareQrcodeUrl:"",shareInfo:{boolPersist:1,shareDesc:"é•¿æŒ‰å¤åˆ¶æ­¤æ¡æ¶ˆæ¯ï¼Œæ‰“å¼€æŠ–éŸ³æœç´¢ï¼ŒæŸ¥çœ‹TAçš„æ›´å¤šä½œå“ã€‚",shareImageUrl:{uri:"",url_list:[]},shareQrcodeUrl:{uri:"",url_list:[]},shareUrl:"",shareWeiboDesc:"é•¿æŒ‰å¤åˆ¶æ­¤æ¡æ¶ˆæ¯ï¼Œæ‰“å¼€æŠ–éŸ³æœç´¢ï¼ŒæŸ¥çœ‹TAçš„æ›´å¤šä½œå“ã€‚"},coverAndHeadImageInfo:{profileCoverList:[]},roomId:0,favoritePermission:1,viewHistoryPermission:true,isGovMediaVip:false,isStar:false,hideLocation:false,needSpecialShowFollowerCount:false,continuationState:0,im_role_ids:[],accountCertInfo:{},close_consecutive_chat:0};function o(a){var c,h,f,m,y,x,k,S,M,L,w,E,_,R,P,D,F,K,G,ie,z,he,N,U,le,ve,pe,ye,Ce,we;let d=[],s=v.getReactObj(a),r=s==null?void 0:s.reactFiber;return s==null||s.reactProps,(f=(h=(c=r==null?void 0:r.alternate)==null?void 0:c.return)==null?void 0:h.memoizedProps)!=null&&f.userInfo&&d.push((x=(y=(m=r==null?void 0:r.alternate)==null?void 0:m.return)==null?void 0:y.memoizedProps)==null?void 0:x.userInfo),(L=(M=(S=(k=r==null?void 0:r.alternate)==null?void 0:k.return)==null?void 0:S.memoizedProps)==null?void 0:M.userInfo)!=null&&L.userInfo&&d.push((_=(E=(w=r==null?void 0:r.alternate)==null?void 0:w.return)==null?void 0:E.memoizedProps)==null?void 0:_.userInfo.userInfo),(F=(D=(P=(R=r==null?void 0:r.alternate)==null?void 0:R.return)==null?void 0:P.return)==null?void 0:D.memoizedProps)!=null&&F.userInfo&&d.push((z=(ie=(G=(K=r==null?void 0:r.alternate)==null?void 0:K.return)==null?void 0:G.return)==null?void 0:ie.memoizedProps)==null?void 0:z.userInfo),(ve=(le=(U=(N=(he=r==null?void 0:r.alternate)==null?void 0:he.return)==null?void 0:N.return)==null?void 0:U.memoizedProps)==null?void 0:le.userInfo)!=null&&ve.userInfo&&d.push((we=(Ce=(ye=(pe=r==null?void 0:r.alternate)==null?void 0:pe.return)==null?void 0:ye.return)==null?void 0:Ce.memoizedProps)==null?void 0:we.userInfo.userInfo),d}function n(a){o(a).forEach(d=>{d.isLogin||(d.info=i,d.isLogin=true,d.statusCode=0);});}if(mt.watchFeedVideoListChange(a=>{n(a);}),v.waitNode("#root div[class*='-os']",t).then(()=>{let a=new v.LockFunction(()=>{let d=mt.getOSElement();d&&n(d);},70);v.mutationObserver(document.body,{config:{subtree:true,childList:true},immediate:true,callback:()=>{a.run();}});}).catch(a=>{}),this.watchCommentDialogToClose(),V.isLive())l.info("ä¼ªè£…ç™»å½•ï¼šlive"),v.waitNode('[id^="douyin-header"] div:has(.dy-tip-container)',t).then(()=>{let a=new v.LockFunction(()=>{n(Q('[id^="douyin-header"]'));},70);v.mutationObserver(document.body,{config:{subtree:true,childList:true},callback:()=>{a.run();}});});else if(V.isSearch()){let a=function(d){var c,h,f,m,y,x,k;let s=v.getReactObj(d);s==null||s.reactFiber;let r=s==null?void 0:s.reactProps;typeof((m=(f=(h=(c=r==null?void 0:r.children)==null?void 0:c[1])==null?void 0:h.props)==null?void 0:f.userInfo)==null?void 0:m.isLogin)=="boolean"&&Reflect.set(r.children[1].props.userInfo,"isLogin",true),typeof((k=(x=(y=r==null?void 0:r.children)==null?void 0:y[1])==null?void 0:x.props)==null?void 0:k.isClient)=="boolean"&&Reflect.set(r.children[1].props,"isClient",true);};l.info("ä¼ªè£…ç™»å½•ï¼šsearch"),v.waitNode("#root > div",t).then(d=>{if(!d){l.error("#root > divèŽ·å–å¤±è´¥");return}let s=new v.LockFunction(()=>{a(d);},70);v.mutationObserver(document,{config:{subtree:true,childList:true},callback:()=>{s.run();}});});}},watchLoginDialogToClose(){l.info("ç›‘å¬ç™»å½•å¼¹çª—å¹¶å…³é—­");let t=[b.addBlockCSS('body > div[id^="login-full-panel-"]')],e=new v.LockFunction(()=>{var o;if(!u.getValue("watchLoginDialogToClose"))return;let i=Q('body > div[id^="login-full-panel-"]');if(i){let n=i.querySelector(".dy-account-close")||i.querySelector('div:has(>svg path[d="M12.7929 22.2426C12.4024 22.6331 12.4024 23.2663 12.7929 23.6568C13.1834 24.0474 13.8166 24.0474 14.2071 23.6568L18.5 19.3639L22.7929 23.6568C23.1834 24.0474 23.8166 24.0474 24.2071 23.6568C24.5976 23.2663 24.5976 22.6331 24.2071 22.2426L19.9142 17.9497L24.1066 13.7573C24.4971 13.3668 24.4971 12.7336 24.1066 12.3431C23.7161 11.9526 23.0829 11.9526 22.6924 12.3431L18.5 16.5355L14.3076 12.3431C13.9171 11.9526 13.2839 11.9526 12.8934 12.3431C12.5029 12.7336 12.5029 13.3668 12.8934 13.7573L17.0858 17.9497L12.7929 22.2426Z"])');if(n){let a=v.getReactObj(n),d=(o=a==null?void 0:a.reactProps)==null?void 0:o.onClick;typeof d=="function"?d(new Event("click")):l.error("ç›‘å¬åˆ°ç™»å½•å¼¹çª—ä½†æ˜¯å…³é—­å¤±è´¥ï¼ŒæœªèŽ·å–åˆ°onClickå‡½æ•°");}else l.error("æœªæ‰¾åˆ°ç™»å½•å¼¹å‡ºçš„å…³é—­æŒ‰é’®ï¼Œæ­¤æ—¶é”®ç›˜è¢«èšç„¦åœ¨ç™»å½•å¼¹çª—ä¸Šä»Žè€Œå¯¼è‡´'å¿«æ·é”®'å¤±æ•ˆ",i);}});return v.mutationObserver(document,{config:{subtree:true,childList:true},callback:()=>{e.run();}}),t},watchCommentDialogToClose(){let t=new v.LockFunction(()=>{let e=Q('[id^="related-video-card-login-guide"]');if(!e)return;let i=e.querySelector(".related-video-card-login-guide__footer-close");if(!i){l.error("ç›‘å¬åˆ°è¯„è®ºåŒºçš„ç™»å½•é®ç½©å±‚ä½†æ˜¯æœªèŽ·å–åˆ°å…³é—­æŒ‰é’®");return}i.click();});return v.mutationObserver(document,{config:{subtree:true,childList:true},immediate:true,callback:()=>{t.run();}}),[b.addBlockCSS('[id^="related-video-card-login-guide"]'),B(`
			/* åŽ»é™¤é®ç½©å±‚ */
			[id^="related-video-card-login-guide"]+div{
				filter: none !important;
			}
		`)]}},Wt={isVerticalScreen(){return !window.screen.orientation.type.includes("landscape")}},Gt=`/* ç«–å±ä¸”é«˜åº¦å°äºŽ550px */\r
@media screen and (max-width: 550px) and (orientation: portrait) {\r
	/* å³ä¾§å·¥å…·æ æ”¾å¤§ */\r
	.basePlayerContainer .positionBox {\r
		bottom: 80px !important;\r
		padding-right: 5px !important;\r
		scale: unset !important;\r
		transform: scale3d(1.12, 1.12, 1.12) !important;\r
	}\r
	/* å³ä¾§å·¥å…·æ çš„svgå†æ”¾å¤§ */\r
	.basePlayerContainer .positionBox svg {\r
		transform: scale3d(1.12, 1.12, 1.12);\r
	}\r
	/* é‡ç½®å…³æ³¨æŒ‰é’®çš„scale */\r
	.basePlayerContainer\r
		.positionBox\r
		.dy-tip-container\r
		div[data-e2e="feed-follow-icon"]\r
		svg {\r
		scale: unset !important;\r
	}\r
\r
	/* è°ƒæ•´é¡¶éƒ¨æœç´¢æ¡†çš„å®½åº¦ */\r
	#douyin-header\r
		div[data-click="doubleClick"]\r
		> div[data-click="doubleClick"]\r
		> div:has(input[data-e2e="searchbar-input"]) {\r
		width: 150px;\r
		padding-right: 0;\r
		max-width: unset;\r
		flex: 1;\r
	}\r
	/* æœç´¢æ¡†èŽ·å–ç„¦ç‚¹æ—¶è‡ªåŠ¨æ”¾å¤§å®½åº¦ */\r
	#douyin-header\r
		div[data-click="doubleClick"]\r
		> div[data-click="doubleClick"]\r
		> div:has(input[data-e2e="searchbar-input"]:focus) {\r
		width: 100vw;\r
		width: 100dvw;\r
	}\r
	/* æœç´¢é¡µé¢ æœç´¢è¯¦æƒ…çš„å®½åº¦ã€è§†é¢‘ç»“æžœåˆ—è¡¨çš„å®½åº¦ */\r
	#search-content-area > div,\r
	#search-content-area > div div:has(+ #search-result-container),\r
	#search-content-area > div #search-result-container {\r
		width: 100%;\r
		width: -webkit-fill-available;\r
	}\r
	/* æœç´¢é¡µé¢ è§†é¢‘å³ä¾§çš„å·¥å…·æ ç¼©å° */\r
	#search-content-area .basePlayerContainer .positionBox {\r
		bottom: 28px !important;\r
		transform: scale3d(0.6, 0.6, 0.6) !important;\r
	}\r
	/* æœç´¢é¡µé¢ æœç´¢å‡ºçš„ç”¨æˆ·ä¿¡æ¯æ¢è¡Œ */\r
	#search-content-area\r
		#search-result-container\r
		ul[data-e2e="scroll-list"]\r
		li\r
		.search-result-card\r
		> div\r
		> div {\r
		flex-wrap: wrap;\r
	}\r
	/* æœç´¢é¡µé¢ æœç´¢ç»“æžœç­›é€‰é€‰é¡¹ ç»¼åˆã€è§†é¢‘ã€ç”¨æˆ·ã€ç›´æ’­çš„è¶…å‡ºå®½åº¦æ¢è¡Œ */\r
	#search-content-area div:has(> div > div > span[data-key="general"]) {\r
		overflow: auto;\r
		gap: 10px;\r
	}\r
	/* æœç´¢é¡µé¢ æœç´¢ç»“æžœç­›é€‰é€‰é¡¹ */\r
	#search-content-area div:has(> span[data-key="general"]) {\r
		gap: 10px;\r
	}\r
	/* æœç´¢é¡µé¢ æœç´¢ç»“æžœç­›é€‰é€‰é¡¹å¼¹çª—ä¿®å¤ */\r
	#search-content-area div:has(> div > span[data-key="general"]) {\r
		position: unset !important;\r
	}\r
	/* æœç´¢é¡µé¢ æœç´¢ç»“æžœç­›é€‰é€‰é¡¹ */\r
	#search-content-area div:has(> span[data-key="general"]) > * {\r
		white-space: nowrap !important;\r
		width: auto !important;\r
		width: fit-content !important;\r
		margin-left: 0px !important;\r
		margin-right: 0px !important;\r
	}\r
	/* åŽ»é™¤è®¾ç½®min-widthè¶…å‡ºæµè§ˆå™¨å®½åº¦çš„é—®é¢˜ */\r
	body {\r
		min-width: 100% !important;\r
	}\r
	/* åŽ»é™¤è®¾ç½®widthå¯¼è‡´é¡¶éƒ¨å·¥å…·æ è¶…å‡ºæµè§ˆå™¨å®½åº¦çš„é—®é¢˜ */\r
	#douyin-right-container #douyin-header {\r
		width: 100%;\r
	}\r
	/* åŽ»é™¤è®¾ç½® */\r
	#douyin-right-container #douyin-header > div[data-click="doubleClick"] {\r
		min-width: 100%;\r
	}\r
\r
	/* /video/xxxé¡µé¢ */\r
	/* ç‚¹èµžã€è¯„è®ºã€åˆ†äº«åç§» */\r
	div[data-e2e="video-detail"]\r
		.leftContainer\r
		.basePlayerContainer\r
		.positionBox {\r
		padding-right: 30px !important;\r
	}\r
	/* åº•éƒ¨å·¥å…·æ å³ä¾§çš„æŒ‰é’® */\r
	div[data-e2e="video-detail"]\r
		.leftContainer\r
		.xgplayer.xgplayer-pc\r
		.xg-right-grid {\r
		margin-right: 35px !important;\r
	}\r
	/* è¯„è®ºåŒºå…¨å± */\r
	div[data-e2e="video-detail"]\r
		.leftContainer\r
		> div:has(.comment-mainContent[data-e2e="comment-list"]),\r
	div[data-e2e="video-detail"]\r
		.leftContainer\r
		> div\r
		> div:has(.comment-mainContent[data-e2e="comment-list"]) {\r
		width: 100vw !important;\r
	}\r
\r
	/* è®¾ç½®è§†é¢‘åŒºåŸŸçš„é«˜åº¦ */\r
	#slidelist {\r
		width: 100vw;\r
		height: calc(100vh - var(--header-height)) !important;\r
	}\r
	/* ä¿®æ­£ç½‘é¡µå…¨å±ä¸‹çš„è§†é¢‘é«˜åº¦ */\r
	#slidelist[class*="isCssFullScreen"] {\r
		height: 100vh !important;\r
	}\r
	/* åŽ»é™¤è§†é¢‘åŒºåŸŸå³ä¾§åç§» */\r
	.is-mobile-pc div[data-e2e="slideList"] {\r
		padding-right: 0px !important;\r
		height: 100% !important;\r
		min-height: 100% !important;\r
	}\r
}\r
\r
/* æ¨ªå±ä¸”é«˜åº¦å°äºŽ550px */\r
@media screen and (max-height: 550px) and (orientation: landscape) {\r
	/* å³ä¾§å·¥å…·æ ç¼©å° */\r
	.basePlayerContainer .positionBox {\r
		transform: scale(0.95) !important;\r
		bottom: 42px !important;\r
		padding-right: 10px !important;\r
	}\r
	/* å³ä¾§å·¥å…·æ çš„svgå†ç¼©å° */\r
	.basePlayerContainer .positionBox svg {\r
		transform: scale3d(0.95, 0.95, 0.95);\r
	}\r
	/* ä¿®å¤å…¨å±ä¸‹ä¸æ˜¾ç¤ºè§†é¢‘åº•éƒ¨çš„æŽ§åˆ¶æ  */\r
	.isCssFullScreen [data-e2e="slideList"] {\r
		min-height: auto !important;\r
	}\r
}\r
`,zt={init(){u.execMenuOnce("dy-video-shieldUserCommentToolBar",()=>this.shieldUserCommentToolBar()),u.execMenuOnce("dy-video-shieldUserCommentEveryOneAllSearch",()=>this.shieldUserCommentEveryOneAllSearch());},shieldUserCommentToolBar(){return l.info("ã€å±è”½ã€‘è¯„è®ºå·¥å…·æ "),[b.addBlockCSS(".comment-input-container")]},shieldUserCommentEveryOneAllSearch(){return l.info("ã€å±è”½ã€‘å¤§å®¶éƒ½åœ¨æœ"),[b.addBlockCSS(".comment-header-with-search")]}},qt={init(){u.execMenuOnce("shieldBottomVideoToolBar",()=>this.shieldBottomVideoToolBar()),u.execMenuOnce("dy-video-bottom-shieldVideoInfoWrap",()=>this.shieldVideoInfoWrap()),u.execMenuOnce("shieldBottomVideoToolbarDanmuContainer",()=>this.shieldBottomVideoToolbarDanmuContainer());},shieldBottomVideoToolBar(){return l.info("ã€å±è”½ã€‘åº•éƒ¨è§†é¢‘å·¥å…·æ "),[b.addBlockCSS("xg-controls.xgplayer-controls"),J.removeStyleBottom(),B(`
				/* è§†é¢‘æ ‡é¢˜å¾€ä¸‹ç§» */
				div:has(> #video-info-wrap){
					bottom: 0px !important;
				}
			`)]},shieldVideoInfoWrap(){return l.info("ã€å±è”½ã€‘è§†é¢‘ä¿¡æ¯"),[b.addBlockCSS("#video-info-wrap")]},shieldBottomVideoToolbarDanmuContainer(){return l.info("ã€å±è”½ã€‘åº•éƒ¨è§†é¢‘å·¥å…·æ çš„å¼¹å¹•å®¹å™¨"),[b.addBlockCSS('xg-controls xg-inner-controls .danmakuContainer[data-e2e="danmaku-container"]')]}},jt={init(){u.execMenuOnce("shieldPlaySwitchButton",()=>this.shieldPlaySwitchButton()),u.execMenuOnce("shieldAuthorAvatar",()=>this.shieldAuthorAvatar()),u.execMenuOnce("shieldLikeButton",()=>this.shieldLikeButton()),u.execMenuOnce("shieldCommentButton",()=>this.shieldCommentButton()),u.execMenuOnce("shieldCollectionButton",()=>this.shieldCollectionButton()),u.execMenuOnce("shieldSharenButton",()=>this.shieldSharenButton()),u.execMenuOnce("shieldRelatedRecommendationsButton",()=>this.shieldRelatedRecommendationsButton()),u.execMenuOnce("shieldMoreButton",()=>this.shieldMoreButton());},shieldPlaySwitchButton(){return l.info("ã€å±è”½ã€‘åˆ‡æ¢æ’­æ”¾"),[b.addBlockCSS('.positionBox  .xgplayer-playswitch[data-state="normal"]',"div.xgplayer-playswitch",".xgplayer-playswitch"),B(`
			div[data-e2e="slideList"]{
				/* ä¿®å¤å±è”½åŽçš„è§†é¢‘å®½åº¦å æ® */
				padding: 0px !important;
			}
			`)]},shieldAuthorAvatar(){return l.info("ã€å±è”½ã€‘ä½œè€…å¤´åƒ"),[b.addBlockCSS('div.dy-tip-container:has([data-e2e="video-avatar"])','.basePlayerContainer div[aria-describedby]:has([data-e2e="video-avatar"])')]},shieldLikeButton(){return l.info("ã€å±è”½ã€‘ç‚¹èµž"),[b.addBlockCSS('div.dy-tip-container:has([data-e2e="video-player-digg"])','.basePlayerContainer div[aria-describedby]:has([data-e2e="video-player-digg"])')]},shieldCommentButton(){return l.info("ã€å±è”½ã€‘è¯„è®º"),[b.addBlockCSS('div.dy-tip-container:has([data-e2e="feed-comment-icon"])','.basePlayerContainer div[aria-describedby]:has([data-e2e="feed-comment-icon"])')]},shieldCollectionButton(){return l.info("ã€å±è”½ã€‘æ”¶è—"),[b.addBlockCSS('div.dy-tip-container:has([data-e2e="video-player-collect"])','.basePlayerContainer div[data-e2e="video-player-collect"][data-e2e-state="video-player-no-collect"]')]},shieldSharenButton(){return l.info("ã€å±è”½ã€‘åˆ†äº«"),[b.addBlockCSS('div.dy-tip-container:has([data-e2e="video-player-share"])','.basePlayerContainer div:has(>div[data-e2e="video-player-share"])')]},shieldRelatedRecommendationsButton(){return l.info("ã€å±è”½ã€‘çœ‹ç›¸å…³"),[b.addBlockCSS('div.dy-tip-container:has(path[d="M14 8a8 8 0 00-8 8v4a8 8 0 008 8h8a8 8 0 008-8v-4a8 8 0 00-8-8h-8zm8.5 10.866a1 1 0 000-1.732l-6-3.464a1 1 0 00-1.5.866v6.928a1 1 0 001.5.866l6-3.464z"])','div.dy-tip-container:has(path[d=" M-4,-10 C-4,-10 4,-10 4,-10 C8.418000221252441,-10 12,-6.418000221252441 12,-2 C12,-2 12,2 12,2 C12,6.418000221252441 8.418000221252441,10 4,10 C4,10 -4,10 -4,10 C-8.418000221252441,10 -12,6.418000221252441 -12,2 C-12,2 -12,-2 -12,-2 C-12,-6.418000221252441 -8.418000221252441,-10 -4,-10z M4.5,0.8659999966621399 C5.166999816894531,0.48100000619888306 5.166999816894531,-0.48100000619888306 4.5,-0.8659999966621399 C4.5,-0.8659999966621399 -1.5,-4.329999923706055 -1.5,-4.329999923706055 C-2.1670000553131104,-4.715000152587891 -3,-4.234000205993652 -3,-3.4639999866485596 C-3,-3.4639999866485596 -3,3.4639999866485596 -3,3.4639999866485596 C-3,4.234000205993652 -2.1670000553131104,4.715000152587891 -1.5,4.329999923706055 C-1.5,4.329999923706055 4.5,0.8659999966621399 4.5,0.8659999966621399z"])','.basePlayerContainer div[aria-describedby]:has(path[d="M14 8a8 8 0 00-8 8v4a8 8 0 008 8h8a8 8 0 008-8v-4a8 8 0 00-8-8h-8zm8.5 10.866a1 1 0 000-1.732l-6-3.464a1 1 0 00-1.5.866v6.928a1 1 0 001.5.866l6-3.464z"])','.basePlayerContainer div[aria-describedby]:has(path[d="M14 8a8 8 0 0 0-8 8v4a8 8 0 0 0 8 8h8a8 8 0 0 0 8-8v-4a8 8 0 0 0-8-8h-8zm8.5 10.866a1 1 0 0 0 0-1.732l-6-3.464a1 1 0 0 0-1.5.866v6.928a1 1 0 0 0 1.5.866l6-3.464z"])','.basePlayerContainer div[aria-describedby]:has(path[d=" M-4,-10 C-4,-10 4,-10 4,-10 C8.418000221252441,-10 12,-6.418000221252441 12,-2 C12,-2 12,2 12,2 C12,6.418000221252441 8.418000221252441,10 4,10 C4,10 -4,10 -4,10 C-8.418000221252441,10 -12,6.418000221252441 -12,2 C-12,2 -12,-2 -12,-2 C-12,-6.418000221252441 -8.418000221252441,-10 -4,-10z M4.5,0.8659999966621399 C5.166999816894531,0.48100000619888306 5.166999816894531,-0.48100000619888306 4.5,-0.8659999966621399 C4.5,-0.8659999966621399 -1.5,-4.329999923706055 -1.5,-4.329999923706055 C-2.1670000553131104,-4.715000152587891 -3,-4.234000205993652 -3,-3.4639999866485596 C-3,-3.4639999866485596 -3,3.4639999866485596 -3,3.4639999866485596 C-3,4.234000205993652 -2.1670000553131104,4.715000152587891 -1.5,4.329999923706055 C-1.5,4.329999923706055 4.5,0.8659999966621399 4.5,0.8659999966621399z"])'),B(`
				/* ä¿®å¤åˆ†äº«çš„æ‚¬æµ®æ¡†è·ç¦»åº•éƒ¨çš„é«˜åº¦ */
				[data-e2e="video-player-share"]+div[data-e2e="video-share-container"] > div:first-child{
					bottom: 0px !important;
				}
			`)]},shieldMoreButton(){return l.info("ã€å±è”½ã€‘æ›´å¤š"),[b.addBlockCSS('div.dy-tip-container:has([data-e2e="video-play-more"])','.basePlayerContainer div[data-e2e="video-play-more"]'),B(`
				/* ä¿®å¤åˆ†äº«çš„æ‚¬æµ®æ¡†è·ç¦»åº•éƒ¨çš„é«˜åº¦ */
				[data-e2e="video-player-share"]+div[data-e2e="video-share-container"] > div:first-child{
					bottom: 0px !important;
				}
			`)]}},yt={init(){u.execMenuOnce("shieldRightExpandCommentButton",()=>this.shieldRightExpandCommentButton()),u.execMenuOnce("shieldSearchFloatingBar",()=>this.shieldSearchFloatingBar()),u.execMenuOnce("shieldCloseFullScreenButton",()=>this.shieldCloseFullScreenButton()),u.execMenuOnce("dy-video-blockShopInfo",()=>this.blockShopInfo()),qt.init(),jt.init(),zt.init();},shieldRightExpandCommentButton(){return l.info("ã€å±è”½ã€‘å³ä¾§çš„å±•å¼€è¯„è®ºæŒ‰é’®"),[b.addBlockCSS('#sliderVideo[data-e2e="feed-active-video"] > div > div > button[type="button"]','.playerContainer button[type=button] svg > g[filter] > path[d="M21.316 29.73a1.393 1.393 0 01-1.97 0l-5.056-5.055a1.393 1.393 0 010-1.97l.012-.011 5.044-5.045a1.393 1.393 0 011.97 1.97l-4.07 4.071 4.07 4.071a1.393 1.393 0 010 1.97z"]'),B(`
			.basePlayerContainer .positionBox{
				padding-right: 20px !important;
			}`)]},shieldSearchFloatingBar(){l.info("ã€å±è”½ã€‘æœç´¢æ‚¬æµ®æ ");let t=[];return t.push(b.addBlockCSS("#slideMode + div",'.playerContainer .slider-video>div>div:has([data-e2e="searchbar-button"])')),(V.isSearch()||V.isDiscover())&&t.push(b.addBlockCSS('#douyin-right-container> div>div>div> div:has( div> input[data-e2e="searchbar-input"])')),t},shieldCloseFullScreenButton(){l.info("ã€å±è”½ã€‘ç½‘é¡µå…¨å±å…³é—­æŒ‰é’®");let t=[];return t.push(b.addBlockCSS('.playerContainer .slider-video>div>div:has(path[d="M17.448 17.448a1.886 1.886 0 0 1-2.668 0L9 11.668l-5.78 5.78A1.886 1.886 0 1 1 .552 14.78L6.332 9 .552 3.22A1.886 1.886 0 1 1 3.22.552L9 6.332l5.78-5.78a1.886 1.886 0 1 1 2.668 2.668L11.668 9l5.78 5.78a1.886 1.886 0 0 1 0 2.668z"])')),(V.isSearch()||V.isDiscover())&&t.push(b.addBlockCSS('#douyin-right-container div>div:has(>svg>path[d="M17.448 17.448a1.886 1.886 0 0 1-2.668 0L9 11.668l-5.78 5.78A1.886 1.886 0 1 1 .552 14.78L6.332 9 .552 3.22A1.886 1.886 0 1 1 3.22.552L9 6.332l5.78-5.78a1.886 1.886 0 1 1 2.668 2.668L11.668 9l5.78 5.78a1.886 1.886 0 0 1 0 2.668z"])')),t},blockShopInfo(){return l.info("ã€å±è”½ã€‘è´­ç‰©ä¿¡æ¯"),b.addBlockCSS(".xgplayer-shop-anchor")}};class Bt{constructor(e){I(this,"key","short-cut");I(this,"$data");I(this,"isWaitPress",false);I(this,"currentWaitEnterPressInstanceHandler",null);typeof e=="string"&&(this.key=e),this.$data={otherShortCutOptions:[]};}initConfig(e,i){this.hasOption(e)||this.setOption(e,i);}getStorageKey(){return this.key}getLocalAllOptions(){return ke(this.key,[])}hasOption(e){return !!this.getLocalAllOptions().find(n=>n.key===e)}hasOptionValue(e){if(this.hasOption(e)){let i=this.getOption(e);return (i==null?void 0:i.value)!=null}else return  false}getOption(e,i){return this.getLocalAllOptions().find(a=>a.key===e)??i}setOption(e,i){let o=this.getLocalAllOptions(),n=o.findIndex(a=>a.key===e);n==-1?o.push({key:e,value:i}):Reflect.set(o[n],"value",i),ae(this.key,o);}emptyOption(e){let i=false,o=this.getLocalAllOptions(),n=o.findIndex(a=>a.key===e);return n!==-1&&(o[n].value=null,i=true),ae(this.key,o),i}deleteOption(e){let i=false,o=this.getLocalAllOptions(),n=o.findIndex(a=>a.key===e);return n!==-1&&(o.splice(n,1),i=true),ae(this.key,o),i}translateKeyboardValueToButtonText(e){let i="";return e.ohterCodeList.forEach(o=>{i+=v.stringTitleToUpperCase(o,true)+" + ";}),i+=v.stringTitleToUpperCase(e.keyName),i}getShowText(e,i){if(this.hasOption(e)){let o=this.getOption(e);return o.value==null?i:this.translateKeyboardValueToButtonText(o.value)}else return i}async enterShortcutKeys(e){const i=this;return new Promise(o=>{this.isWaitPress=true;let n=g.listenKeyboard(window,"keyup",(a,d,s)=>{const r={keyName:a,keyValue:d,ohterCodeList:s};let c={};try{const h=JSON.stringify(r),f=this.getLocalAllOptions();Array.isArray(this.$data.otherShortCutOptions)&&f.push(...this.$data.otherShortCutOptions);for(let m=0;m<f.length;m++){let y=f[m];if(y.key===e)continue;const x=JSON.stringify(y.value);let k=!1;if(y.value!=null&&h===x&&(k=!0),k){c={status:!1,key:y.key,option:r};return}}this.setOption(e,r),c={status:!0,key:e,option:r};}catch(h){console.log(h),c={status:false,key:e,option:r};}finally{i.isWaitPress=false,n.removeListen(),i.currentWaitEnterPressInstanceHandler=null,o(c);}});i.currentWaitEnterPressInstanceHandler=null,i.currentWaitEnterPressInstanceHandler=()=>{i.isWaitPress=false,n.removeListen();};})}cancelEnterShortcutKeys(){typeof this.currentWaitEnterPressInstanceHandler=="function"&&this.currentWaitEnterPressInstanceHandler();}initGlobalKeyboardListener(e,i){let o=this.getLocalAllOptions();if(!o.length){l.warn("æ²¡æœ‰è®¾ç½®å¿«æ·é”®");return}const n=this;function a(r,c){g.listenKeyboard(r,"keydown",(h,f,m,y)=>{if(n.isWaitPress)return;i!=null&&i.isPrevent&&v.preventEvent(y),o=n.getLocalAllOptions();let x=o.findIndex(k=>{let S=k.value,M={keyName:h,keyValue:f,ohterCodeList:m};if(JSON.stringify(S)===JSON.stringify(M))return k});if(x!=-1){let k=o[x];k.key in c&&(l.info(["è°ƒç”¨å¿«æ·é”®",k]),c[k.key].callback());}},{capture:!!(i!=null&&i.capture)});}let d={},s={};Object.keys(e).forEach(r=>{let c=e[r];(c.target==null||typeof c.target=="string"&&c.target==="")&&(c.target="window"),c.target==="window"?Reflect.set(d,r,c):Reflect.set(s,r,c);}),a(window,d),g.ready(()=>{Object.keys(s).forEach(async r=>{let c=s[r];if(typeof c.target=="string")v.waitNode(c.target,1e4).then(h=>{if(!h)return;let f={};Reflect.set(f,r,c),a(h,f);});else if(typeof c.target=="function"){let h=await c.target();if(h==null)return;let f={};Reflect.set(f,r,c),a(h,f);}else {let h={};Reflect.set(h,r,c),a(c.target,h);}});});}}const Y={shortCut:new Bt("video-short-cut"),$data:{rateMap:["0.75","1","1.25","1.5","1.75","2","3"]},init(){this.shortCut.initGlobalKeyboardListener(this.getShortCutMap());},getShortCutMap(){return {"dy-video-rate-low":{target:"window",callback(){l.info("è§¦å‘å¿«æ·é”® ==> è°ƒç”¨å€é€Ÿï¼šå°");let t=T.sessionStorage.getItem("player_playbackratio")??"1",e=Y.$data.rateMap.findIndex(o=>o===t);if(e===0){l.warn("è§¦å‘å¿«æ·é”® ==> å·²æ˜¯æœ€å°å€é€Ÿ: "+t);return}let i=Y.$data.rateMap[e-1];l.info("è§¦å‘å¿«æ·é”® ==> è®¾ç½®å€é€Ÿ: "+i),J.chooseVideoRate(i);}},"dy-video-rate-up":{target:"window",callback(){l.info("è§¦å‘å¿«æ·é”® ==> è°ƒç”¨å€é€Ÿï¼šå¤§");let t=T.sessionStorage.getItem("player_playbackratio")??"1",e=Y.$data.rateMap.findIndex(o=>o===t);if(e===Y.$data.rateMap.length-1){l.warn("è§¦å‘å¿«æ·é”® ==> å·²æ˜¯æœ€å¤§å€é€Ÿ: "+t);return}let i=Y.$data.rateMap[e+1];l.info("è§¦å‘å¿«æ·é”® ==> è®¾ç½®å€é€Ÿ: "+i),J.chooseVideoRate(i);}},"dy-video-shortcut-immersionMode":{target:"window",callback(){l.info("è§¦å‘å¿«æ·é”® ==> æ²‰æµ¸æ¨¡å¼");let t=u.getValue("fullScreen");u.setValue("fullScreen",!t),u.execMenuOnce("fullScreen",()=>J.fullScreen());}},"dy-video-shortcut-changeVideoMuted":{target:"window",callback(){l.info("è§¦å‘å¿«æ·é”® ==> åˆ‡æ¢é™éŸ³çŠ¶æ€"),Z("video").forEach(t=>{let e=!t.muted;l.success(`åˆ‡æ¢videoæ ‡ç­¾çš„é™éŸ³çŠ¶æ€ä¸º ${e}`),t.muted=e;});}}}}};class Yt{constructor(e){I(this,"isBacking",false);I(this,"config");this.config=e,this.enterGestureBackMode=this.enterGestureBackMode.bind(this),this.quitGestureBackMode=this.quitGestureBackMode.bind(this),this.popStateEvent=this.popStateEvent.bind(this),(typeof this.config.backDelayTime!="number"||isNaN(this.config.backDelayTime))&&(this.config.backDelayTime=150),this.config.win==null&&(this.config.win=self);}popStateEvent(e){X.preventEvent(e),!this.isBacking&&this.quitGestureBackMode(true);}enterGestureBackMode(){l.success("è¿›å…¥æ‰‹åŠ¿æ¨¡å¼");let e=this.config.hash;e.startsWith("#")||(e.startsWith("/")||(e="/"+e),e="#"+e),this.config.useUrl&&(e=this.config.win.location.origin+this.config.win.location.pathname+this.config.win.location.search+e),this.config.win.history.pushState({},"",e),l.success("ç›‘å¬popstateäº‹ä»¶"),g.on(this.config.win,"popstate",this.popStateEvent,{capture:true});}async quitGestureBackMode(e=false){this.isBacking=true,l.success("é€€å‡ºæ‰‹åŠ¿æ¨¡å¼"),typeof this.config.beforeHistoryBackCallBack=="function"&&this.config.beforeHistoryBackCallBack(e);let i=Date.now()+1e3*5;for(;;){if(Date.now()>i){l.error("æœªçŸ¥æƒ…å†µï¼Œhistory.back()å¤±è´¥ï¼Œæ— æ³•é€€å‡ºæ‰‹åŠ¿æ¨¡å¼");break}if(this.config.win.location.hash.endsWith(this.config.hash))l.info("history.back()"),this.config.win.history.back(),await X.sleep(this.config.backDelayTime||150);else break}l.success("ç§»é™¤popstateäº‹ä»¶"),g.off(this.config.win,"popstate",this.popStateEvent,{capture:true}),this.isBacking=false,typeof this.config.afterHistoryBackCallBack=="function"&&this.config.afterHistoryBackCallBack(e);}}const Vt={videoCommentDrawer:"videoCommentDrawer"},Jt=()=>{let t=Object.values(Vt).find(e=>globalThis.location.hash.endsWith(e));t&&(globalThis.location.hash="",l.success("å‘çŽ°æ®‹ç•™çš„æ‰‹åŠ¿è¿”å›žhashï¼Œå·²æ¸…ç† ==> "+t));},Qt={init(){Zt.init(),Xt.init();}},Zt={init(){u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-enterUserHome",()=>this.blockEnterUserHomeMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-follow",()=>this.blockFollowMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-addLike",()=>this.blockAddLikeMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-comment",()=>this.blockCommentMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-collect",()=>this.blockCollectMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-share",()=>this.blockShareMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-rightToolBar-seeCorrelation",()=>this.blockSeeCorrelationMouseHoverTip());},blockEnterUserHomeMouseHoverTip(){return l.info("ç¦ç”¨è¿›å…¥ä½œè€…ä¸»é¡µæŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS(' div > div:has( >a[data-e2e="video-avatar"]) + .semi-portal')},blockFollowMouseHoverTip(){return l.info("ç¦ç”¨å…³æ³¨æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div[data-e2e="feed-follow-icon"]  .semi-portal')},blockAddLikeMouseHoverTip(){return l.info("ç¦ç”¨ç‚¹èµžæŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div[data-e2e="video-player-digg"] + .semi-portal')},blockCommentMouseHoverTip(){return l.info("ç¦ç”¨è¯„è®ºæŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div[data-e2e="feed-comment-icon"] + .semi-portal')},blockCollectMouseHoverTip(){return l.info("ç¦ç”¨æ”¶è—æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div[data-e2e="video-player-collect"] + .semi-always-dark')},blockShareMouseHoverTip(){return l.info("ç¦ç”¨åˆ†äº«æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div[data-e2e="video-share-container"]')},blockSeeCorrelationMouseHoverTip(){return l.info("ç¦ç”¨çœ‹ç›¸å…³æŽ¨èæŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div:has(+[data-e2e="video-play-more"]) .semi-portal')}},Xt={init(){u.execMenuOnce("dy-video-mouseHoverTip-bottomToolBar-automaticBroadcast",()=>this.blockAutomaticBroadcast()),u.execMenuOnce("dy-video-mouseHoverTip-bottomToolBar-clearScreen",()=>this.blockClearScreenMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-bottomToolBar-watchLater",()=>this.blockWatchLaterMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-bottomToolBar-pageFullScreen",()=>this.blockPageFullScreenMouseHoverTip()),u.execMenuOnce("dy-video-mouseHoverTip-bottomToolBar-fullScreen",()=>this.blockFullScreenMouseHoverTip());},blockAutomaticBroadcast(){return l.info("ç¦ç”¨è‡ªåŠ¨è¿žæ’­æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS('div[data-e2e="video-player-auto-play"] + .xgTips')},blockClearScreenMouseHoverTip(){return l.info("ç¦ç”¨æ¸…å±æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS(".xgplayer-immersive-switch-setting .xgTips")},blockWatchLaterMouseHoverTip(){return l.info("ç¦ç”¨ç¨åŽå†çœ‹æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS(".xgplayer-watch-later .xgTips",".xgplayer-watch-later-item + .xgTips")},blockPageFullScreenMouseHoverTip(){return l.info("ç¦ç”¨ç½‘é¡µå…¨å±æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS(".xgplayer-page-full-screen .xgTips")},blockFullScreenMouseHoverTip(){return l.info("ç¦ç”¨å…¨å±æŒ‰é’®çš„æ‚¬æµ®æç¤º"),b.addBlockCSS(".xgplayer-fullscreen .xg-tips")}},Ee=(t,e)=>{let i="data-is-inject-mouse-hide",o="data-opacity-show",n="data-opacity-hide",a=()=>u.getValue(t),d=(f=a())=>f===0?`
            ${e.join(",")}{
                opacity: 0 !important;
                
                &:hover,
                &[${o}]{
                    opacity: 1 !important;
                }
                ${f===0?"transition: none !important;":""}
            }
            `:`
            ${e.join(",")}{
                &[${n}]{
                    opacity: 0 !important;
                }
                &:hover{
                    opacity: 1 !important;
                }
            }
            `,s=B(d()),r=u.addValueChangeListener(t,(f,m,y)=>{g.html(s,d(y));}),c=new v.LockFunction(()=>{e.forEach(f=>{let m=Q(`${f}:not([${i}])`);if(!m)return;m.setAttribute(i,"");let y=0;g.on(m,["mouseenter","touchstart"],x=>{clearTimeout(y),a()===0?m.setAttribute(o,""):m.removeAttribute(n);}),g.on(m,["mouseleave","touchend"],x=>{a()===0?m.removeAttribute(o):m.setAttribute(n,"");}),a()===0||(y=setTimeout(()=>{m.setAttribute(n,"");},a()));});}),h=v.mutationObserver(document,{config:{subtree:true,childList:true},immediate:true,callback:(f,m)=>{c.run();}});return {destory(){h.disconnect(),s.remove(),u.removeValueChangeListener(r);},$style:s}},Be={async waitReactPropsToSet(t,e,i){if(!Array.isArray(i)){this.waitReactPropsToSet(t,e,[i]);return}function o(){let n=null;return typeof t=="string"?n=document.querySelector(t):typeof t=="function"?n=t():t instanceof HTMLElement&&(n=t),n}typeof t=="string"&&!await v.waitNode(t,1e4)||i.forEach(n=>{typeof n.msg=="string"&&l.info(n.msg);function a(){let d=o();if(d==null)return  false;let s=v.getReactObj(d);if(s==null)return  false;let r=s[e];return r==null?false:!!n.check(r,d)}v.waitPropertyByInterval(()=>o(),a,250,1e4).then(()=>{let d=o();if(d==null)return;let s=v.getReactObj(d);if(s==null)return;let r=s[e];r!=null&&n.set(r,d);});});}},J={$flag:{isWaitEnterFullScreen:false},init(){yt.init(),u.onceExec("dy-short-cut",()=>{Y.init();}),Qt.init(),u.execMenuOnce("changeCommentToBottom",()=>{J.changeCommentToBottom();}),u.execMenuOnce("fullScreen",()=>this.fullScreen()),u.execMenuOnce("parseVideo",()=>{J.hookDownloadButtonToParseVideo();}),u.execMenuOnce("dy-video-hookCopyLinkButton",()=>{J.hookCopyLinkButton();}),u.exec(["autoEnterElementFullScreen","search-autoEnterElementFullScreen"],()=>{this.autoEnterElementFullScreen();},t=>{const[e,i]=t;let o=u.getValue(e),n=u.getValue(i);if(V.isSearch()&&o){if(n==1)return  true;if(n==0)return  false}return o},false),u.execMenuOnce("dy-video-doubleClickEnterElementFullScreen",()=>{this.doubleClickEnterElementFullScreen();}),u.execMenu("dy-video-bgColor-enable",()=>{u.execMenuOnce("dy-video-changeBackgroundColor",t=>this.changeBackgroundColor(t.value));}),u.execMenuOnce("repairProgressBar",()=>{u.onceExec("repairProgressBar",()=>{this.repairVideoProgressBar();});}),u.execMenuOnce("dy-video-gestureBackCloseComment",()=>{this.gestureBackCloseComment();}),u.execMenuOnce("dy-video-waitToRemovePauseDialog",()=>{this.waitToRemovePauseDialog();}),u.execMenuOnce("dy-video-removeStyle-bottom",()=>this.removeStyleBottom()),g.ready(()=>{J.chooseQuality(u.getValue("chooseVideoDefinition")),u.execMenuOnce("mobileMode",()=>this.mobileMode()),u.execMenuOnce("dy-video-titleInfoAutoHide",()=>{this.titleInfoAutoHide();}),u.execMenuOnce("dy-video-videoControlsAutoHide",()=>{this.videoControlsAutoHide();}),u.execMenuOnce("dy-video-rightToolBarAutoHide",()=>{this.rightToolBarAutoHide();});});},fullScreen(){l.info("å…¨å±");let t=[];return t.push(b.addBlockCSS(".slider-video .positionBox","#video-info-wrap","xg-controls.xgplayer-controls")),t.push(yt.shieldSearchFloatingBar()),t.push(B(`
			/* è§†é¢‘å…¨å± */
			xg-video-container.xg-video-container{
				bottom: 0px !important;
			}
        `)),t},autoEnterElementFullScreen(t=false){if(this.$flag.isWaitEnterFullScreen){l.warn("å·²å­˜åœ¨ç­‰å¾…è¿›å…¥å…¨å±...");return}this.$flag.isWaitEnterFullScreen=true,t?g.ready(()=>{let e=new KeyboardEvent("keydown",{bubbles:true,cancelable:true,key:"Y",code:"KeyY",keyCode:89,which:89});document.dispatchEvent(e),this.$flag.isWaitEnterFullScreen=false,l.success("æˆåŠŸè‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±-å¿«æ·é”®");}):g.ready(()=>{Be.waitReactPropsToSet(()=>Q('xg-icon[data-e2e="xgplayer-page-full-screen"] .xgplayer-icon')||Q('[data-e2e="feed-active-video"] dy-icon.douyin-player-page-full-screen .douyin-player-icon'),"reactProps",{check(e){return typeof(e==null?void 0:e.onClick)=="function"},set:(e,i)=>{this.$flag.isWaitEnterFullScreen=false,l.success("æˆåŠŸè‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±-ç‚¹å‡»æŒ‰é’®"),i.click();}});});},doubleClickEnterElementFullScreen(){let t=false;l.info("æ³¨å†ŒåŒå‡»è¿›å…¥ç½‘é¡µå…¨å±äº‹ä»¶"),[".newVideoPlayer","#sliderVideo"].forEach(i=>{g.on(document,"click",i,o=>{t?(t=false,J.autoEnterElementFullScreen(true)):(t=true,setTimeout(()=>{t=false;},250));});});},changeCommentToBottom(){l.info("è¯„è®ºåŒºä¿®æ”¹ä¸ºåº•éƒ¨");let t="data-vertical-screen";function e(){Wt.isVerticalScreen()?(l.success("è‡ªåŠ¨åˆ¤æ–­: ç«–å±"),document.documentElement.setAttribute(t,"true")):(l.success("è‡ªåŠ¨åˆ¤æ–­: æ¨ªå±"),document.documentElement.removeAttribute(t));}e(),B(`
		html[${t}] #sliderVideo[data-e2e="feed-video"] #videoSideBar #relatedVideoCard,
		html[${t}] #sliderVideo[data-e2e="feed-video"] #videoSideCard #relatedVideoCard{
			display: none !important;
		}
		/* å·¦ä¾§çš„è§†é¢‘å®½åº¦æ’‘æ»¡ */
		html[${t}] #sliderVideo[data-e2e] .playerContainer,
		html[${t}] #slideMode[data-e2e] .playerContainer{
			width: 100% !important;
		}
		/* å³ä¾§çš„è¯„è®ºåŒºå®½åº¦æ’‘æ»¡ï¼Œpositionä½¿ç”¨absolute */
		html[${t}] #sliderVideo[data-e2e="feed-active-video"] #videoSideBar:has(#relatedVideoCard),
		html[${t}] #slideMode[data-e2e="feed-active-video"] #videoSideBar:has(#relatedVideoCard),
		html[${t}] #sliderVideo[data-e2e="feed-active-video"] #videoSideCard:has(#relatedVideoCard),
		html[${t}] #slideMode[data-e2e="feed-active-video"] #videoSideCard:has(#relatedVideoCard){
			width: 100%;
			height: 75%;
			left: 0;
			right: 0;
			bottom: 0;
			background-color: rgba(0, 0, 0, 0.9);
			transition: height .15s linear !important;
			position: absolute;
		}
		`),u.execMenuOnce("douyin-video-autoCheckChangeCommentToBottom",()=>{g.on(window,"resize",e);});},chooseQuality(t=0){l.info("é€‰æ‹©è§†é¢‘æ¸…æ™°åº¦: "+t);let e="MANUAL_SWITCH",i=["adapt_lowest_4_1","adapt_lowest_1440_1","normal_1080_0","normal_540_0","low_720_0","normal_720_0","low_540_0","lower_540_0","adapt_low_540_0","adapt_lowest_1080_1","adapt_lowest_720_1","adapt_540_1","adapt_lower_540_1"],n=[{clarityReal:i,done:1,gearClarity:"20",gearName:"è¶…æ¸… 4K",gearType:-2,qualityType:72},{clarityReal:i,done:1,gearClarity:"10",gearName:"è¶…æ¸… 2K",gearType:-1,qualityType:7},{clarityReal:i,done:1,gearClarity:"5",gearName:"é«˜æ¸… 1080P",gearType:1,qualityType:2},{clarityReal:i,done:1,gearClarity:"4",gearName:"é«˜æ¸… 720P",gearType:2,qualityType:15},{clarityReal:i,done:1,gearClarity:"3",gearName:"æ ‡æ¸… 540P",gearType:3,qualityType:21},{clarityReal:i,done:1,gearClarity:"2",gearName:"æžé€Ÿ",gearType:4,qualityType:21},{clarityReal:i,done:1,gearClarity:"0",gearName:"æ™ºèƒ½",gearType:0}].find(d=>d.gearType===t);function a(d){T.sessionStorage.setItem(e,d);}if(n){let d=JSON.stringify(n),s=setInterval(()=>{a(d);},250);setTimeout(()=>{clearInterval(s);},10*1e3),l.success("è®¾ç½®å½“å‰è§†é¢‘çš„æ¸…æ™°åº¦: "+t);}else l.error("è¯¥æ¸…æ™°åº¦ä¸å­˜åœ¨: "+t);},chooseVideoRate(t="1"){let e="player_playbackratio";function i(o="1"){T.sessionStorage.setItem(e,o),Z("xg-icon.xgplayer-playback-setting").forEach(n=>{var d,s,r,c;let a=v.getReactObj(n).reactContainer;(c=(r=(s=(d=a==null?void 0:a.memoizedState)==null?void 0:d.element)==null?void 0:s.props)==null?void 0:r.xgCase)==null||c.updatePlayBackRatio();});}i(t);},hookDownloadButtonToParseVideo(){l.info("ä¿®æ”¹é¡µé¢çš„åˆ†äº«-ä¸‹è½½æŒ‰é’®å˜æˆè§£æžè§†é¢‘");function t(e,i){let o="";i.forEach(a=>{let d=`${a.width}x${a.height} @${a.fps}`;o+=`
          		<div class="douyin-video-link-item">
					<div class="dy-video-name">
						<span>æ¸…æ™°åº¦ä¿¡æ¯ï¼š</span>
						<span>${d}</span>
					</div>
					<div class="dy-video-size">
						<span>è§†é¢‘å¤§å°ï¼š</span>
						<span>${v.formatByteToSize(a.dataSize)}</span>
					</div>
					<div class="dy-video-download-uri">
						<span>ä¸‹è½½åœ°å€ï¼š</span>
						<a href="${a.url}" data-file-name="${e} - ${d}.${a.format}">${a.url}</a>
					</div>
					${a.backUrl.length?`
						<div class="dy-video-back-uri">
							<span>å¤‡ç”¨åœ°å€ï¼š</span>
							${a.backUrl.map((s,r)=>`
									<a href="${s}" data-file-name="${e} - ${d}.${a.format}">åœ°å€${r+1}</a>
								`).join("ï¼Œ")}
						</div>
					`:""}
				</div>
            	`;}),o=`<div class="douyin-video-link-container">${o}</div>`;let n=H.alert({title:{text:"è§†é¢‘è§£æž",position:"center"},content:{text:o,html:true},mask:{enable:true,clickEvent:{toClose:true}},width:window.innerWidth>550?"550px":"88vw",height:window.innerHeight>550?"550px":"80vh",drag:true,dragLimit:true,style:`
                .douyin-video-link-container a{
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                }
                .douyin-video-link-item{
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    margin: 10px;
                }
				.dy-video-download-uri{
					display: flex;
				}
				.dy-video-back-uri{
					display: flex;
				}
                `});g.on(n.popsElement,"click","a",(a,d)=>{v.preventEvent(a);let s=d.getAttribute("href"),r=d.getAttribute("data-file-name");if(!function(){try{return typeof ht=="function"}catch(k){return console.error(k),false}}()){l.error("å½“å‰è„šæœ¬çŽ¯å¢ƒä¸æ”¯æŒAPI ã€GM_downloadã€‘"),window.open(s,"_blank");return}C.info("è°ƒç”¨ã€GM_downloadã€‘ä¸‹è½½è§†é¢‘");let h=null,f=false,m=false,y=C.loading("ä¸‹è½½ä¸­...",{showClose:true,onClose(){!f&&typeof h=="function"&&h();}}),x=ht({url:s,name:r,headers:{Referer:window.location.href},onload(){f=true,y.close(),C.success(`ä¸‹è½½ ${r} å·²å®Œæˆ`,{consoleLogContent:true});},onprogress(k){if(typeof k=="object"&&"loaded"in k&&"total"in k&&!m){let M=(k.loaded/k.total*100).toFixed(2);y.setText(`ä¸‹è½½ä¸­...${M}%`),k.loaded===k.total&&(m=true);}},onerror(k){y.close(),l.error("ä¸‹è½½å¤±è´¥errorðŸ‘‰",k),typeof k=="object"&&k.error?C.error(`ä¸‹è½½ ${r} å¤±è´¥æˆ–å·²å–æ¶ˆ åŽŸå› ï¼š${k.error}`,{timeout:6e3,consoleLogContent:true}):C.error(`ä¸‹è½½ ${r} å¤±è´¥æˆ–å·²å–æ¶ˆ`,{consoleLogContent:true});},ontimeout(){y.close(),C.error(`ä¸‹è½½ ${r} è¯·æ±‚è¶…æ—¶`,{consoleLogContent:true});}});typeof x=="object"&&x!=null&&"abort"in x&&(h=x.abort);},{capture:true});}g.on(document,"click",'div[data-e2e="video-share-container"] div[data-inuser="false"] button + div',function(e){var n,a,d;v.preventEvent(e);let i=e.target,o=(n=v.getReactObj(i.parentElement))==null?void 0:n.reactFiber;if(!o){C.error("èŽ·å–rectFiberå±žæ€§å¤±è´¥",{consoleLogContent:true});return}try{let s=o.return.memoizedProps.awemeInfo;if(!s){C.error("èŽ·å–awemeInfoå±žæ€§å¤±è´¥",{consoleLogContent:!0});return}l.info(["è§£æžçš„awemeInfo: ",s]);let r=[],c=(a=s==null?void 0:s.video)==null?void 0:a.bitRateList;if(c!=null&&Array.isArray(c)&&(r=r.concat(c.map(m=>{let y={url:m.playApi,width:m.width,height:m.height,format:m.format,fps:0,dataSize:m.dataSize,backUrl:[]};return typeof m.fps=="number"&&(y.fps=m.fps),Array.isArray(m.playAddr)&&(y.backUrl=y.backUrl.concat(m.playAddr.map(x=>x.src))),y}).filter(m=>m!=null))),!r.length){C.error("æœªèŽ·å–åˆ°è§†é¢‘çš„æœ‰æ•ˆé“¾æŽ¥ä¿¡æ¯",{consoleLogContent:!0});return}let h=[];for(let m=0;m<r.length;m++){const y=r[m];let x=h.findIndex(k=>k.width===y.width&&k.height===y.height&&k.fps===y.fps);x!=-1?h[x].dataSize<y.dataSize&&h.splice(x,1,y):h.push(y);}h=h.map(m=>(m.url.startsWith("http:")&&(m.url=m.url.replace("http:","")),m)),v.sortListByProperty(h,m=>m.width);let f=(((d=s==null?void 0:s.authorInfo)==null?void 0:d.nickname)||"æœªçŸ¥ä½œè€…")+" - "+((s==null?void 0:s.desc)||"æœªçŸ¥è§†é¢‘æ–‡æ¡ˆ");t(f,h);}catch(s){l.error(s),C.error("è§£æžè§†é¢‘å¤±è´¥",{consoleLogContent:true});}},{capture:true});},hookCopyLinkButton(){l.info("ä¿®æ”¹é¡µé¢çš„åˆ†äº«-å¤åˆ¶é“¾æŽ¥"),g.on(document,"click",'div[data-e2e="video-share-container"] div[data-inuser="false"] button:contains("å¤åˆ¶é“¾æŽ¥")',t=>{var a,d,s,r,c;v.preventEvent(t);let e=t.target,i=(a=v.getReactObj(e.parentElement))==null?void 0:a.reactFiber;if(!i){C.error("èŽ·å–rectFiberå±žæ€§å¤±è´¥",{consoleLogContent:true});return}let o=(r=(s=(d=i==null?void 0:i.return)==null?void 0:d.return)==null?void 0:s.memoizedProps)==null?void 0:r.awemeInfo;if(o==null||typeof o!="object"){C.error("èŽ·å–awemeInfoå±žæ€§å¤±è´¥",{consoleLogContent:true});return}l.info("è§†é¢‘awemeInfoï¼š",o);let n=(c=o==null?void 0:o.shareInfo)==null?void 0:c.shareUrl;if(typeof n!="string"){C.error("èŽ·å–shareUrlå±žæ€§å¤±è´¥",{consoleLogContent:true});return}l.info("è§†é¢‘é“¾æŽ¥ï¼š"+n),v.setClip(n).then(h=>{var m,y,x;let f=(x=(y=(m=i==null?void 0:i.return)==null?void 0:m.return)==null?void 0:y.memoizedProps)==null?void 0:x.toast;h?typeof f=="function"?f("å·²å¤åˆ¶é“¾æŽ¥"):C.success("å·²å¤åˆ¶é“¾æŽ¥"):typeof f=="function"?f("å¤åˆ¶é“¾æŽ¥å¤±è´¥"):C.error("å¤åˆ¶é“¾æŽ¥å¤±è´¥");});},{capture:true});},mobileMode(){l.info("å¯ç”¨æ‰‹æœºæ¨¡å¼");let t=[];return Et.initialScale(),t.push(b.addBlockCSS("img#douyin-temp-sidebar"),B(Gt)),u.onceExec("repairProgressBar",()=>{this.repairVideoProgressBar();}),t},repairVideoProgressBar(){l.info("ä¿®å¤è¿›åº¦æ¡æŒ‰é’®"),B(`
		/* ç¦æ­¢è§¦å‘touchäº‹ä»¶ï¼Œå› ä¸ºä¼šå½±å“åˆ°æŒ‰é’®ç‚¹å‡»ä¸åˆ° */
		xg-outer,
		xg-inners {
			pointer-events: none;
		}
		`),g.ready(()=>{g.on(document.body,"touchstart","xg-progress",(t,e)=>{let o=e.querySelector("xg-outer");o&&(o.style.height="6px");},{capture:true}),g.on(document.body,"touchend","xg-progress",(t,e)=>{let o=e.querySelector("xg-outer");o&&(o.style.height="");},{capture:true});});},changeBackgroundColor(t){return l.info("ä¿®æ”¹è§†é¢‘èƒŒæ™¯é¢œè‰²"),B(`
		#sliderVideo > div,
		/* æŽ¨èçš„ç›´æ’­é—´èƒŒæ™¯ */
		xgmask,
		/* ç”¨æˆ·ä¸»é¡µçš„è§†é¢‘ */
		.basePlayerContainer .imgBackground{
			background: ${t}  !important;
		}
		`)},titleInfoAutoHide(){l.info("è‡ªåŠ¨éšè—è§†é¢‘æ ‡é¢˜"),Ee("dy-video-titleInfoAutoHide-delayTime",['#sliderVideo[data-e2e="feed-active-video"] #video-info-wrap','#slideMode[data-e2e="feed-active-video"] #video-info-wrap','div[data-e2e="video-detail"] #video-info-wrap']);},videoControlsAutoHide(){l.info("è‡ªåŠ¨éšè—è§†é¢‘æŽ§ä»¶"),Ee("dy-video-videoControlsAutoHide-delayTime",['#sliderVideo[data-e2e="feed-active-video"] xg-controls.xgplayer-controls','#slideMode[data-e2e="feed-active-video"] xg-controls.xgplayer-controls','div[data-e2e="video-detail"] xg-controls.xgplayer-controls']);},rightToolBarAutoHide(){l.info("è‡ªåŠ¨éšè—å³ä¾§å·¥å…·æ "),B(`
			.positionBox{
				transition: opacity 0.5s;
			}
		`),Ee("dy-video-titleInfoAutoHide-delayTime",['#sliderVideo[data-e2e="feed-active-video"] .positionBox','#slideMode[data-e2e="feed-active-video"] .positionBox','div[data-e2e="video-detail"] .positionBox']);},gestureBackCloseComment(){l.info("æ‰‹åŠ¿è¿”å›žå…³é—­è¯„è®ºåŒº");let t=new Yt({hash:Vt.videoCommentDrawer,useUrl:true,beforeHistoryBackCallBack(o){o&&i();}});const e='#relatedVideoCard .semi-tabs + div svg:has(path[d="M22.133 23.776a1.342 1.342 0 1 0 1.898-1.898l-4.112-4.113 4.112-4.112a1.342 1.342 0 0 0-1.898-1.898l-4.112 4.112-4.113-4.112a1.342 1.342 0 1 0-1.898 1.898l4.113 4.112-4.113 4.113a1.342 1.342 0 0 0 1.898 1.898l4.113-4.113 4.112 4.113z"])';function i(){var n;let o=Q(e);if(o){let a=v.getReactObj(o);if(a){let d=(n=a.reactProps)==null?void 0:n.onClick;typeof d=="function"?d():C.error("è°ƒç”¨å…³é—­è¯„è®ºåŒºæŒ‰é’®çš„onClickå‡½æ•°å¤±è´¥");}else C.error("èŽ·å–å…³é—­è¯„è®ºåŒºæŒ‰é’®reactä¿¡æ¯å¤±è´¥");}else C.error("æœªæ‰¾åˆ°å…³é—­è¯„è®ºåŒºçš„æŒ‰é’®");}g.on(document,"click",'.xgplayer div[data-e2e="feed-comment-icon"]',o=>{l.info("æ‰‹åŠ¿ => æ‰“å¼€è¯„è®ºåŒº"),v.waitNode(e,1e4).then(n=>{n&&(l.info("æ‰‹åŠ¿ => è¯„è®ºåŒºå‡ºçŽ°"),t.enterGestureBackMode());});},{capture:true}),g.on(document,"click",e,o=>{l.info("æ‰‹åŠ¿ => å…³é—­è¯„è®ºåŒº"),t.quitGestureBackMode();},{capture:true});},waitToRemovePauseDialog(){l.info("ç›‘å¬ä¿¡æ¯åŒºåŸŸã€é•¿æ—¶é—´æ— æ“ä½œï¼Œå·²æš‚åœæ’­æ”¾ã€‘å¼¹çª—");let t=i=>{let o=g.text(i);if(o.includes("é•¿æ—¶é—´æ— æ“ä½œ")&&o.includes("æš‚åœæ’­æ”¾")){C.info("å‡ºçŽ°ã€é•¿æ—¶é—´æ— æ“ä½œï¼Œå·²æš‚åœæ’­æ”¾ã€‘å¼¹çª—",{consoleLogContent:true});let n=v.getReactObj(i);if(typeof n.reactProps=="object"){let a=v.queryProperty(n.reactProps,d=>{var s,r;if(typeof((s=d==null?void 0:d.props)==null?void 0:s.onClose)=="function")return {isFind:true,data:d.props.onClose};{let c=((r=d==null?void 0:d.props)==null?void 0:r.children)??(d==null?void 0:d.children);return {isFind:false,data:Array.isArray(c)?c[0]:c}}});typeof a=="function"&&(C.success("è°ƒç”¨å‡½æ•°å…³é—­å¼¹çª—",{consoleLogContent:true}),a());}}},e=new v.LockFunction(()=>{u.getValue("dy-video-waitToRemovePauseDialog")&&Z(".basePlayerContainer xg-bar.xg-right-bar + div").forEach(i=>{t(i);});});g.ready(()=>{v.mutationObserver(document,{config:{subtree:true,childList:true},callback:()=>{e.run();}});});},removeStyleBottom(){return l.info("ç§»é™¤videoçš„bottomåç§»"),B(`
			#sliderVideo[data-e2e="feed-active-video"] div:has( > div > #video-info-wrap),
			div:has( > div > pace-island > #video-info-wrap ),
			xg-video-container.xg-video-container{
				bottom: 0 !important;
			}
		`)}},ge={key:"douyin-live-danmu-rule",$data:{rule:[]},init(){this.initRule();},initRule(){this.$data.rule=[],this.get().trim().split(`
`).forEach(i=>{if(i.trim()=="")return;i=i.trim();let o=new RegExp(i.trim());this.$data.rule.push(o);});},change(){this.execMessageFilter(Array.from(Z("xg-danmu.xgplayer-danmu > div > div:not([data-is-filter])")),"å¼¹å¹•"),this.execMessageFilter(Array.from(Z("#chatroom .webcast-chatroom .webcast-chatroom___item:not([data-is-filter])")),"èŠå¤©å®¤"),u.getValue("live-message-shield-emoji-chat")&&g.hide(Z("xg-danmu.xgplayer-danmu > div:has(>img):not([data-is-filter])"),false);},execMessageFilter(t,e){var i,o,n,a,d,s,r,c,h,f,m,y,x,k;for(let S=0;S<t.length;S++){let M=t[S],L=v.getReactObj(M),w=((n=(o=(i=L==null?void 0:L.reactFiber)==null?void 0:i.return)==null?void 0:o.memoizedProps)==null?void 0:n.message)||((h=(c=(r=(s=(d=(a=L==null?void 0:L.reactFiber)==null?void 0:a.memoizedProps)==null?void 0:d.children)==null?void 0:s.props)==null?void 0:r.children)==null?void 0:c.props)==null?void 0:h.message);if(typeof w!="object"||w==null)continue;let E=((f=w==null?void 0:w.payload)==null?void 0:f.content)||((y=(m=w==null?void 0:w.payload)==null?void 0:m.common)==null?void 0:y.describe),_=w.method,R=(x=w==null?void 0:w.payload)==null?void 0:x.chat_by,P=(k=w==null?void 0:w.payload)==null?void 0:k.biz_scene,D=false;D||(_==="WebcastGiftMessage"?u.getValue("live-danmu-shield-gift")&&(D=true):_==="WebcastChatMessage"?R==="0"||(R==="9"||R==="10")&&u.getValue("live-danmu-shield-lucky-bag")&&(D=true):_==="WebcastRoomMessage"||_==="WebcastFansclubMessage"||_==="WebcastEmojiChatMessage"&&u.getValue("live-message-shield-emoji-chat")&&(D=true)),!D&&typeof P=="string"&&P==="common_text_game_score"&&u.getValue("live-message-shield-biz_scene-common_text_game_score")&&(D=true),D||(D=typeof E=="string"&&this.$data.rule.some(F=>{if(E.match(F))return l.info("è‡ªå®šä¹‰è§„åˆ™è¿‡æ»¤ "+e+" æ¶ˆæ¯: "+E),true})),D&&(M.setAttribute("data-is-filter","true"),g.hide(M,false));}},set(t){ae(this.key,t);},get(){return ke(this.key,"")}},ei={filterMessage(){let t=new v.LockFunction(()=>{V.isLive()&&ge.change();});g.ready(()=>{l.success("æ¶ˆæ¯è¿‡æ»¤"),ge.init(),v.mutationObserver(document.body,{config:{childList:true,subtree:true},immediate:true,callback:()=>{t.run();}});});}},ti={init(){u.execMenuOnce("live-shieldGiftColumn",()=>this.shieldGiftColumn()),u.execMenuOnce("live-shieldTopToolBarInfo",()=>this.shieldTopToolBarInfo()),u.execMenuOnce("live-shieldGiftEffects",()=>this.shieldGiftEffects()),u.execMenuOnce("live-shieldLucky",()=>this.shieldLucky()),u.execMenuOnce("live-shielYellowCar",()=>this.shieldYellowCar()),u.execMenuOnce("live-shieldDanmuku",()=>this.shieldDanmu()),u.execMenuOnce("live-block-exhibition-banner-dylive-tooltip",()=>this.block_exhibition_banner_dylive_tooltip()),ii.init(),oi.init();},shieldDanmu(){return l.info("å±è”½å¼¹å¹•"),[b.addBlockCSS("xg-danmu.xgplayer-danmu")]},shieldTopToolBarInfo(){return l.info("ã€å±è”½ã€‘é¡¶æ ä¿¡æ¯"),[b.addBlockCSS('div[data-e2e="living-container"] div[id*="living_room_player_container"] > pace-island[id^="island_"]','div[data-e2e="living-container"] div[id*="living_room_player_container"] >div>div>pace-island[id^="island_"]:has(.__isFullPlayer)','div[data-e2e="living-container"] xg-bar.xg-top-bar')]},shieldGiftEffects(){l.info("ã€å±è”½ã€‘ç¤¼ç‰©ç‰¹æ•ˆ");let t=[b.addBlockCSS('.basicPlayer[data-e2e="basicPlayer"] > pace-island[id^="island_"]:not(:has(.ShortTouchContainer)):has(>div > div:not([class*="video_layout_container"]) > div)')];return g.ready(()=>{v.waitNode(()=>g.selector("xg-icon.pluginContainer > div:contains('å±è”½ç¤¼ç‰©ç‰¹æ•ˆ')"),1e4).then(e=>{var n,a,d,s;if(!e){l.error("å±è”½ç¤¼ç‰©ç‰¹æ•ˆæŒ‰é’®ä¸å­˜åœ¨ï¼ŒèŽ·å–è¶…æ—¶");return}let{reactFiber:i}=v.getReactObj(e),o=(s=(d=(a=(n=i==null?void 0:i.memoizedProps)==null?void 0:n.children)==null?void 0:a[1])==null?void 0:d.props)==null?void 0:s.onClick;typeof o=="function"?(l.info("è°ƒç”¨å±è”½ç¤¼ç‰©ç‰¹æ•ˆæŒ‰é’®çš„onClickå‡½æ•°"),o()):l.error("è°ƒç”¨å±è”½ç¤¼ç‰©ç‰¹æ•ˆæŒ‰é’®çš„onClickå‡½æ•°å¤±è´¥ï¼ŒæœªèŽ·å–åˆ°");});}),t},shieldLucky(){return l.info("ã€å±è”½ã€‘ç¦è¢‹"),[b.addBlockCSS('.basicPlayer[data-e2e="basicPlayer"] > pace-island[id^="island_"]:has(.ShortTouchContainer):has(>div > div:not([class*="video_layout_container"]) > div)')]},shieldYellowCar(){return l.info("ã€å±è”½ã€‘å°é»„è½¦"),[b.addBlockCSS('div[id^="living_room_player_container"] .basicPlayer  > div:has(div[data-e2e="yellowCart-container"])')]},shieldGiftColumn(){return l.info("ã€å±è”½ã€‘åº•éƒ¨çš„ç¤¼ç‰©æ "),[b.addBlockCSS('div[data-e2e="living-container"] [id^="living_room_player_container"] > :last-child:has(.gitBarOptimizeEnabled )','div[data-e2e="living-container"] >div> div:has(>pace-island >.gitBarOptimizeEnabled)','div[data-e2e="living-container"] xg-controls > div:has(div[data-e2e="gifts-container"]):not(:has(video))'),B(`
            /* åŽ»é™¤å…¨å±çŠ¶æ€ä¸‹çš„ç¤¼ç‰©æ åŽï¼Œä¸Šé¢çš„å·¥å…·æ bottomä¹ŸåŽ»é™¤ */
            div[data-e2e="living-container"] xg-controls xg-inner-controls:has(+div div[data-e2e="gifts-container"]){
                bottom: 0 !important;
            }`)]},block_exhibition_banner_dylive_tooltip(){return l.info("ã€å±è”½ã€‘ç‚¹äº®å±•é¦†å¸®ä¸»æ’­é›†æ˜Ÿ"),[b.addBlockCSS('[data-e2e="exhibition-banner"] .dylive-tooltip')]}},ii={init(){u.execMenuOnce("live-shieldChatRoom",()=>this.shieldChatRoom()),u.execMenuOnce("live-shielChatRoomVipSeats",()=>this.shielChatRoomVipSeats()),u.execMenuOnce("dy-live-shieldUserLevelIcon",()=>this.shieldUserLevelIcon()),u.execMenuOnce("dy-live-shieldUserVIPIcon",()=>this.shieldUserVIPIcon()),u.execMenuOnce("dy-live-shieldUserFansIcon",()=>this.shieldUserFansIcon()),u.execMenuOnce("dy-live-shieldMessage",()=>this.shieldMessage());},shieldChatRoom(){return l.info("ã€å±è”½ã€‘è¯„è®ºåŒºï¼ˆèŠå¤©å®¤ï¼‰"),[b.addBlockCSS("#chatroom"),B(`
            div[data-e2e="living-container"],
            div[data-e2e="living-container"] > div{
                margin-bottom: 0px !important;
            }`)]},shielChatRoomVipSeats(){return l.info("ã€å±è”½ã€‘è¯„è®ºåŒºçš„è´µå®¾å¸­"),[b.addBlockCSS("#chatroom > div > div:has(#audiencePanelScrollId)","#chatroom > pace-island > div > div:has(#audiencePanelScrollId)")]},shieldUserLevelIcon(){return l.info("ã€å±è”½ã€‘ç”¨æˆ·ç­‰çº§å›¾æ ‡"),[b.addBlockCSS('#chatroom .webcast-chatroom___item span:has(>img[src*="level"])')]},shieldUserVIPIcon(){return l.info("ã€å±è”½ã€‘VIPå›¾æ ‡"),[b.addBlockCSS('#chatroom .webcast-chatroom___item span:has(>img[src*="subscribe"])')]},shieldUserFansIcon(){return l.info("ã€å±è”½ã€‘ç²‰ä¸ç‰Œ"),[b.addBlockCSS('#chatroom .webcast-chatroom___item span:has(>div[style*="fansclub"])','#chatroom .webcast-chatroom___item span:has(>img[src*="fansclub"])')]},shieldMessage(){return l.info("ã€å±è”½ã€‘ä¿¡æ¯æ’­æŠ¥"),[b.addBlockCSS("#chatroom .webcast-chatroom___bottom-message",'#chatroom >div:nth-child(2)>div>div:nth-child(4):not(:has([id^="audiencePanelScrollId"]))','#chatroom >pace-island>div>div:first-child>div:nth-child(4):not(:has([id^="audiencePanelScrollId"]))')]}},oi={init(){u.execMenuOnce("dy-live-blockVideoRightMenu-downloadClient",()=>this.blockDownloadClient());},blockDownloadClient(){return l.info("ã€å±è”½ã€‘å³é”®èœå•-ä¸‹è½½å®¢æˆ·ç«¯"),[b.addBlockCSS('.__menu_container_className:has(>a[href*="douyin-pc-web"])')]}},ni={$data:{playerInstance:null},$el:{$playerIns:null},initMenu(){Mt.add({key:"live-parsePlayerInstance",text:"âš™ PlayerInstance",autoReload:false,showText(t,e){return t},callback:()=>{let t=Q('[id^="living_room_player_container"]');if(!t){l.error("èŽ·å–playerInstanceæ‰€åœ¨çš„å…ƒç´ å¤±è´¥"),C.error("èŽ·å–playerInstanceæ‰€åœ¨çš„å…ƒç´ å¤±è´¥");return}this.$el.$playerIns=t;let e=this.parseElementPlayerIns(this.$el.$playerIns);if(e==null){l.error("èŽ·å–playerInstanceå¤±è´¥"),l.error("èŽ·å–playerInstanceå¤±è´¥");return}this.$data.playerInstance=e,this.showParseDialog();}});},parseElementPlayerIns(t){var i,o,n,a;let e=v.getReactObj(t);return (a=(n=(o=(i=e==null?void 0:e.reactFiber)==null?void 0:i.child)==null?void 0:o.child)==null?void 0:n.memoizedProps)==null?void 0:a.playerInstance},showParseDialog(){var i,o,n,a;l.info(["è§£æžçš„ä¿¡æ¯ï¼š",this.$data.playerInstance]);let t=((i=this.$data.playerInstance)==null?void 0:i.url)||((o=this.$data.playerInstance)==null?void 0:o.src),e=(n=this.$data.playerInstance)==null?void 0:n.config.url;H.alert({title:{text:"è§£æžä¿¡æ¯",position:"center"},content:{text:`
                <div class="live-dy-parse-container">
                    <div class="live-dy-parse-item">
                        <div class="live-dy-parse-item-name">æŽ¨æµåœ°å€ï¼š</div>
                        <a class="live-dy-parse-item-value" href="${e}" target="_blank">${e}
                        </a>
                    </div>
                    <div class="live-dy-parse-item">
                        <div class="live-dy-parse-item-name">blobåœ°å€ï¼š</div>
                        <a class="live-dy-parse-item-value" href="${t}" target="_blank">${t}
                        </a>
                    </div>
                    <div class="live-dy-parse-item">
                        <div class="live-dy-parse-item-name">æ’­æ”¾å™¨ç‰ˆæœ¬ï¼š</div>
                        <div class="live-dy-parse-item-value">${(a=this.$data.playerInstance)==null?void 0:a.version}
                        </div>
                    </div>
                </div>
                `,html:true},mask:{enable:false},width:window.innerWidth>550?"550px":"88wv",height:window.innerHeight>550?"550px":"70vh",style:`
            .live-dy-parse-container{
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            .live-dy-parse-item{
                display: flex;
                flex-wrap: wrap;
                border: 1px solid #919191;
                border-left: 0px;
                border-right: 0px;
                width: 100%;
                background: #0af9ee;
                padding: 5px 5px;
            }
            `});}},Le={shortCut:new Bt("live-short-cut"),$data:{blockChatRoom:false},init(){this.shortCut.initGlobalKeyboardListener(this.getShortCutMap());},getShortCutMap(){return {"dy-live-block-chatroom":{target:"window",callback(){l.info("å¿«æ·é”® ==> ã€å±è”½ã€‘èŠå¤©å®¤");let t=u.getValue("live-shieldChatRoom");u.setValue("live-shieldChatRoom",!t);}},"dy-live-shieldGiftEffects":{target:"window",callback:()=>{l.info("å¿«æ·é”® ==> ã€å±è”½ã€‘ç¤¼ç‰©ç‰¹æ•ˆ");let t=u.getValue("live-shieldGiftEffects");u.setValue("live-shieldGiftEffects",!t);}},"dy-live-shortcut-changeVideoMuted":{target:"window",callback(){l.info("è§¦å‘å¿«æ·é”® ==> åˆ‡æ¢é™éŸ³çŠ¶æ€"),Z("video").forEach(t=>{let e=!t.muted;l.success(`åˆ‡æ¢videoæ ‡ç­¾çš„é™éŸ³çŠ¶æ€ä¸º ${e}`),t.muted=e;});}}}}},me={auto:{label:"è‡ªåŠ¨",sign:0},origin:{label:"åŽŸç”»",sign:5},uhd:{label:"è“å…‰",sign:4},hd:{label:"è¶…æ¸…",sign:3},sd:{label:"é«˜æ¸…",sign:2},ld:{label:"æ ‡æ¸…",sign:1}},ri={init(){ti.init(),Le.init(),u.execMenuOnce("live-danmu-shield-rule-enable",()=>{ei.filterMessage();}),u.execMenu("live-unlockImageQuality",()=>{this.unlockImageQuality();}),u.execMenuOnce("live-waitToRemovePauseDialog",()=>{this.waitToRemovePauseDialog();}),u.execMenu("live-pauseVideo",()=>{this.pauseVideo();}),u.exec(["live-bgColor-enable","live-changeBackgroundColor"],()=>this.changeBackgroundColor()),u.execMenuOnce("live-parsePlayerInstance",()=>{ni.initMenu();}),g.ready(()=>{u.execMenu("live-chooseQuality",t=>{t.value!=="auto"&&this.chooseQuality(t.value);}),u.execMenu("live-autoEnterElementFullScreen",()=>{this.autoEnterElementFullScreen();});});},autoEnterElementFullScreen(){g.ready(()=>{Be.waitReactPropsToSet("xg-icon.xgplayer-fullscreen + xg-icon  div:has(>svg)","reactFiber",{check(t){var e;return typeof((e=t==null?void 0:t.memoizedProps)==null?void 0:e.onClick)=="function"},set(t,e){let i=e.closest("xg-icon");if(i&&g.text(i).includes("é€€å‡ºç½‘é¡µå…¨å±")){l.warn("æŠ–éŸ³å·²è‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±ï¼Œä¸æ‰§è¡Œè„šæœ¬çš„æ“ä½œ");return}l.success("æˆåŠŸè‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±"),t.memoizedProps.onClick();}});});},chooseQuality(t="origin"){Be.waitReactPropsToSet('xg-inner-controls xg-right-grid >div:has([data-e2e="quality-selector"])',"reactProps",{check(e){var i,o,n,a,d,s,r,c,h;return typeof((a=(n=(o=(i=e==null?void 0:e.children)==null?void 0:i.props)==null?void 0:o.children)==null?void 0:n.props)==null?void 0:a.qualityHandler)=="object"&&typeof((h=(c=(r=(s=(d=e==null?void 0:e.children)==null?void 0:d.props)==null?void 0:s.children)==null?void 0:r.props)==null?void 0:c.qualityHandler)==null?void 0:h.getCurrentQualityList)=="function"},set(e){let i=e.children.props.children.props.qualityHandler,o=i.getCurrentQualityList();o.includes(t)||(C.warning("å½“å‰ç›´æ’­æ²¡æœ‰ã€"+t+"ã€‘ç”»è´¨ï¼Œè‡ªåŠ¨é€‰æ‹©æœ€é«˜ç”»è´¨"),o.sort((n,a)=>me[n]?me[a]?me[n].sign-me[a].sign:(l.error("ç”»è´¨ã€"+a+"ã€‘ä¸å­˜åœ¨"),0):(l.error("ç”»è´¨ã€"+n+"ã€‘ä¸å­˜åœ¨"),0)),t=o[o.length-1]),i.setCurrentQuality(t),l.success("æˆåŠŸè®¾ç½®ç”»è´¨ä¸ºã€"+t+"ã€‘");}});},unlockImageQuality(){l.info("è§£é”ç”»è´¨é€‰æ‹©"),g.on(document,"click",'div[data-e2e="quality-selector"] > div',function(t,e){var i,o;v.preventEvent(t);try{let n=v.getReactObj(e),a=(i=n==null?void 0:n.reactFiber)==null?void 0:i.key,d=e.closest("div[data-index]"),s=v.getReactObj(d),r=(o=s==null?void 0:s.reactProps)==null?void 0:o.children.ref.current;l.info("å½“å‰é€‰æ‹©çš„ç”»è´¨: "+a),l.info(["æ‰€æœ‰çš„ç”»è´¨: ",r.getCurrentQualityList()]),r.setCurrentQuality(a);}catch(n){l.error(n),C.error("åˆ‡æ¢ç”»è´¨å¤±è´¥");}},{capture:true});},waitToRemovePauseDialog(){l.info("ç›‘å¬ã€é•¿æ—¶é—´æ— æ“ä½œï¼Œå·²æš‚åœæ’­æ”¾ã€‘å¼¹çª—");let t=(i,o)=>{var a,d,s,r,c,h;let n=g.text(i);if(n.includes("é•¿æ—¶é—´æ— æ“ä½œ")&&n.includes("æš‚åœæ’­æ”¾")){C.info(`æ£€æµ‹${o}ï¼šå‡ºçŽ°ã€é•¿æ—¶é—´æ— æ“ä½œï¼Œå·²æš‚åœæ’­æ”¾ã€‘å¼¹çª—`,{consoleLogContent:true});let f=v.getReactObj(i);if(typeof f.reactContainer=="object"){let m=v.queryProperty(f.reactContainer,y=>{var x,k;return typeof y.onClose=="function"?{isFind:true,data:y.onClose}:typeof((x=y==null?void 0:y.memoizedProps)==null?void 0:x.onClose)=="function"?{isFind:true,data:(k=y==null?void 0:y.memoizedProps)==null?void 0:k.onClose}:{isFind:false,data:y.child}})||((h=(c=(r=(s=(d=(a=f==null?void 0:f.reactContainer)==null?void 0:a.memoizedState)==null?void 0:d.element)==null?void 0:s.props)==null?void 0:r.children)==null?void 0:c.props)==null?void 0:h.onClose);typeof m=="function"&&(C.success(`æ£€æµ‹${o}ï¼šè°ƒç”¨å‡½æ•°å…³é—­å¼¹çª—`,{consoleLogContent:true}),m());}}},e=new v.LockFunction(()=>{u.getValue("live-waitToRemovePauseDialog")&&(Z("body > div[elementtiming='element-timing']").forEach(i=>{t(i,"1");}),Z('body > div:not([id="root"]):not(:empty)').forEach(i=>{t(i,"2");}));});g.ready(()=>{v.mutationObserver(document.body,{config:{subtree:true,childList:true},immediate:true,callback(){e.run();}});});},pauseVideo(){l.info("ç¦æ­¢è‡ªåŠ¨æ’­æ”¾è§†é¢‘(ç›´æ’­)"),v.waitNode('.basicPlayer[data-e2e="basicPlayer"] video').then(t=>{t.autoplay=false,t.pause(),g.on(t,"play",()=>{t.pause();},{capture:true,once:true});});},changeBackgroundColor(){l.info("ä¿®æ”¹è§†é¢‘èƒŒæ™¯é¢œè‰²");let t=u.getValue("live-changeBackgroundColor");return B(`
		div[id^="living_room_player_container"] div[data-anchor-id="living-background"] div:has(>.xgplayer-dynamic-bg) {
			background: ${t} !important;
		}
		div[id^="living_room_player_container"] div[data-anchor-id="living-background"] .xgplayer-dynamic-bg{
			visibility: hidden;
		}
		`)}},ai={init(){u.execMenu("douyin-redirect-url-home-to-root",()=>{this.redirectUrlHomeToRoot();});},redirectUrlHomeToRoot(){window.location.pathname==="/home"&&(l.info("ä»Žé¦–é¡µè·³è½¬åˆ°æ ¹ç›®å½•"),window.location.href=window.location.origin+"/?is_from_mobile_home=1&recommend=1");}},li=`/* åŽ»é™¤é¡¶éƒ¨çš„paddingè·ç¦» */\r
#douyin-right-container {\r
	padding-top: 0;\r
}\r
/* æ”¾å¤§æ”¾å¤§é¡¶éƒ¨çš„ç»¼åˆã€è§†é¢‘ã€ç”¨æˆ·ç­‰headerçš„å®½åº¦ */\r
#search-content-area > div > div:nth-child(1) > div:nth-child(1) {\r
	width: 100vw;\r
}\r
/* æ”¾å¤§é¡¶éƒ¨çš„ç»¼åˆã€è§†é¢‘ã€ç”¨æˆ·ç­‰header */\r
#search-content-area > div > div:nth-child(1) > div:nth-child(1) > div {\r
	transform: scale(0.8);\r
}\r
/* è§†é¢‘å®½åº¦ */\r
ul[data-e2e="scroll-list"] {\r
	padding: 0px 10px;\r
}\r
#sliderVideo {\r
	width: -webkit-fill-available;\r
}\r
/* è·ç¦»æ˜¯é¡¶éƒ¨å¯¼èˆªæ çš„é«˜åº¦ */\r
#search-content-area {\r
	margin-top: 65px;\r
}\r
/* ä»Žå…¶å®ƒé¡µé¢è¿›å…¥æœç´¢é¡µé¢ï¼Œä¾‹å¦‚è·¯å¾„æ˜¯/root/searchï¼Œä¼šå‡ºçŽ°è¿”å›žæŒ‰é’® */\r
#douyin-header header{\r
	flex-direction: row-reverse !important;\r
}\r
#douyin-header header > div:nth-child(2) {\r
	position: unset !important;\r
}\r
/* è°ƒæ•´è§†é¢‘åˆ—è¡¨çš„å®½åº¦ */\r
@media screen and (max-width: 550px) {\r
	#sliderVideo {\r
		width: 100%;\r
	}\r
	/* è°ƒæ•´é¡¶éƒ¨æœç´¢æ¡†çš„å®½åº¦ */\r
	#component-header\r
		div[data-click="doubleClick"]\r
		> div[data-click="doubleClick"]\r
		> div:has(input[data-e2e="searchbar-input"]) {\r
		width: -webkit-fill-available;\r
		padding-right: 0;\r
	}\r
}\r
`,si={init(){u.execMenuOnce("douyin-search-shieldReleatedSearches",()=>this.shieldReleatedSearches());},shieldReleatedSearches(){return l.info("ã€å±è”½ã€‘ç›¸å…³æœç´¢"),[b.addBlockCSS("#search-content-area > div > div:nth-child(2)"),B(`
			#search-content-area > div > div:nth-child(1) > div:nth-child(1){
				width: 100vw;
			}`)]}},di={init(){si.init(),u.execMenuOnce("mobileMode",()=>this.mobileMode()),u.execMenuOnce("dy-search-disableClickToEnterFullScreen",()=>{this.disableClickToEnterFullScreen();}),u.execMenuOnce("live-setSearchResultFilterWithVideoStyle",t=>this.setSearchResultFilterWithVideoStyle(t.value));},mobileMode(){l.info("æœç´¢-æ‰‹æœºæ¨¡å¼");let t=[];return t.push(B(li)),t.push(B(`
			@media screen and (max-width: 550px){
				div#search-body-container {
					display: flex;
				}
				div#search-body-container #component-Navigation {
					flex: 0;
				}
				div#search-body-container #douyin-right-container {
					flex: 1 auto;
				}
				div#search-body-container #douyin-right-container #search-content-area > div {
					width: 100% !important;
				}
				div#search-body-container #douyin-right-container #search-content-area > div > div > div {
					width: 100% !important;
					margin-left: 0px;
					margin-right: 0px;
					padding-left: 0px;
					padding-right: 0px;
				}
				/* ä¸Šé¢çš„æœç´¢ç»“æžœç­›é€‰ */
				#search-content-area > div >div> div:first-child > div:first-child > div:last-child{
					overflow: auto;
					text-wrap: nowrap;
					height: auto;
				}
				/* è§†é¢‘å³ä¾§çš„TAçš„ä½œå“â†“ */
				#searchSideCard{
					width: unset !important;
				}
				#searchSideCard > div{
					padding: 0px !important;
				}
				#searchSideCard > div:has(>div+svg),
				#searchSideCard ul[data-e2e="scroll-list"]{
					padding: 0px 10px !important;
				}
				#searchSideCard ul[data-e2e="scroll-list"] .video-playing-item > div{
					width: auto;
				}
				/* è§†é¢‘å³ä¾§çš„TAçš„ä½œå“â†‘ */
				/* æ‚¬æµ®çš„ç­›é€‰ */
				#douyin-right-container #douyin-header{
        			background-color: var(--color-bg-b0);
				}
				xg-right-grid{
					margin: auto !important;
				}
			}
		`)),v.waitNode("#relatedVideoCard").then(e=>{l.info("è¯„è®ºåŒºå±•å¼€çš„classNameï¼š"+e.className),t.push(B(`
					html[data-vertical-screen]
						#sliderVideo[data-e2e="feed-active-video"]
						#videoSideBar:has(#relatedVideoCard[class="${e.className}"]) {
							width: 100vw !important;
					}`));}),t},disableClickToEnterFullScreen(){l.info("æœç´¢-ç¦æ­¢ç‚¹å‡»è§†é¢‘åŒºåŸŸè¿›å…¥å…¨å±"),g.on(document,"click",".focusPanel",t=>{var n;v.preventEvent(t);let o=((n=t.target.parentElement)==null?void 0:n.parentElement).querySelector("video");o?o.paused?(l.info(".focusPanelï¼šæ’­æ”¾è§†é¢‘"),o.play()):(l.info(".focusPanelï¼šè§†é¢‘æš‚åœ"),o.pause()):(l.error(".focusPanelæœªæ‰¾åˆ°<video>æ ‡ç­¾"),C.error(".focusPanelæœªæ‰¾åˆ°<video>æ ‡ç­¾",{isHTML:false}));},{capture:true}),g.on(document,"click","xg-video-container",t=>{v.preventEvent(t);let i=t.target.querySelector("video");i?i.paused?(l.info("xg-video-containerï¼šæ’­æ”¾è§†é¢‘"),i.play()):(l.info("xg-video-containerï¼šè§†é¢‘æš‚åœ"),i.pause()):(l.error("xg-video-containeræœªæ‰¾åˆ°<video>æ ‡ç­¾"),C.error("xg-video-containeræœªæ‰¾åˆ°<video>æ ‡ç­¾",{isHTML:false}));},{capture:true});},setSearchResultFilterWithVideoStyle(t="one"){if(l.info(`è®¾ç½®æœç´¢ç»“æžœ-æŒ‰è§†é¢‘è¿‡æ»¤çš„æ˜¾ç¤ºæ ·å¼ï¼š${t}`),t==="one")return B(`
			@media screen and (max-width: 800px){
				.search-horizontal-new-layout ul[data-e2e="scroll-list"] li{
					width: calc(100% - 21px);
				}
			}
			`);if(t==="double")return B(`	
			@media screen and (max-width: 800px){
				.search-horizontal-new-layout ul[data-e2e="scroll-list"] li{
					width: calc(50% - 21px);
				}
			}
			`)}},ci={init(){u.exec(["shieldLeftNavigator","search-shieldLeftNavigator"],()=>this.shieldLeftNavigator(),t=>{const[e,i]=t;let o=u.getValue(e),n=u.getValue(i);if(V.isSearch()){if(n==1)return  true;if(n==0)return  false}return o}),u.execMenuOnce("shieldLeftNavigator-tab-home",()=>this.block_tab_home()),u.execMenuOnce("shieldLeftNavigator-tab-recommend",()=>this.block_tab_recommend()),u.execMenuOnce("shieldLeftNavigator-tab-follow",()=>this.block_tab_follow()),u.execMenuOnce("shieldLeftNavigator-tab-friend",()=>this.block_tab_friend()),u.execMenuOnce("shieldLeftNavigator-tab-user_self",()=>this.block_tab_user_self()),u.execMenuOnce("shieldLeftNavigator-tab-live",()=>this.block_tab_live()),u.execMenuOnce("shieldLeftNavigator-tab-vs",()=>this.block_tab_vs()),u.execMenuOnce("shieldLeftNavigator-tab-series",()=>this.block_tab_series()),u.execMenuOnce("shieldLeftNavigator-tab-ai-search",()=>this.block_tab_ai_search());},shieldLeftNavigator(){l.info("ã€å±è”½ã€‘å·¦ä¾§å¯¼èˆªæ ");let t=[];return t.push(b.addBlockCSS("#douyin-navigation")),t.push(B(`
			/* ä¿®å¤é¡¶éƒ¨å¯¼èˆªæ çš„å®½åº¦ */
			#douyin-header{
				width: 100%;
			}`)),t},block_tab_home(){return l.info("ã€å±è”½ã€‘ç²¾é€‰"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-discover)')},block_tab_recommend(){return l.info("ã€å±è”½ã€‘æŽ¨è"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-recommend)')},block_tab_follow(){return l.info("ã€å±è”½ã€‘å…³æ³¨"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-follow)')},block_tab_friend(){return l.info("ã€å±è”½ã€‘æœ‹å‹"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-friend)')},block_tab_user_self(){return l.info("ã€å±è”½ã€‘æˆ‘çš„"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div > div:has(.tab-user_self)')},block_tab_user_self_like(){return l.info("ã€å±è”½ã€‘å–œæ¬¢"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div > div:has(.tab-user_self_like)')},block_tab_user_self_collection(){return l.info("ã€å±è”½ã€‘æ”¶è—"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div > div:has(.tab-user_self_collection)')},block_tab_user_self_record(){return l.info("ã€å±è”½ã€‘è§‚çœ‹åŽ†å²"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div > div:has(.tab-user_self_record)')},block_tab_live(){return l.info("ã€å±è”½ã€‘ç›´æ’­"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-live)')},block_tab_vs(){return l.info("ã€å±è”½ã€‘æ”¾æ˜ åŽ…"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-vs)')},block_tab_series(){return l.info("çŸ­å‰§"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-series)')},block_tab_ai_search(){return l.info("ã€å±è”½ã€‘AIæœç´¢"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has([class^="tab-aisearch"])')},block_tab_channel_300203(){return l.info("ã€å±è”½ã€‘çŸ¥è¯†"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-channel_300203)')},block_tab_channel_300205(){return l.info("ã€å±è”½ã€‘æ¸¸æˆ"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-channel_300205)')},block_tab_channel_300206(){return l.info("ã€å±è”½ã€‘äºŒæ¬¡å…ƒ"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-channel_300206)')},block_tab_channel_300209(){return l.info("ã€å±è”½ã€‘éŸ³ä¹"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-channel_300209)')},block_tab_channel_300204(){return l.info("ã€å±è”½ã€‘ç¾Žé£Ÿ"),b.addBlockCSS('div[data-e2e="douyin-navigation"] > div > div > div > div:has(.tab-channel_300204)')}},ui=`/* ä»Žé¡¶éƒ¨å¾€ä¸‹å¼¹å‡ºçš„ä¸‹è½½æŠ–éŸ³ç”µè„‘ç‰ˆçš„draweræç¤º */\r
#douyin-web-download-guide-container\r
/* è§†é¢‘ä¿¡æ¯åŒºåŸŸçš„ åŠæ—¶æŽ¥æ”¶ä½œå“æ›´æ–°æé†’ ä¸‹è½½ç”µè„‘å®¢æˆ·ç«¯ */\r
/* ä½†æ˜¯è¿™ä¸ªCSSåˆä¼šå±è”½å³é”®èœå• */\r
/*.basePlayerContainer xg-bar.xg-right-bar + div:not(:has(>svg))*/ ,\r
/* ä¸‹è½½å®¢æˆ·ç«¯ï¼Œä½¿ç”¨å£çº¸ */\r
div:has(+#wallpaper-modal),\r
/* ä¸‹è½½å®¢æˆ·ç«¯ï¼Œå®žæ—¶æŽ¥æ”¶æ¶ˆæ¯é€šçŸ¥ */\r
/* ä¸‹è½½å®¢æˆ·ç«¯ï¼Œå®žæ—¶æŽ¥æ”¶å¥½å‹æ¶ˆæ¯ */\r
div:has(> a[download*="douyin-downloade"]):has(+.popShadowAnimation),\r
div:has(> a[download*="douyin-downloade"]):has(+div>[data-e2e="listDlgTest-container"]),\r
/* å®¢æˆ·ç«¯ç™»å½•è®¿é—®æ›´ä¾¿æ· */\r
div:has(> a[download*="douyin-downloade"]):has(+.userMenuPanelShadowAnimation),\r
/* å‰å¾€ç”µè„‘å®¢æˆ·ç«¯ï¼Œå³äº«ä¸‹è½½è§†é¢‘ */\r
[data-e2e="video-share-container"] div:has(>div>div> a[download*="douyin-downloader"]):first-child,\r
/* so.douyin.comçš„å¹¿å‘Šitem */\r
.card-item:has(.h5-ad-video-card),\r
.card-item:has([data-is-ad="true"]) {\r
	display: none !important;\r
}\r
`,hi=`/* èµ„æ–™å³è¾¹çš„ ä¸‹è½½æ¡Œé¢å®¢æˆ·ç«¯ï¼Œæ¡Œé¢å¿«æ·è®¿é—® */\r
div[data-e2e="user-detail"] div:has(> div > a[href*="douyin-pc"]) {\r
	display: none !important;\r
}\r
`,pi={init(){B(hi),g.ready(()=>{u.execMenu("dy-user-addShowUserUID",()=>{this.addShowUserUID();});});},addShowUserUID(){Be.waitReactPropsToSet('[data-e2e="user-detail"] [data-e2e="user-info"]',"reactFiber",{msg:"æ˜¾ç¤ºUID",check(t){var e,i,o;return typeof((o=(i=(e=t==null?void 0:t.return)==null?void 0:e.memoizedProps)==null?void 0:i.userInfo)==null?void 0:o.uid)=="string"},set(t,e){var n,a,d;let i=(d=(a=(n=t==null?void 0:t.return)==null?void 0:n.memoizedProps)==null?void 0:a.userInfo)==null?void 0:d.uid;g.remove(e.querySelectorAll(".gm-user-uid"));let o=g.createElement("p",{className:"gm-user-uid",innerHTML:`
							<span>UIDï¼š${i}</span>
						`},{style:"color: var(--color-text-t3);margin-right: 20px;font-size: 12px;line-height: 20px;cursor: pointer;"});g.on(o,"click",s=>{v.preventEvent(s),v.setClip(i),C.success("å¤åˆ¶æˆåŠŸ");}),e.appendChild(o);}});}},fi=`/* å•ä¸ªè§†é¢‘é¡µé¢å³ä¾§çš„ ä¸‹è½½å®¢æˆ·ç«¯ï¼Œæ¡Œé¢å¿«æ·è®¿é—® */\r
div[data-e2e="video-detail"]\r
	div\r
	> :has(> div:last-child > a[href*="douyin-pc-web"]) {\r
	display: none !important;\r
}\r
`,mi={init(){B(fi);}},vi=function(t,e,i,o,n,a="",d,s){let r={text:t,type:"input",isNumber:false,isPassword:false,props:{},attributes:{},description:o,getValue(){return this.props[O].get(e,i)},callback(c,h){this.props[O].set(e,h);},placeholder:a};return Reflect.set(r.attributes,ee,e),Reflect.set(r.attributes,te,i),Reflect.set(r.props,O,{get(c,h){return u.getValue(c,h)},set(c,h){u.setValue(c,h);}}),r},gt=function(t,e,i,o,n,a,d="è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªé€‰é¡¹",s){let r=[];typeof o=="function"?r=o():r=o;let c={text:t,type:"select-multiple",description:a,placeholder:d,attributes:{},props:{},getValue(){return this.props[O].get(e,i)},selectConfirmDialogDetails:s,callback(h){let f=[];h.forEach(m=>{f.push(m.value);}),this.props[O].set(e,f),l.info("å¤šé€‰-é€‰æ‹©ï¼š",f);},data:r};return Reflect.set(c.attributes,ee,e),Reflect.set(c.attributes,te,i),Reflect.set(c.props,O,{get(h,f){return u.getValue(h,f)},set(h,f){u.setValue(h,f);}}),c},p=function(t,e,i,o,n,a){let d={text:t,type:"switch",description:n,attributes:{},props:{},getValue(){return !!this.props[O].get(e,i)},callback(s,r){let c=!!r;l.success(`${c?"å¼€å¯":"å…³é—­"} ${t}`),this.props[O].set(e,c);},afterAddToUListCallBack:a};return Reflect.set(d.attributes,ee,e),Reflect.set(d.attributes,te,i),Reflect.set(d.props,O,{get(s,r){return u.getValue(s,r)},set(s,r){u.setValue(s,r);}}),d};class yi{constructor(e){I(this,"option");this.option=e;}async showView(){var d;let e=H.confirm({title:{text:this.option.title,position:"center"},content:{text:`
                    <form class="rule-form-container" onsubmit="return false">
                        <ul class="rule-form-ulist">
                            
                        </ul>
                        <input type="submit" style="display: none;" />
                    </form>
                    `,html:true},btn:v.assign({ok:{callback:async()=>{await a();}}},this.option.btn||{},true),drag:true,mask:{enable:true},style:`
                ${H.config.cssText.panelCSS}
                
                .rule-form-container {
                    
                }
                .rule-form-container li{
                    display: flex;
                    align-items: center;
                    justify-content: space-between;
                    padding: 5px 20px;
                    gap: 10px;
                }
				.rule-form-ulist-dynamic{
					--button-margin-top: 0px;
					--button-margin-right: 0px;
					--button-margin-bottom: 0px;
					--button-margin-left: 0px;
					display: flex;
					flex-direction: column;
					align-items: flex-start;
					padding: 5px 0px 5px 20px;
				}
				.rule-form-ulist-dynamic__inner{
					width: 100%;
				}
				.rule-form-ulist-dynamic__inner-container{
					display: flex;
					align-items: center;
				}
				.dynamic-forms{
					width: 100%;
				}
                .pops-panel-item-left-main-text{
                    max-width: 150px;
                }
                .pops-panel-item-right-text{
                    padding-left: 30px;
                }
                .pops-panel-item-right-text,
                .pops-panel-item-right-main-text{
                    text-overflow: ellipsis;
                    overflow: hidden;
                    white-space: nowrap;
                }
				.pops-panel-item-left-desc-text{
					line-height: normal;
					margin-top: 6px;
					font-size: 0.8em;
					color: rgb(108, 108, 108);
				}

                ${((d=this.option)==null?void 0:d.style)??""}
            `,width:typeof this.option.width=="function"?this.option.width():window.innerWidth>500?"500px":"88vw",height:typeof this.option.height=="function"?this.option.height():window.innerHeight>500?"500px":"80vh"}),i=e.$shadowRoot.querySelector(".rule-form-container");e.$shadowRoot.querySelector("input[type=submit]");let o=e.$shadowRoot.querySelector(".rule-form-ulist"),n=await this.option.getView(await this.option.data());o.appendChild(n);const a=async()=>{(await this.option.onsubmit(i,await this.option.data())).success&&(e.close(),await this.option.dialogCloseCallBack(true));};}}class gi{constructor(e){I(this,"option");this.option=e;}showView(){let e=H.alert({title:{text:this.option.title,position:"center"},content:{text:`
                <div class="filter-container"></div>
                `},btn:{ok:{text:"å…³é—­",type:"default"}},drag:true,mask:{enable:true},width:window.innerWidth>500?"350px":"80vw",height:window.innerHeight>500?"300px":"70vh",style:`
            .filter-container{
                height: 100%;
                display: flex;
                flex-direction: column;
                gap: 20px;
            }
            .filter-container button{
                text-wrap: wrap;
                padding: 8px;
                height: auto;
                text-align: left;
            }
            `}),i=e.$shadowRoot.querySelector(".filter-container"),o=document.createDocumentFragment();this.option.filterOption.forEach(n=>{let a=document.createElement("button");a.innerText=n.name;let d=async()=>{(await this.option.getAllRuleInfo()).forEach(async r=>{await n.filterCallBack(r.data)?g.show(r.$el,false):g.hide(r.$el,false);}),typeof this.option.execFilterCallBack=="function"&&await this.option.execFilterCallBack(),e.close();};g.on(a,"click",async s=>{v.preventEvent(s),!(typeof n.callback=="function"&&!await n.callback(s,d))&&await d();}),o.appendChild(a);}),i.appendChild(o);}}class bi{constructor(e){I(this,"option");this.option=e;}async showView(e){var a,d,s,r,c,h,f,m,y;let i=H.confirm({title:{text:this.option.title,position:"center"},content:{text:`
                    <div class="rule-view-container">
                    </div>
                    `,html:true},btn:{merge:true,reverse:false,position:"space-between",ok:{enable:((s=(d=(a=this.option)==null?void 0:a.bottomControls)==null?void 0:d.add)==null?void 0:s.enable)||true,type:"primary",text:"æ·»åŠ ",callback:async x=>{this.showEditView(false,await this.option.getAddData(),i.$shadowRoot);}},close:{enable:true,callback(x){i.close();}},cancel:{enable:((h=(c=(r=this.option)==null?void 0:r.bottomControls)==null?void 0:c.filter)==null?void 0:h.enable)||false,type:"default",text:"è¿‡æ»¤",callback:(x,k)=>{var L,w,E,_,R,P,D;typeof((E=(w=(L=this.option)==null?void 0:L.bottomControls)==null?void 0:w.filter)==null?void 0:E.callback)=="function"&&this.option.bottomControls.filter.callback();let S=()=>Array.from(i.$shadowRoot.querySelectorAll(".rule-view-container .rule-item")),M=k.target.closest(".pops-confirm-btn").querySelector(".pops-confirm-btn-cancel span");g.text(M).includes("å–æ¶ˆ")?(S().forEach(F=>{g.show(F,false);}),g.text(M,"è¿‡æ»¤")):new gi({title:((R=(_=this.option.bottomControls)==null?void 0:_.filter)==null?void 0:R.title)??"è¿‡æ»¤è§„åˆ™",filterOption:((D=(P=this.option.bottomControls)==null?void 0:P.filter)==null?void 0:D.option)||[],execFilterCallBack(){g.text(M,"å–æ¶ˆè¿‡æ»¤");},getAllRuleInfo:()=>S().map(K=>({data:this.parseRuleItemElement(K).data,$el:K}))}).showView();}},other:{enable:((y=(m=(f=this.option)==null?void 0:f.bottomControls)==null?void 0:m.clear)==null?void 0:y.enable)||true,type:"xiaomi-primary",text:`æ¸…ç©ºæ‰€æœ‰(${(await this.option.data()).length})`,callback:x=>{let k=H.confirm({title:{text:"æç¤º",position:"center"},content:{text:"ç¡®å®šæ¸…ç©ºæ‰€æœ‰çš„æ•°æ®ï¼Ÿ",html:false},btn:{ok:{enable:true,callback:async S=>{var L,w,E;if(l.success("æ¸…ç©ºæ‰€æœ‰"),typeof((E=(w=(L=this.option)==null?void 0:L.bottomControls)==null?void 0:w.clear)==null?void 0:E.callback)=="function"&&this.option.bottomControls.clear.callback(),(await this.option.data()).length){C.error("æ¸…ç†å¤±è´¥");return}else C.success("æ¸…ç†æˆåŠŸ");await this.updateDeleteAllBtnText(i.$shadowRoot),this.clearContent(i.$shadowRoot),k.close();}},cancel:{text:"å–æ¶ˆ",enable:true}},mask:{enable:true},width:"300px",height:"200px"});}}},mask:{enable:true},width:window.innerWidth>500?"500px":"88vw",height:window.innerHeight>500?"500px":"80vh",style:`
            ${H.config.cssText.panelCSS}
            
            .rule-item{
                display: flex;
                align-items: center;
                line-height: normal;
                font-size: 16px;
                padding: 4px 8px;
                gap: 8px;
            }
            .rule-name{
                flex: 1;
                white-space: nowrap;
                text-overflow: ellipsis;
                overflow: hidden;
            }
            .rule-controls{
                display: flex;
                align-items: center;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
                gap: 8px;
                padding: 0px;
            }
            .rule-controls-enable{
                
            }
            .rule-controls-edit{
                
            }
            .rule-controls-delete{
                
            }
            .rule-controls-edit,
            .rule-controls-delete{
                width: 16px;
                height: 16px;
                cursor: pointer;
            }
            `}),o=await this.option.data(),n=false;for(let x=0;x<o.length;x++){let k=o[x],S=await this.appendRuleItemElement(i.$shadowRoot,k);(typeof e=="function"?e(k):true)||(n=true,S.forEach(L=>{g.hide(L,false);}));}if(n){let x=i.$shadowRoot.querySelector(".pops-confirm-btn-cancel span");g.text(x,"å–æ¶ˆè¿‡æ»¤");}}showEditView(e,i,o,n,a,d){let s=async c=>{if(c){if(typeof d=="function"){let h=await this.option.getData(i);d(h);}}else if(e||await this.option.deleteData(i),typeof a=="function"){let h=await this.option.getData(i);a(h);}};new yi({title:e?"ç¼–è¾‘":"æ·»åŠ ",data:()=>i,dialogCloseCallBack:s,getView:async c=>await this.option.itemControls.edit.getView(c,e),btn:{ok:{enable:true,text:e?"ä¿®æ”¹":"æ·»åŠ "},cancel:{callback:async(c,h)=>{c.close(),await s(false);}},close:{callback:async(c,h)=>{c.close(),await s(false);}}},onsubmit:async(c,h)=>{let f=await this.option.itemControls.edit.onsubmit(c,e,h);return f.success?e?(C.success("ä¿®æ”¹æˆåŠŸ"),o&&await this.updateRuleItemElement(f.data,n,o)):o&&await this.appendRuleItemElement(o,f.data):e&&l.error("ä¿®æ”¹å¤±è´¥"),f},style:this.option.itemControls.edit.style,width:this.option.itemControls.edit.width,height:this.option.itemControls.edit.height}).showView();}parseViewElement(e){let i=e.querySelector(".rule-view-container"),o=e.querySelector(".pops-confirm-btn button.pops-confirm-btn-other");return {$container:i,$deleteBtn:o}}parseRuleItemElement(e){let i=e.querySelector(".rule-controls-enable"),o=i.querySelector(".pops-panel-switch"),n=i.querySelector(".pops-panel-switch__input"),a=i.querySelector(".pops-panel-switch__core"),d=e.querySelector(".rule-controls-edit"),s=e.querySelector(".rule-controls-delete");return {$enable:i,$enableSwitch:o,$enableSwitchInput:n,$enableSwitchCore:a,$edit:d,$delete:s,data:Reflect.get(e,"data-rule")}}async createRuleItemElement(e,i){let o=await this.option.getDataItemName(e),n=g.createElement("div",{className:"rule-item",innerHTML:`
			<div class="rule-name">${o}</div>
			<div class="rule-controls">
				<div class="rule-controls-enable">
					<div class="pops-panel-switch">
						<input class="pops-panel-switch__input" type="checkbox">
						<span class="pops-panel-switch__core">
							<div class="pops-panel-switch__action">
							</div>
						</span>
					</div>
				</div>
				<div class="rule-controls-edit">
					${H.config.iconSVG.edit}
				</div>
				<div class="rule-controls-delete">
					${H.config.iconSVG.delete}
				</div>
			</div>
			`});Reflect.set(n,"data-rule",e);let a="pops-panel-switch-is-checked";const{$enable:d,$enableSwitch:s,$enableSwitchCore:r,$enableSwitchInput:c,$delete:h,$edit:f}=this.parseRuleItemElement(n);return this.option.itemControls.enable.enable?(g.on(r,"click",async m=>{let y=false;s.classList.contains(a)?(s.classList.remove(a),y=false):(s.classList.add(a),y=true),c.checked=y,await this.option.itemControls.enable.callback(e,y);}),await this.option.itemControls.enable.getEnable(e)&&s.classList.add(a)):d.remove(),this.option.itemControls.edit.enable?g.on(f,"click",m=>{v.preventEvent(m),this.showEditView(true,e,i,n,y=>{e=null,e=y;});}):f.remove(),this.option.itemControls.delete.enable?g.on(h,"click",m=>{v.preventEvent(m);let y=H.confirm({title:{text:"æç¤º",position:"center"},content:{text:"ç¡®å®šåˆ é™¤è¯¥æ¡æ•°æ®ï¼Ÿ",html:false},btn:{ok:{enable:true,callback:async x=>{l.success("åˆ é™¤æ•°æ®"),await this.option.itemControls.delete.deleteCallBack(e)?(C.success("æˆåŠŸåˆ é™¤è¯¥æ•°æ®"),n.remove(),await this.updateDeleteAllBtnText(i),y.close()):C.error("åˆ é™¤è¯¥æ•°æ®å¤±è´¥");}},cancel:{text:"å–æ¶ˆ",enable:true}},mask:{enable:true},width:"300px",height:"200px"});}):h.remove(),n}async appendRuleItemElement(e,i){let{$container:o}=this.parseViewElement(e),n=[],a=Array.isArray(i)?i:[i];for(let d=0;d<a.length;d++){let s=a[d],r=await this.createRuleItemElement(s,e);o.appendChild(r),n.push(r);}return await this.updateDeleteAllBtnText(e),n}async updateRuleContaienrElement(e){this.clearContent(e);const{$container:i}=this.parseViewElement(e);let o=await this.option.data();await this.appendRuleItemElement(e,o),await this.updateDeleteAllBtnText(e);}async updateRuleItemElement(e,i,o){let n=await this.createRuleItemElement(e,o);i.after(n),i.remove();}clearContent(e){const{$container:i}=this.parseViewElement(e);g.html(i,"");}setDeleteBtnText(e,i,o=false){const{$deleteBtn:n}=this.parseViewElement(e);o?g.html(n,i):g.text(n,i);}async updateDeleteAllBtnText(e){let i=await this.option.data();this.setDeleteBtnText(e,`æ¸…ç©ºæ‰€æœ‰(${i.length})`);}}class bt{constructor(){I(this,"$data",{dislike_request_queue:[]});}parseAwemeInfoDictData(e,i=false){var $e,Oe,Pe,Ne,He,Fe,Ue,Ie,Ke,We,Ge,ze,qe,je,Ye,Je,Qe,Ze,Xe,et,tt,it,ot,nt,rt,at,lt,st,dt,ct,ut;let o=(e==null?void 0:e.authorInfo)||(e==null?void 0:e.author),n=($e=o==null?void 0:o.nickname)==null?void 0:$e.toString(),a=(Oe=o==null?void 0:o.uid)==null?void 0:Oe.toString(),d=(Pe=e==null?void 0:e.desc)==null?void 0:Pe.toString(),s=(Ne=e==null?void 0:e.music)==null?void 0:Ne.album,r=(He=e==null?void 0:e.music)==null?void 0:He.author,c=(Fe=e==null?void 0:e.music)==null?void 0:Fe.title,h=((Ue=e==null?void 0:e.stats)==null?void 0:Ue.collectCount)||((Ie=e==null?void 0:e.statistics)==null?void 0:Ie.collect_count),f=((Ke=e==null?void 0:e.stats)==null?void 0:Ke.commentCount)||((We=e==null?void 0:e.statistics)==null?void 0:We.comment_count),m=((Ge=e==null?void 0:e.stats)==null?void 0:Ge.diggCount)||((ze=e==null?void 0:e.statistics)==null?void 0:ze.digg_count),y=((qe=e==null?void 0:e.stats)==null?void 0:qe.shareCount)||((je=e==null?void 0:e.statistics)==null?void 0:je.share_count),x=(Ye=e==null?void 0:e.video)==null?void 0:Ye.duration,k=(e==null?void 0:e.textExtra)||(e==null?void 0:e.text_extra),S=[],M=false,L=false,w=false,E=false,_=((Je=e==null?void 0:e.riskInfos)==null?void 0:Je.content)||((Qe=e==null?void 0:e.risk_infos)==null?void 0:Qe.content),R,P=[],D=(e==null?void 0:e.aweme_type)===68;typeof k=="object"&&Array.isArray(k)&&(k==null||k.forEach(A=>{let W=(A==null?void 0:A.hashtagName)||(A==null?void 0:A.hashtag_name);typeof W=="string"&&W.trim()!=""&&S.push(W);}));let F,K,G=(e==null?void 0:e.videoTag)||(e==null?void 0:e.video_tag),ie=[],z=[],he=(e==null?void 0:e.aweme_id)||(e==null?void 0:e.awemeId);typeof G=="object"&&Array.isArray(G)&&G.forEach(A=>{let W=(A==null?void 0:A.tagName)||(A==null?void 0:A.tag_name),oe=(A==null?void 0:A.tagId)||(A==null?void 0:A.tag_id);if(typeof W=="string"&&W.trim()!=""&&ie.push(W),typeof oe=="number"||typeof oe=="string"){let se=oe.toString();se.trim()!=""&&se!="0"&&z.push(se);}}),(typeof e.cellRoom=="object"||typeof e.cell_room=="object")&&(M=true,i&&l.success("ç›´æ’­é—´ï¼šcellRoom is not null")),e.isAds||e.is_ads?(L=true,i&&l.success("å¹¿å‘Šï¼šisAds is true")):typeof e.rawAdData=="string"&&v.isNotNull(e.rawAdData)||typeof e.raw_ad_data=="string"&&v.isNotNull(e.raw_ad_data)?(L=true,i&&l.success("å¹¿å‘Šï¼šrawAdData is not null")):e.webRawData?(Xe=(Ze=e.webRawData)==null?void 0:Ze.brandAd)!=null&&Xe.is_ad?(L=true,i&&l.success("å¹¿å‘Šï¼šwebRawData.brandAd.is_ad is true")):(tt=(et=e.webRawData)==null?void 0:et.insertInfo)!=null&&tt.is_ad&&(L=true,i&&l.success("å¹¿å‘Šï¼šwebRawData.insertInfo.is_ad is true")):e.web_raw_data&&e.web_raw_data,(typeof _=="string"&&_.trim()===""||typeof _!="string")&&(_=void 0);let N=(e==null?void 0:e.seriesInfo)||(e==null?void 0:e.series_info);if(typeof N=="object"&&N!=null){w=true,R=(N==null?void 0:N.seriesName)||(N==null?void 0:N.series_name);let A=(N==null?void 0:N.seriesContentTypes)||(N==null?void 0:N.series_content_types);Array.isArray(A)&&A.forEach(W=>{let oe=W.name;P.push(oe);});}let U=(e==null?void 0:e.mixInfo)||(e==null?void 0:e.mix_info);typeof U=="object"&&v.isNotNull(U)&&(F=(U==null?void 0:U.mixName)||(U==null?void 0:U.mix_name),K=U==null?void 0:U.desc),D&&(x=void 0);let le=[],ve=(e==null?void 0:e.suggest_words)||((it=e==null?void 0:e.suggest_words)==null?void 0:it.suggest_words)||(e==null?void 0:e.suggestWords);Array.isArray(ve)&&ve.forEach(A=>{let W=A==null?void 0:A.words;Array.isArray(W)&&W.forEach(oe=>{let se=oe==null?void 0:oe.word;typeof se=="string"&&se.trim()!==""&&le.push(se);});}),le=[...new Set(le)];let pe="",ye=(ot=e==null?void 0:e.author)==null?void 0:ot.account_cert_info;if(typeof ye=="string"){let A=v.toJSON(ye);typeof A.label_text=="string"&&(pe=A.label_text);}else typeof((rt=(nt=e==null?void 0:e.authorInfo)==null?void 0:nt.accountCertInfo)==null?void 0:rt.labelText)=="string"&&(pe=(lt=(at=e==null?void 0:e.authorInfo)==null?void 0:at.accountCertInfo)==null?void 0:lt.labelText);let Ce=((st=e==null?void 0:e.author)==null?void 0:st.custom_verify)||((dt=e==null?void 0:e.authorInfo)==null?void 0:dt.customVerify)||"",we=((ct=e==null?void 0:e.author)==null?void 0:ct.enterprise_verify_reason)||((ut=e==null?void 0:e.authorInfo)==null?void 0:ut.enterpriseVerifyReason)||"";return {awemeId:he,nickname:n,uid:a,desc:d,textExtra:S,videoTag:ie,videoTagId:z,suggestWord:le,musicAlbum:s,musicAuthor:r,musicTitle:c,authorAccountCertInfo:pe,authorCustomVerify:Ce,authorEnterpriseVerifyReason:we,riskInfoContent:_,seriesInfoName:R,seriesInfoContentTypes:P,mixInfoName:F,mixInfoDesc:K,collectCount:h,commentCount:f,diggCount:m,shareCount:y,duration:x,isLive:M,isAds:L,isSeriesInfo:w,isMixInfo:E,isPicture:D}}checkFilterWithRule(e){if(e.videoInfoValue==null||e.ruleValue==null)return  false;if(typeof e.videoInfoValue=="string"){if(e.videoInfoValue.match(e.ruleValue))return  true}else if(typeof e.videoInfoValue=="object"){if(Array.isArray(e.videoInfoValue)&&e.videoInfoValue.find(o=>typeof o=="string"&&e.ruleValue!=null?!!o.match(e.ruleValue):false))return  true}else if(typeof e.videoInfoValue=="number"){if(typeof e.ruleValue=="string"){let i=e.ruleValue.trim(),o=i.match(/(\d+)/);if(!o)return l.warn("è¿‡æ»¤å™¨-è§£æžæ¯”è¾ƒå¤§å°çš„æ•°å­—å¤±è´¥: ",e),false;let n=Number(o[1]);if(i.startsWith(">")){if(i.startsWith(">=")){if(e.videoInfoValue>=n)return  true}else if(e.videoInfoValue>n)return  true}else if(i.startsWith("<")){if(i.startsWith("<=")){if(e.videoInfoValue<=n)return  true}else if(e.videoInfoValue<n)return  true}else if(i.startsWith("=")){if(e.videoInfoValue===n)return  true}else return l.warn("è§†é¢‘è¿‡æ»¤å™¨-æœªç»å…è®¸çš„æ¯”è¾ƒç¬¦å·: ",e),false}}else if(typeof e.videoInfoValue=="boolean"&&typeof e.ruleValue=="string"){let i=e.ruleValue.trim();return e.videoInfoValue.toString()===i}return  false}checkAwemeInfoIsFilter(e,i){let o=this.parseAwemeInfoDictData(i),n=false,a=null;e:for(let d=0;d<e.length;d++){const s=e[d],r=Array.isArray(s.data.ruleName)?s.data.ruleName:[s.data.ruleName];for(let c=0;c<r.length;c++){const h=r[c];if(!Reflect.has(o,h))continue;let f=h,m=o[f],y={videoInfoKey:f,videoInfoValue:m,ruleKey:s.data.ruleName,ruleValue:s.data.ruleValue};if(n=this.checkFilterWithRule(y),n)if(Array.isArray(s.dynamicData)&&s.dynamicData.length){let x=[];for(let k=0;k<s.dynamicData.length;k++){const S=s.dynamicData[k];let M=S.ruleName,L=o[M],w={videoInfoKey:M,videoInfoValue:L,ruleKey:S.ruleName,ruleValue:S.ruleValue};x.push(w);let E=this.checkFilterWithRule(w);if(n=n&&E,!n)break}n&&l.success([`è§†é¢‘è¿‡æ»¤å™¨-å¤šç»„ ==> ${s.name}`,o,y,x,i,s]);}else l.success([`è§†é¢‘è¿‡æ»¤å™¨ ==> ${s.name}`,o,y,i,s]);if(n){a=s;break e}}}return {isFilter:n,matchedFilterOption:a,transformAwemeInfo:o,awemeInfo:i}}async sendDislikeVideo(e,i){}removeAweme(...e){if(e.length===1){let i=e[0];i!=null&&i instanceof HTMLElement&&i.remove();}else if(e.length===2){let i=e[0],o=e[1];if(typeof o=="number"){let n=i[o];n!=null&&n instanceof Element&&(n==null||n.remove()),i.splice(o,1);}}}}const kt=function(t,e,i,o,n,a="",d){let s={text:t,type:"textarea",attributes:{},props:{},description:o,placeholder:a,disabled:d,getValue(){let r=this.props[O].get(e,i);return Array.isArray(r)?r.join(`
`):r},callback(r,c){this.props[O].set(e,c);}};return Reflect.set(s.attributes,ee,e),Reflect.set(s.attributes,te,i),Reflect.set(s.props,O,{get(r,c){return u.getValue(r,c)},set(r,c){u.setValue(r,c);}}),s},ue={$key:{STORAGE_KEY:"dy-video-filter-rule",ENABLE_KEY:"shieldVideo-exec-network-enable"},$data:{isFilterAwemeInfoList:new X.Dictionary,awemeInfoMap:new X.Dictionary,get isReverse(){return u.getValue("shieldVideo-only-show-filtered-video")}},init(){if(V.isLive()){u.deleteExecMenuOnce(this.$key.ENABLE_KEY);return}this.execFilter(),u.execMenuOnce("shieldVideo-add-parseVideoInfoButton",()=>{this.addParseButton();});},execFilter(){const t=this;u.execMenuOnce(this.$key.ENABLE_KEY,async()=>{l.info("æ‰§è¡Œè§†é¢‘è¿‡æ»¤å™¨");let e=new bt,i=r=>{if(!u.getValue(t.$key.ENABLE_KEY))return [];let c=t.getData();if(!c.length)return [];let h=Array.isArray(r)?r:[r];return c.filter(m=>m.enable&&(m.data.scope.includes("all")||Array.from(h).findIndex(y=>m.data.scope.includes(y))!==-1))},o=r=>{if(t.$data.isReverse&&(r.isFilter=!r.isFilter,typeof r.transformAwemeInfo.awemeId=="string"&&r.matchedFilterOption)){let c=t.$data.isFilterAwemeInfoList.get(r.transformAwemeInfo.awemeId)||[];c.push(r.matchedFilterOption),t.$data.isFilterAwemeInfoList.set(r.transformAwemeInfo.awemeId,c);}typeof r.transformAwemeInfo.awemeId=="string"&&ue.$data.awemeInfoMap.set(r.transformAwemeInfo.awemeId,{awemeInfo:r.awemeInfo,transformAwemeInfo:r.transformAwemeInfo});},n=(r,c)=>{c.response=h=>{let f=i(r);if(!f.length)return;let m=v.toJSON(h.responseText),y=m.aweme_list;if(Array.isArray(y)){for(let x=0;x<y.length;x++){let k=y[x]||{},S=e.checkAwemeInfoIsFilter(f,k);o(S),S.isFilter&&(e.sendDislikeVideo(S.matchedFilterOption,k),e.removeAweme(y,x--));}h.responseText=JSON.stringify(m);}};},a=(r,c)=>{c.response=h=>{let f=i(r);if(!f.length)return;let m=v.toJSON(h.responseText),y=m.data;if(Array.isArray(y)){for(let x=0;x<y.length;x++){let k=y[x],S=k.aweme||{};typeof(k==null?void 0:k.cell_room)=="object"&&(k==null?void 0:k.cell_room)!=null&&(S.cell_room=k==null?void 0:k.cell_room);let M=e.checkAwemeInfoIsFilter(f,S);o(M),M.isFilter&&(e.sendDislikeVideo(M.matchedFilterOption,S),e.removeAweme(y,x--));}h.responseText=JSON.stringify(m);}};},d=(r,c)=>{c.response=h=>{let f=i(r);if(!f.length)return;let m=v.toJSON(h.responseText),y=m.cards;if(Array.isArray(y)){for(let x=0;x<y.length;x++){let k=y[x],S=v.toJSON((k==null?void 0:k.aweme)||"{}"),M=e.checkAwemeInfoIsFilter(f,S);o(M),M.isFilter&&(e.sendDislikeVideo(M.matchedFilterOption,S),e.removeAweme(y,x--));}h.responseText=JSON.stringify(m);}};},s=(r,c)=>{c.response=h=>{let f=i(r);if(!f.length)return;let m=v.toJSON(h.responseText),y=m.data;if(Array.isArray(y)){for(let x=0;x<y.length;x++){let k=y[x],S=k.aweme_info||{},M=k==null?void 0:k.aweme_mix_info;if(S==null&&M!=null){let L=M==null?void 0:M.mix_items;if(Array.isArray(L)){for(let w=0;w<L.length;w++){let E=L[w],_=e.checkAwemeInfoIsFilter(f,E);o(_),_.isFilter&&(e.sendDislikeVideo(_.matchedFilterOption,E),e.removeAweme(L,w--));}L.length===0&&e.removeAweme(y,x--);}}else {let L=e.checkAwemeInfoIsFilter(f,S);o(L),L.isFilter&&(e.sendDislikeVideo(L.matchedFilterOption,S),e.removeAweme(y,x--));}}h.responseText=JSON.stringify(m);}};};Lt.ajaxHooker.hook(r=>{let c=b.fixUrl(r.url),h=new URL(c);h.pathname.startsWith("/aweme/v1/web/tab/feed")?n("xhr-tab",r):h.pathname.startsWith("/aweme/v1/web/aweme/post/")?n("xhr-userHome",r):h.pathname.startsWith("/aweme/v1/web/mix/aweme/")?n("xhr-mix",r):h.pathname.startsWith("/aweme/v1/web/aweme/related/")?n("xhr-related",r):h.pathname.startsWith("/aweme/v1/web/follow/feed")?a("xhr-follow",r):h.pathname.startsWith("/aweme/v1/web/familiar/feed")?a("xhr-familiar",r):h.pathname.startsWith("/aweme/v1/web/module/feed")?d("xhr-module",r):(h.pathname.startsWith("/aweme/v1/web/general/search/single/")||h.pathname.startsWith("/aweme/v1/web/search/item/"))&&s("xhr-search",r);});});},addParseButton(){B(`
			.basePlayerContainer .gm-video-filter-parse-btn{
				margin-left: 4px;
			}
			.basePlayerContainer .gm-video-filter-parse-btn .semi-icon{
				display: flex;
				justify-content: center;
				align-items: center;
			}
			.basePlayerContainer .gm-video-filter-parse-btn .semi-icon svg{
				
			}
			  /* ä¿®å¤æœç´¢ç»“æžœå•åˆ—é¡µé¢ è§£æžæŒ‰é’®çš„é«˜åº¦é”™ä½ */
  			.searchControl33px .xg-right-grid xg-icon.gm-video-filter-parse-btn span svg{
				transform: translateY(-6px) !important;
			}

		`);let t=new bt,e=o=>{var h,f,m,y,x,k;let n=this,a=(h=v.getReactObj(o))==null?void 0:h.reactFiber,d=((m=(f=a==null?void 0:a.return)==null?void 0:f.memoizedProps)==null?void 0:m.awemeInfo)||((k=(x=(y=a==null?void 0:a.return)==null?void 0:y.return)==null?void 0:x.memoizedProps)==null?void 0:k.awemeInfo);if(d==null){C.error("æœªèŽ·å–åˆ°awemeInfoä¿¡æ¯",{consoleLogContent:true});return}if(typeof d!="object"){C.error("èŽ·å–åˆ°çš„awemeInfoä¿¡æ¯ä¸æ˜¯å¯¹è±¡",{consoleLogContent:true});return}let s,r=t.parseAwemeInfoDictData(d,false);if(l.info(["è§†é¢‘é¡µé¢åŽŸå§‹awemeInfoï¼š",d]),l.info(["è§†é¢‘é¡µé¢è§£æžå‡ºçš„transformAwemeInfoï¼š",r]),typeof r.awemeId=="string"&&ue.$data.awemeInfoMap.has(r.awemeId)){let S=ue.$data.awemeInfoMap.get(r.awemeId);s=S.transformAwemeInfo,l.info(["è§†é¢‘ç½‘ç»œæŽ¥å£è§£æžå‡ºçš„Infoï¼š",S]);}else s=r;let c=n.$data.isFilterAwemeInfoList.get(s.awemeId)||[];H.confirm({title:{text:"è§†é¢‘awemeInfo",position:"center"},content:{text:JSON.stringify(s,null,4).trim(),html:false},drag:true,btn:{merge:!!c.length,position:c.length?"space-between":"flex-end",ok:{enable:true,text:"æ·»åŠ è¿‡æ»¤è§„åˆ™",callback(S,M){n.getRuleViewInstance().showEditView(false,n.getTemplateData());}},cancel:{enable:true,text:"è§„åˆ™ç®¡ç†å™¨",callback(S,M){n.showView();}},other:{enable:!!c.length,text:`å‘½ä¸­çš„è§„åˆ™ï¼ˆ${c.length}ï¼‰`,type:"xiaomi-primary",callback(S,M){n.getRuleViewInstance().showView(L=>!!c.find(E=>L.uuid===E.uuid));}}},mask:{enable:true,clickEvent:{toClose:true}},width:de.setting.width,height:de.setting.height,style:`
				.pops-confirm-content p{
					white-space: break-spaces;
				}
			`});},i=new v.LockFunction(()=>{Z(".basePlayerContainer xg-right-grid:not(:has(.gm-video-filter-parse-btn))").forEach(o=>{let n=g.createElement("xg-icon",{className:"gm-video-filter-parse-btn",innerHTML:`
						<div class="xgplayer-icon">
							<span role="img" class="semi-icon semi-icon-default">
								<svg
									viewBox="0 0 32 32"
									width="1em"
									height="1em"
									style="font-size: 32px"
									xmlns="http://www.w3.org/2000/svg"
									focusable="false"
									fill="none">
									<g>
										<path
											stroke="null"
											fill="currentColor"
											d="m9.78829,8.17117l1.77477,0l0,1.73974l-1.77477,0l0,4.34935a1.77477,1.73974 0 0 1 -1.77477,1.73974a1.77477,1.73974 0 0 1 1.77477,1.73974l0,4.34935l1.77477,0l0,1.73974l-1.77477,0c-0.9495,-0.23486 -1.77477,-0.78288 -1.77477,-1.73974l0,-3.47948a1.77477,1.73974 0 0 0 -1.77477,-1.73974l-0.88739,0l0,-1.73974l0.88739,0a1.77477,1.73974 0 0 0 1.77477,-1.73974l0,-3.47948a1.77477,1.73974 0 0 1 1.77477,-1.73974m12.42342,0a1.77477,1.73974 0 0 1 1.77477,1.73974l0,3.47948a1.77477,1.73974 0 0 0 1.77477,1.73974l0.88739,0l0,1.73974l-0.88739,0a1.77477,1.73974 0 0 0 -1.77477,1.73974l0,3.47948a1.77477,1.73974 0 0 1 -1.77477,1.73974l-1.77477,0l0,-1.73974l1.77477,0l0,-4.34935a1.77477,1.73974 0 0 1 1.77477,-1.73974a1.77477,1.73974 0 0 1 -1.77477,-1.73974l0,-4.34935l-1.77477,0l0,-1.73974l1.77477,0m-6.21171,10.43844a0.88739,0.86987 0 0 1 0.88739,0.86987a0.88739,0.86987 0 0 1 -0.88739,0.86987a0.88739,0.86987 0 0 1 -0.88739,-0.86987a0.88739,0.86987 0 0 1 0.88739,-0.86987m-3.54955,0a0.88739,0.86987 0 0 1 0.88739,0.86987a0.88739,0.86987 0 0 1 -0.88739,0.86987a0.88739,0.86987 0 0 1 -0.88739,-0.86987a0.88739,0.86987 0 0 1 0.88739,-0.86987m7.0991,0a0.88739,0.86987 0 0 1 0.88739,0.86987a0.88739,0.86987 0 0 1 -0.88739,0.86987a0.88739,0.86987 0 0 1 -0.88739,-0.86987a0.88739,0.86987 0 0 1 0.88739,-0.86987z"
											clip-rule="evenodd"
											fill-rule="evenodd" />
									</g>
								</svg>
							</span>
						</div>
						<div class="xg-tips">è§£æžä¿¡æ¯</div>
					`});g.on(n,"click",a=>{v.preventEvent(a);let d=o.closest(".basePlayerContainer");e(d);}),g.prepend(o,n);});});v.mutationObserver(document,{config:{subtree:true,childList:true},immediate:true,callback:()=>{i.run();}});},getRuleViewInstance(){let t=H.config.panelHandleContentUtils();function e(o){return {get(n,a){return o[n]??a},set(n,a){o[n]=a;}}}return new bi({title:"è§†é¢‘è¿‡æ»¤å™¨",data:()=>this.getData(),getAddData:()=>this.getTemplateData(),getDataItemName:o=>o.name,updateData:o=>this.updateData(o),deleteData:o=>this.deleteData(o),getData:o=>this.getData().find(d=>d.uuid===o.uuid)??o,itemControls:{enable:{enable:true,getEnable(o){return o.enable},callback:(o,n)=>{o.enable=n,this.updateData(o);}},edit:{enable:true,getView:(o,n)=>{let a=document.createDocumentFragment();n||(o=this.getTemplateData());let d=p("å¯ç”¨","enable",true);Reflect.set(d.props,O,e(o));let s=t.createSectionContainerItem_switch(d),r=vi("è§„åˆ™åç§°","name","","",void 0,"å¿…å¡«");Reflect.set(r.props,O,e(o));let c=t.createSectionContainerItem_input(r),h=gt("ä½œç”¨åŸŸ","scope",[],[{text:"æ‰€æœ‰",value:"all"},{text:"ç²¾é€‰",value:"xhr-module"},{text:"æŽ¨è",value:"xhr-tab"},{text:"å…³æ³¨",value:"xhr-follow"},{text:"æœ‹å‹",value:"xhr-familiar"},{text:"æœç´¢",value:"xhr-search"},{text:"ç”¨æˆ·ä¸»é¡µ",value:"xhr-userHome"},{text:"æ··åˆä¿¡æ¯",value:"xhr-mix"},{text:"ç›¸å…³æŽ¨è",value:"xhr-related"}].map(_=>({..._,value:_.value})),void 0,"é€‰æ‹©éœ€è¦åœ¨xxxä¸Šç”Ÿæ•ˆçš„ä½œç”¨åŸŸ");Reflect.set(h.props,O,e(o.data));let f=t.createSectionContainerItem_select_multiple_new(h),m=["isLive","isAds","isSeriesInfo","isMixInfo","isPicture","awemeId","nickname","uid","desc","textExtra","videoTag","videoTagId","suggestWord","musicAlbum","musicAuthor","musicTitle","authorAccountCertInfo","authorCustomVerify","authorEnterpriseVerifyReason","riskInfoContent","seriesInfoName","seriesInfoContentTypes","mixInfoName","mixInfoDesc","collectCount","commentCount","diggCount","shareCount","duration"],y=_=>{let R=Array.isArray(_.ruleName)?_.ruleName:[_.ruleName],P=gt("å±žæ€§å","ruleName",R,m.map(z=>({text:z,value:z})),void 0,"é€‰æ‹©éœ€è¦çš„å±žæ€§å ");Reflect.set(P.props,O,e(_));let D=t.createSectionContainerItem_select_multiple_new(P),F=kt("å±žæ€§å€¼","ruleValue","","å¦‚æžœæ˜¯å­—ç¬¦ä¸²ï¼Œå¯æ­£åˆ™ï¼Œæ³¨æ„è½¬ä¹‰");Reflect.set(F.props,O,e(_));let K=t.createSectionContainerItem_textarea(F),G=kt("å¤‡æ³¨","remarks","","");Reflect.set(G.props,O,e(_));let ie=t.createSectionContainerItem_textarea(G);return {$ruleName:D,$ruleValue:K,$remarks:ie}},x=g.createElement("div",{className:"rule-form-ulist-dynamic",innerHTML:`
							<div class="rule-form-ulist-dynamic__inner">

							</div>
							<div class="pops-panel-button pops-panel-button-no-icon">
								<button class="pops-panel-button_inner" type="default">
									<i class="pops-bottom-icon" is-loading="false"></i>
									<span class="pops-panel-button-text">æ·»åŠ é¢å¤–å±žæ€§</span>
								</button>
							</div>
							`}),k=x.querySelector(".rule-form-ulist-dynamic__inner"),S=x.querySelector(".pops-panel-button"),M=(_={ruleName:[],ruleValue:"",remarks:""})=>{let R=g.createElement("div",{className:"rule-form-ulist-dynamic__inner-container",innerHTML:`
									<div class="dynamic-control-delete">
										<div class="pops-panel-button pops-panel-button-no-icon">
											<button class="pops-panel-button_inner" type="danger">
												<i class="pops-bottom-icon" is-loading="false"></i>
												<span class="pops-panel-button-text">Ã—</span>
											</button>
										</div>
									</div>
									<ul class="dynamic-forms">

									</ul>
								`}),P=R.querySelector(".dynamic-control-delete");g.on(P,"click",ie=>{if(v.preventEvent(ie),R.remove(),Array.isArray(o.dynamicData)){let z=o.dynamicData.findIndex(he=>he==_);z!==-1&&o.dynamicData.splice(z,1);}});let D=R.querySelector(".dynamic-forms"),{$ruleName:F,$ruleValue:K,$remarks:G}=y(_);D.appendChild(F),D.appendChild(K),D.appendChild(G),k.appendChild(R);};if(g.on(S,"click",_=>{v.preventEvent(_),M();}),Array.isArray(o.dynamicData))for(let _=0;_<o.dynamicData.length;_++){const R=o.dynamicData[_];M(R);}let{$ruleName:L,$ruleValue:w,$remarks:E}=y(o.data);return a.append(s,c,f,L,w,E,x),a},onsubmit:(o,n,a)=>{let d=o.querySelectorAll(".rule-form-ulist > li"),s=this.getTemplateData();return n&&(s.uuid=a.uuid),d.forEach(r=>{let c=Reflect.get(r,"__formConfig__");if(!c)return;let h=Reflect.get(c,"attributes");if(!h)return;let f=Reflect.get(r,O),m=Reflect.get(h,ee),y=Reflect.get(h,te),x=f.get(m,y);Reflect.has(s,m)?Reflect.set(s,m,x):Reflect.has(s.data,m)?Reflect.set(s.data,m,x):l.error(`${m}ä¸åœ¨æ•°æ®ä¸­`);}),o.querySelectorAll(".rule-form-ulist-dynamic__inner-container").forEach(r=>{let c={};r.querySelectorAll(".dynamic-forms > li").forEach(h=>{let f=Reflect.get(h,"__formConfig__");if(!f)return;let m=Reflect.get(f,"attributes");if(!m)return;let y=Reflect.get(h,O),x=Reflect.get(m,ee),k=Reflect.get(m,te),S=y.get(x,k);Reflect.set(c,x,S);}),s.dynamicData.push(c);}),s.name.trim()===""?(C.error("è§„åˆ™åç§°ä¸èƒ½ä¸ºç©º"),{success:false,data:s}):s.data.scope.length===0?(C.error("è¯·é€‰æ‹©ä½œç”¨åŸŸ"),{success:false,data:s}):s.data.ruleName.length===0?(C.error("è¯·é€‰æ‹©å±žæ€§å"),{success:false,data:s}):s.data.ruleValue.trim()===""?(C.error("å±žæ€§å€¼ä¸èƒ½ä¸ºç©º"),{success:false,data:s}):n?{success:this.updateData(s),data:s}:{success:this.addData(s),data:s}},style:`
                    .pops-panel-textarea textarea{
                        height: 150px;
                    }
					.pops-panel-item-left-desc-text{
						line-height: normal;
						margin-top: 6px;
						font-size: 0.8em;
						color: rgb(108, 108, 108);
					}
					.rule-form-ulist-dynamic{
						--button-margin-top: 0px;
						--button-margin-right: 0px;
						--button-margin-bottom: 0px;
						--button-margin-left: 0px;
						display: flex;
						flex-direction: column;
						align-items: flex-start;
						padding: 5px 20px;
					}
					.rule-form-ulist-dynamic__inner{
						width: 100%;
					}
					.rule-form-ulist-dynamic__inner-container{
						display: flex;
						align-items: center;
					}
					.dynamic-forms{
						width: 100%;
					}
					.pops-panel-textarea textarea{
						height: 60px;
						min-height: 60px;
						width: 250px;
						max-width: 400px;
						min-width: 250px;
						resize: auto;
						transition: unset;
					}
                    `,width:()=>window.innerWidth>700?"700px":"88vw"},delete:{enable:true,deleteCallBack:o=>this.deleteData(o)}},bottomControls:{filter:{enable:true,option:[{name:"è¿‡æ»¤-å·²å¯ç”¨",filterCallBack(o){return o.enable}},{name:"è¿‡æ»¤-æœªå¯ç”¨",filterCallBack(o){return !o.enable}}]},clear:{enable:true,callback:()=>{this.clearData();}}}})},showView(){this.getRuleViewInstance().showView();},getTemplateData(){return {uuid:v.generateUUID(),enable:true,name:"",data:{scope:[],ruleName:"nickname",ruleValue:"",remarks:""},dynamicData:[]}},getData(){return ke(this.$key.STORAGE_KEY,[])},setData(t){ae(this.$key.STORAGE_KEY,t);},addData(t){let e=this.getData();return e.findIndex(o=>o.uuid==t.uuid)===-1?(e.push(t),ae(this.$key.STORAGE_KEY,e),true):false},updateData(t){let e=this.getData(),i=e.findIndex(n=>n.uuid==t.uuid),o=false;return i!==-1&&(o=true,e[i]=t),this.setData(e),o},deleteData(t){let e=this.getData(),i=e.findIndex(n=>n.uuid==t.uuid),o=false;return i!==-1&&(o=true,e.splice(i,1)),this.setData(e),o},clearData(){Ct(this.$key.STORAGE_KEY);},exportRule(t="rule.json"){let e=this.getData(),i=new Blob([JSON.stringify(e,null,4)]),o=window.URL.createObjectURL(i),n=document.createElement("a");n.href=o,n.download=t,n.click(),setTimeout(()=>{window.URL.revokeObjectURL(o);},1500);},importRule(t){let e=H.alert({title:{text:"è¯·é€‰æ‹©å¯¼å…¥æ–¹å¼",position:"center"},content:{text:`
                    <div class="btn-control" data-mode="local">æœ¬åœ°å¯¼å…¥</div>
                    <div class="btn-control" data-mode="network">ç½‘ç»œå¯¼å…¥</div>
                    <div class="btn-control" data-mode="clipboard">å‰ªè´´æ¿å¯¼å…¥</div>
                `,html:true},btn:{ok:{enable:false},close:{enable:true,callback(s,r){s.close();}}},mask:{enable:true},drag:true,width:de.info.width,height:de.info.height,style:`
                .btn-control{
                    display: inline-block;
                    margin: 10px;
                    padding: 10px;
                    border: 1px solid #ccc;
                    border-radius: 5px;
                    cursor: pointer;
                }
            `}),i=e.$shadowRoot.querySelector(".btn-control[data-mode='local']"),o=e.$shadowRoot.querySelector(".btn-control[data-mode='network']"),n=e.$shadowRoot.querySelector(".btn-control[data-mode='clipboard']"),a=s=>{let r=this.getData(),c=[];for(let h=0;h<s.length;h++){const f=s[h];r.findIndex(y=>y.uuid===f.uuid)!==-1||c.push(f);}r=r.concat(c),this.setData(r),C.success(`å…± ${s.length} æ¡è§„åˆ™ï¼Œæ–°å¢ž ${c.length} æ¡`),t==null||t();},d=s=>new Promise(r=>{let c=v.toJSON(s);if(!Array.isArray(c)){l.error(c),C.error("å¯¼å…¥å¤±è´¥ï¼Œæ ¼å¼ä¸ç¬¦åˆï¼ˆä¸æ˜¯æ•°ç»„ï¼‰",{consoleLogContent:true}),r(false);return}if(!c.length){C.error("å¯¼å…¥å¤±è´¥ï¼Œè§£æžå‡ºçš„æ•°æ®ä¸ºç©º",{consoleLogContent:true}),r(false);return}a(c),r(true);});g.on(i,"click",s=>{v.preventEvent(s),e.close();let r=g.createElement("input",{type:"file",accept:".json"});g.on(r,["propertychange","input"],c=>{var m;if(!((m=r.files)!=null&&m.length))return;let h=r.files[0],f=new FileReader;f.onload=()=>{d(f.result);},f.readAsText(h,"UTF-8");}),r.click();}),g.on(o,"click",s=>{v.preventEvent(s),e.close();let r=H.prompt({title:{text:"ç½‘ç»œå¯¼å…¥",position:"center"},content:{text:"",placeholder:"è¯·å¡«å†™URL",focus:true},btn:{close:{enable:true,callback(f,m){f.close();}},ok:{text:"å¯¼å…¥",callback:async(f,m)=>{let y=f.text;if(v.isNull(y)){C.error("è¯·å¡«å…¥å®Œæ•´çš„url");return}let x=C.loading("æ­£åœ¨èŽ·å–é…ç½®..."),k=await Ve.get(y,{allowInterceptConfig:false});if(x.close(),!k.status){l.error(k),C.error("èŽ·å–é…ç½®å¤±è´¥",{consoleLogContent:true});return}await d(k.data.responseText)&&f.close();}},cancel:{enable:false}},mask:{enable:true},drag:true,width:de.info.width,height:"auto"}),c=r.$shadowRoot.querySelector("input"),h=r.$shadowRoot.querySelector(".pops-prompt-btn-ok");g.on(c,["input","propertychange"],f=>{g.val(c)===""?g.attr(h,"disabled","true"):g.removeAttr(h,"disabled");}),g.listenKeyboard(c,"keydown",(f,m,y)=>{f==="Enter"&&y.length===0&&g.val(c)!==""&&v.dispatchEvent(h,"click");}),v.dispatchEvent(c,"input");}),g.on(n,"click",async s=>{v.preventEvent(s),e.close();let r=await v.getClipboardInfo();if(r.error!=null){C.error(r.error.toString());return}if(r.content.trim()===""){C.warning("èŽ·å–åˆ°çš„å‰ªè´´æ¿å†…å®¹ä¸ºç©º");return}await d(r.content);});}},ki=`/* å³ä¾§è§†é¢‘ä¿¡æ¯é‡Œçš„ ä¸‹è½½å®¢æˆ·ç«¯ï¼Œæ¡Œé¢å¿«æ·è®¿é—® */\r
[data-e2e="note-detail"]\r
	div:has(> [data-e2e="user-info"])\r
	> div:has(a[download*="douyin-downloader"]) {\r
	display: none !important;\r
}\r
`,xi={init(){B(ki);}},Et={init(){u.onceExec("dy-global-block-css",()=>this.removeAds()),Jt(),Me.init(),ue.init(),ai.init(),u.execMenuOnce("watchLoginDialogToClose",()=>{vt.watchLoginDialogToClose();}),u.execMenuOnce("disguiseLogin",()=>{vt.disguiseLogin();}),u.execMenuOnce("dy-initialScale",()=>{this.initialScale();}),u.execMenu("dy-apple-removeMetaAppleItunesApp",()=>{this.removeMetaAppleItunesApp();}),ci.init(),It.init(),Kt.init(),u.execMenuOnce("dy-common-listenRouterChange",()=>{this.listenRouterChange();}),V.isLive()?(l.info("Router: ç›´æ’­"),ri.init()):V.isIndex()?(J.init(),V.isSearch()?(l.info("Router: æœç´¢"),di.init()):V.isUser()?(l.info("Router: ç”¨æˆ·é¡µé¢"),pi.init()):V.isVideo()?(l.info("Router: å•ä¸ªè§†é¢‘é¡µé¢"),mi.init()):V.isChannel()?l.info("Router: Channelé¡µé¢"):V.isNote()?(l.info("Router:  ç¬”è®°é¡µé¢"),xi.init()):l.warn("å­router: "+window.location.href)):l.error("æœªé€‚é…router: "+window.location.href);},removeAds(){return (V.isIndex()||V.isJingXuan())&&v.waitNode(()=>g.selector('#douyin-navigation [data-e2e="douyin-navigation"] > div > div > div:contains("ä¸‹è½½æŠ–éŸ³ç²¾é€‰|æ¡æ¡éƒ½æ˜¯å®è—è§†é¢‘")'),1e4).then(t=>{t&&g.remove(t);}),[B(ui)]},initialScale(){l.info("è®¾ç½®<meta>çš„viewportå›ºå®šç¼©æ”¾å€çŽ‡ä¸º1å¹¶ç§»é™¤é¡µé¢åŽŸæœ‰çš„<meta>"),g.ready(()=>{let t=g.createElement("meta",{},{name:"viewport",content:"width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"});g.remove("meta[name='viewport']"),v.waitNode("head").then(()=>{document.head.appendChild(t);});});},removeMetaAppleItunesApp(){v.waitNodeList(['meta[name="apple-itunes-app"]'],1e4).then(t=>{t&&t.forEach(e=>{e.remove();});});},listenRouterChange(){l.info("ç›‘å¬Routeré‡è½½"),g.on(window,"wb_url_change",t=>{let e=window.location.href;l.info("Router Changeï¼š"+e),this.init();});}},fe={isMDouYin(){return window.location.hostname==="m.douyin.com"||window.location.hostname==="www.iesdouyin.com"},isShareUser(){return this.isMDouYin()&&window.location.pathname.startsWith("/share/user/")},isShareVideo(){return this.isMDouYin()&&(window.location.pathname.startsWith("/share/video/")||window.location.pathname.startsWith("/shipin/"))},isShareNote(){return this.isMDouYin()&&window.location.pathname.startsWith("/share/note/")},isShareMusic(){return this.isMDouYin()&&window.location.pathname.startsWith("/share/music/")},isShareChallenge(){return this.isMDouYin()&&window.location.pathname.startsWith("/share/challenge/")}},Ci=`/* é¡¶éƒ¨ æ‰“å¼€çœ‹çœ‹ ç™»å½• */\r
.adapt-login-header,\r
/* ä¸Šé¢å±è”½åŽçš„ç©ºç™½åŒºåŸŸ */\r
.user-card .nav-bar-placeholder,\r
/* è§†é¢‘åŒºåŸŸåº•éƒ¨çš„ã€æ‰“å¼€æŠ–éŸ³Appçœ‹æ›´å¤šå†…å®¹ã€‘ */\r
.select-list .img-button{\r
    display: none !important;\r
}`,ne={getVideoUrl(t){return "https://www.douyin.com/video/"+t},getCollectionUrl(t){return "https://www.douyin.com/collection/"+t},getNoteUrl(t){return "https://www.douyin.com/note/"+t},getHashTagUrl(t){return "https://www.douyin.com/hashtag/"+t},getUserHomeUrl(t){return "https://www.douyin.com/user/"+t},getMusicUrl(t){return "https://www.douyin.com/music/"+t}},wi={init(){B(Ci),u.execMenuOnce("m-dy-share-user-coverPlayletList",()=>{this.coverPlayletList();}),u.execMenuOnce("m-dy-share-user-coverPostListContainer",()=>{this.coverPostListContainer();});},coverPlayletList(){g.on(document,"click",".user-playlet-list .playlet-item",t=>{var r,c,h,f;v.preventEvent(t);let e=t.target,i=(r=v.getReactObj(e))==null?void 0:r.reactFiber;if((i==null?void 0:i.key)==null){C.error("èŽ·å–è§†é¢‘åˆé›†keyå¤±è´¥");return}let n=i==null?void 0:i.index;if(n==null){C.error("èŽ·å–è§†é¢‘åˆé›†indexå¤±è´¥");return}let a=(f=(h=(c=i==null?void 0:i.return)==null?void 0:c.return)==null?void 0:h.pendingProps)==null?void 0:f.playletList;if(a==null){C.error("èŽ·å–è§†é¢‘åˆé›†playletListå¤±è´¥");return}let d=a[n],s=ne.getCollectionUrl(d.mix_id);window.open(s,"_blank");},{capture:true});},coverPostListContainer(){g.on(document,"click",".post-list-container .user-post-cover",t=>{var o,n,a,d,s;v.preventEvent(t);let e=t.target,i=(o=v.getReactObj(e))==null?void 0:o.reactFiber;if((a=(n=i==null?void 0:i.return)==null?void 0:n.memoizedProps)!=null&&a.productionUrl){let r=(s=(d=i==null?void 0:i.return)==null?void 0:d.memoizedProps)==null?void 0:s.productionUrl;window.open(r,"_blank");}else C.error("èŽ·å–è§†é¢‘é“¾æŽ¥å¤±è´¥");},{capture:true});}},Si=`/* é¡¶éƒ¨ æ‰“å¼€çœ‹çœ‹ ç™»å½• */\r
.adapt-login-header,\r
/* è§†é¢‘æè¿°ä¿¡æ¯åŒºåŸŸä¸­çš„ æ‰“å¼€æŠ–éŸ³çœ‹ç²¾å½©è§†é¢‘ */\r
.footer .img-button,\r
/* ç™»å½•é¡µé¢ */\r
.login-page ,\r
/* åº•éƒ¨å·¦ä¸‹è§’ æ‰“å¼€æŠ–éŸ³çœ‹ç²¾å½©è§†é¢‘ */\r
.footer .bottom-btn-con-new,\r
/* åˆé›† æ‰“å¼€æŠ–éŸ³çœ‹ç²¾å½©è§†é¢‘ */\r
.container .end-page-info-button {\r
	display: none !important;\r
}\r
`,_i=`.video-container {\r
	height: 100% !important;\r
	margin-top: 0 !important;\r
}\r
.footer {\r
	bottom: 50px !important;\r
}\r
.mix-info {\r
	bottom: 0px !important;\r
}\r
`,Mi={init(){B(Si),B(_i),u.execMenuOnce("m-dy-share-video-coverGlobalClick",()=>{this.coverGlobalClick();});},coverGlobalClick(){[".right-con",".footer",".mix-info"].forEach(e=>{De.on(document,"click",e,i=>v.preventEvent(i),{capture:true});});}},Li=`/* é¡¶éƒ¨ æ‰“å¼€çœ‹çœ‹ ç™»å½• */\r
.container .adapt-login-header,\r
/* åº•éƒ¨ä¸­é—´çš„ Appå†…æ‰“å¼€ */\r
.container .float-button-con {\r
	display: none !important;\r
}\r
\r
.gallery-container {\r
	margin-top: 10px !important;\r
}\r
`,Bi={init(){B(Li),u.execMenuOnce("m-dy-share-note-blockRecommend",()=>this.blockRecommend()),u.execMenuOnce("m-dy-share-note-blockComment",()=>this.blockComment()),u.execMenuOnce("m-dy-share-note-blockFooterToobar",()=>this.blockFooterToobar()),u.execMenuOnce("m-dy-share-note-coverUser",()=>{this.coverUser();}),u.execMenuOnce("m-dy-share-note-coverHashTag",()=>{this.coverHashTag();}),u.execMenuOnce("m-dy-share-note-coverMusic",()=>{this.coverMusic();}),u.execMenuOnce("m-dy-share-note-coverRecommend",()=>{this.coverRecommend();}),u.execMenuOnce("m-dy-share-note-coverExcitingGraphicsAndText",()=>{this.coverExcitingGraphicsAndText();});},blockRecommend(){return l.info("ã€å±è”½ã€‘ç›¸å…³æŽ¨è"),b.addBlockCSS(".recommend-con")},blockComment(){return l.info("ã€å±è”½ã€‘è¯„è®º"),b.addBlockCSS(".comment-con")},blockFooterToobar(){return l.info("ã€å±è”½ã€‘åº•éƒ¨å·¥å…·æ "),b.addBlockCSS(".footer-con")},coverRecommend(){l.info("è¦†ç›–ç›¸å…³æŽ¨èçš„ç‚¹å‡»äº‹ä»¶"),g.on(document,"click","#masonry .card",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let o=i.return.memoizedProps.awemeId,n=ne.getNoteUrl(o);window.open(n,"_blank");},{capture:true});},coverUser(){l.info("è¦†ç›–ç”¨æˆ·ç‚¹å‡»äº‹ä»¶"),g.on(document,"click",".message-con__top",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let o=i.return.return.memoizedProps.video.authorInfo.sec_uid,n=ne.getUserHomeUrl(o);window.open(n,"_blank");},{capture:true});},coverHashTag(){l.info("è¦†ç›–è¯é¢˜ç‚¹å‡»äº‹ä»¶"),g.on(document,"click",".message-con__content__body .message-con__content__body-text",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let o=i.index,d=i.return.return.return.return.memoizedProps.video.splitStrArr[o].hashtagId,s=ne.getHashTagUrl(d);window.open(s,"_blank");},{capture:true});},coverMusic(){l.info("è¦†ç›–éŸ³ä¹ç‚¹å‡»äº‹ä»¶"),g.on(document,"click",".message-con__footer",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let o=i.return.return.memoizedProps.video.musicId,n=ne.getMusicUrl(o);window.open(n,"_blank");},{capture:true});},coverExcitingGraphicsAndText(){l.info("è¦†ç›–ç²¾å½©å›¾æ–‡ç‚¹å‡»äº‹ä»¶"),g.on(document,"click",".container .related-list-con .related-note-item",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let n=i.return.memoizedProps.itemData.awemeId,a=ne.getNoteUrl(n);window.open(a,"_blank");},{capture:true}),g.on(document,"click",".related-title-con",t=>v.preventEvent(t),{capture:true});}},Vi=`/* é¡¶éƒ¨ æ‰“å¼€çœ‹çœ‹ ç™»å½• */\r
.page-reflow-challenge .header,\r
/* åº•éƒ¨çš„ æ‰“å¼€æŠ–éŸ³Appçœ‹æ›´å¤šå†…å®¹ */\r
.page-reflow-challenge .bottom-btn__con {\r
	display: none !important;\r
}\r
\r
.page-reflow-challenge {\r
	padding-top: 0 !important;\r
}\r
`,Ei={init(){B(Vi),u.onceExec("m-dy-share-challenge-coverTopJump",()=>{this.coverTopJump();}),u.execMenuOnce("m-dy-share-challenge-coverVideoCard",()=>{this.coverVideoCard();});},coverTopJump(){l.info("é˜»æ­¢ä¸Šé¢åŒºåŸŸç‚¹å‡»è·³è½¬è‡³ä¸‹è½½é¡µé¢"),g.on(document,"click",".challenge-body",t=>{v.preventEvent(t);},{capture:true});},coverVideoCard(){l.info("è¦†ç›–è§†é¢‘å¡ç‰‡ç‚¹å‡»äº‹ä»¶"),g.on(document,"click","#pagelet-worklist li.item",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let o=i.return.return.return.memoizedProps.listData,n=i.index,a=o[n],d=ne.getVideoUrl(a.aweme_id);window.open(d,"_blank");},{capture:true});}},Ti=`/* é¡¶éƒ¨ æ‰“å¼€Appï¼Œå‘çŽ°æ›´å¤šå†…å®¹ */\r
.page-reflow-music .header,\r
/* â†‘å±è”½åŽçš„ é¡¶éƒ¨ç©ºç™½åŒºåŸŸ */\r
.page-reflow-music .banner-placeholder ,\r
/* åº•éƒ¨ æ‰“å¼€æŠ–éŸ³Appçœ‹æ›´å¤šå†…å®¹ */\r
.page-reflow-music .bottom-btn__con {\r
	display: none !important;\r
}\r
`,Di={init(){B(Ti),u.execMenuOnce("m-dy-share-music-coverVideoCard",()=>{this.coverVideoCard();});},coverVideoCard(){l.info("è¦†ç›–è§†é¢‘å¡ç‰‡ç‚¹å‡»äº‹ä»¶"),g.on(document,"click","#pagelet-worklist li.item",t=>{v.preventEvent(t);let e=t.target,i=v.getReactObj(e).reactFiber;if(!i){l.error("èŽ·å–reactFiberå¤±è´¥"),C.error("èŽ·å–reactFiberå¤±è´¥");return}let o=i.return.return.return.memoizedProps.listData,n=i.index,a=o[n],d=ne.getVideoUrl(a.aweme_id);window.open(d,"_blank");},{capture:true});}},Ri={init(){fe.isShareUser()?(l.info("M-Router: åˆ†äº«ç”¨æˆ·"),wi.init()):fe.isShareVideo()?(l.info("M-Router: åˆ†äº«è§†é¢‘"),Mi.init()):fe.isShareNote()?(l.info("M-Router: åˆ†äº«ç¬”è®°"),Bi.init()):fe.isShareChallenge()?(l.info("M-Router: åˆ†äº«è¯é¢˜"),Ei.init()):fe.isShareMusic()?(l.info("M-Router: åˆ†äº«éŸ³ä¹"),Di.init()):l.error("æœªçŸ¥M-router: "+window.location.hostname);}},re=function(t,e,i,o,n,a){let d=[];typeof o=="function"?d=o():d=o;let s={text:t,type:"select",description:a,attributes:{},props:{},getValue(){return this.props[O].get(e,i)},callback(r,c,h){let f=c;l.info(`é€‰æ‹©ï¼š${h}`),this.props[O].set(e,f),typeof n=="function"&&n(r,f,h);},data:d};return Reflect.set(s.attributes,ee,e),Reflect.set(s.attributes,te,i),Reflect.set(s.props,O,{get(r,c){return u.getValue(r,c)},set(r,c){u.setValue(r,c);}}),s},Ai=(t,e)=>{let i=e.sectionBodyContainer.querySelector(".keyboard-oneClickOpen"),o=e.sectionBodyContainer.querySelector(".keyboard-oneClickClose"),n=a=>{var d;(d=e.sectionBodyContainer)==null||d.querySelectorAll(".pops-panel-switch").forEach(s=>{let r=s.querySelector(".pops-panel-switch__input"),c=s.querySelector(".pops-panel-switch__core");a?r.checked||c.click():r.checked&&c.click();});};g.on(i,"click",a=>{v.preventEvent(a),n(true);}),g.on(o,"click",a=>{v.preventEvent(a),n(false);});},$={text:`
		<p>æ³¨ï¼šå¼€å¯æ˜¯ç¦ç”¨è¯¥å¿«æ·é”®ã€å…³é—­æ˜¯ä¸ç¦ç”¨è¯¥å¿«æ·é”®</p>
        <a href="javascript:;" class="keyboard-oneClickOpen">ç¦ç”¨å…¨éƒ¨å¿«æ·é”®</a>
        <br>
        <a href="javascript:;" class="keyboard-oneClickClose">å–æ¶ˆç¦ç”¨å…¨éƒ¨å¿«æ·é”®</a>
    `,afterEnterDeepMenuCallBack:Ai};function $i(){const t=document.createElement("canvas"),e=t.getContext("experimental-webgl"),i=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(i.UNMASKED_RENDERER_WEBGL)}const Oi={id:"panel-config-common",title:"é€šç”¨",forms:[{text:"",type:"forms",forms:[{text:"Toasté…ç½®",type:"deepMenu",forms:[{text:"",type:"forms",forms:[re("Toastä½ç½®","qmsg-config-position","bottom",[{value:"topleft",text:"å·¦ä¸Šè§’"},{value:"top",text:"é¡¶éƒ¨"},{value:"topright",text:"å³ä¸Šè§’"},{value:"left",text:"å·¦è¾¹"},{value:"center",text:"ä¸­é—´"},{value:"right",text:"å³è¾¹"},{value:"bottomleft",text:"å·¦ä¸‹è§’"},{value:"bottom",text:"åº•éƒ¨"},{value:"bottomright",text:"å³ä¸‹è§’"}],(t,e,i)=>{l.info("è®¾ç½®å½“å‰Qmsgå¼¹å‡ºä½ç½®"+i);},"Toastæ˜¾ç¤ºåœ¨é¡µé¢ä¹å®«æ ¼çš„ä½ç½®"),re("æœ€å¤šæ˜¾ç¤ºçš„æ•°é‡","qmsg-config-maxnums",3,[{value:1,text:"1"},{value:2,text:"2"},{value:3,text:"3"},{value:4,text:"4"},{value:5,text:"5"}],void 0,"é™åˆ¶Toastæ˜¾ç¤ºçš„æ•°é‡"),p("é€†åºå¼¹å‡º","qmsg-config-showreverse",false,void 0,"ä¿®æ”¹Toastå¼¹å‡ºçš„é¡ºåº")]}]}]},{type:"forms",text:"",forms:[{type:"own",getLiElementCallBack(t){let e=g.createElement("div",{className:"pops-panel-item-left-text",innerHTML:`
							<p class="pops-panel-item-left-main-text">WebGL</p>
							<p class="pops-panel-item-left-desc-text"></p>
							`}),i=e.querySelector(".pops-panel-item-left-desc-text"),o="";try{o=$i();}catch(n){l.error(n),o=n.toString();}return g.text(i,o),g.append(t,e),t}},{text:"åŠŸèƒ½",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("ä¼ªè£…ç™»å½•","disguiseLogin",false,void 0,"ä½¿ç”¨éšæœºUIDè¿›è¡Œä¼ªè£…"),p("initial-scale=1","dy-initialScale",false,void 0,"å¯é…åˆæ‰‹æœºæ¨¡å¼æ”¾å¤§é¡µé¢"),p("ç§»é™¤<meta> apple-itunes-app","dy-apple-removeMetaAppleItunesApp",true,void 0,"Safariä½¿ç”¨ï¼Œç§»é™¤é¡¶éƒ¨æ¨ªå¹…ã€Open in the æŠ–éŸ³ appã€‘"),p("ç›‘å¬Routeræ”¹å˜","dy-common-listenRouterChange",true,void 0,"åŠŸèƒ½é‡è½½"),p("ç§»é™¤æŸäº›Cookie","dy-cookie-remove__ac__",false,void 0,"é˜»æ­¢è§¦å‘éªŒè¯å¼¹çª—ï¼ˆmaybeï¼‰")]},{text:"Urlé‡å®šå‘",type:"forms",forms:[p("é‡å®šå‘/home","douyin-redirect-url-home-to-root",false,void 0,"/home => /")]}]},{type:"deepMenu",text:"ç¦ç”¨æŠ–éŸ³å¿«æ·é”®",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{type:"forms",text:$.text,forms:[p("èµž|å–æ¶ˆèµž","dy-keyboard-hook-likeOrDislike",false,void 0,"Z"),p("è¯„è®º","dy-keyboard-hook-comment",false,void 0,"X"),p("å¼€å¯/å…³é—­å¼¹å¹•","dy-keyboard-hook-danmaku-enable",false,void 0,"B"),p("æ”¶è—/å–æ¶ˆæ”¶è—","dy-keyboard-hook-collect-enable",false,void 0,"C"),p("å¤åˆ¶åˆ†äº«å£ä»¤","dy-keyboard-hook-copyShareLink",false,void 0,"V"),p("æ¸…å±","dy-keyboard-hook-clearScreen",false,void 0,"J"),p("è‡ªåŠ¨è¿žæ’­","dy-keyboard-hook-automaticBroadcast",false,void 0,"K"),p("è§†é¢‘ä¿¡æ¯","dy-keyboard-hook-videoInfo",false,void 0,"I"),p("ä¸æ„Ÿå…´è¶£","dy-keyboard-hook-notInterested",false,void 0,"R"),p("è¿›å…¥ä½œè€…ä¸»é¡µ","dy-keyboard-hook-enterAuthorHomePage",false,void 0,"F"),p("å…³æ³¨/å–æ¶ˆå…³æ³¨","dy-keyboard-hook-follow",false,void 0,"G"),p("æŠ–éŸ³æœç´¢","dy-keyboard-hook-search",false,void 0,"Shift+F"),p("ä¸€é”®å…³é—­å½“å‰é¡µ","dy-keyboard-hook-closeTheCurrentPageWithOneClick",false,void 0,"Shift+Q"),p("ä¸Šä¸‹ç¿»é¡µ","dy-keyboard-hook-pageUpAndDown",false,void 0,"â†‘â†“"),p("å¿«è¿›å¿«é€€","dy-keyboard-hook-fastForwardAndFastBack",false,void 0,"â† â†’"),p("æš‚åœ","dy-keyboard-hook-pause",false,void 0,"ç©ºæ ¼"),p("ç½‘é¡µå†…å…¨å±","dy-keyboard-hook-fullScreenInsideThePage",false,void 0,"Y"),p("å…¨å±","dy-keyboard-hook-fullScreen",false,void 0,"H"),p("ç¨åŽå†çœ‹","dy-keyboard-hook-watchItOutLater",false,void 0,"L"),p("éŸ³é‡è°ƒæ•´","dy-keyboard-hook-volumeAdjustment",false,void 0,"Shift + / Shift -"),p("å‘¼å‡ºå¿«æ·é”®åˆ—è¡¨","dy-keyboard-hook-listOfCallShortcutKeys",false,void 0,"?"),p("å…³é—­å¿«æ·é”®åˆ—è¡¨","dy-keyboard-hook-closeTheShortcutKeyList",false,void 0,"ESC"),p("ç›¸å…³æŽ¨è","dy-keyboard-hook-relevantRecommendation",false,void 0,"N")]}]}]},{text:"",type:"forms",forms:[{text:"å¸ƒå±€å±è”½-å…¨å±€",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{type:"forms",text:$.text,forms:[p("ã€å±è”½ã€‘ç™»å½•å¼¹çª—","watchLoginDialogToClose",true,void 0,"å±è”½å…ƒç´ ä¸”è‡ªåŠ¨ç­‰å¾…å…ƒç´ å‡ºçŽ°å¹¶å…³é—­ç™»å½•å¼¹çª—"),p("ã€å±è”½ã€‘åº•éƒ¨ï¼ŸæŒ‰é’®","shieldBottomQuestionButton",true,void 0,"å±è”½å…ƒç´ ")]}]},{text:"å¸ƒå±€å±è”½-å·¦ä¾§å¯¼èˆªæ ",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{type:"forms",text:$.text,forms:[p("ã€å±è”½ã€‘å·¦ä¾§å¯¼èˆªæ ","shieldLeftNavigator",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç²¾é€‰","shieldLeftNavigator-tab-home",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æŽ¨è","shieldLeftNavigator-tab-recommend",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘AIæœç´¢","shieldLeftNavigator-tab-ai-search",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å…³æ³¨","shieldLeftNavigator-tab-follow",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æœ‹å‹","shieldLeftNavigator-tab-friend",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æˆ‘çš„","shieldLeftNavigator-tab-user_self",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç›´æ’­","shieldLeftNavigator-tab-live",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æ”¾æ˜ åŽ…","shieldLeftNavigator-tab-vs",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘çŸ­å‰§","shieldLeftNavigator-tab-series",false,void 0,"å±è”½å…ƒç´ ")]}]},{text:"å¸ƒå±€å±è”½-é¡¶éƒ¨å¯¼èˆªæ ",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text,type:"forms",forms:[p("ã€å±è”½ã€‘é¡¶éƒ¨å¯¼èˆªæ ","shieldTopNavigator",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å³ä¾§èœå•æ ","shield-topNav-rightMenu",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å®¢æˆ·ç«¯æç¤º","shieldClientTip",true,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å……é’»çŸ³","shieldFillingBricksAndStones",true,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å®¢æˆ·ç«¯","shieldClient",true,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å¿«æ·è®¿é—®","shieldQuickAccess",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘é€šçŸ¥","shieldNotifitation",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç§ä¿¡","shieldPrivateMessage",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æŠ•ç¨¿","shieldSubmission",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å£çº¸","shieldWallpaper",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æ›´å¤š","shield-topNav-rightMenu-more",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç™»å½•å¤´åƒ","shield-topNav-rightMenu-loginAvatar",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘AIæœç´¢","shield-topNav-ai-search",false,void 0,"å±è”½å…ƒç´ ")]}]},{text:"å¸ƒå±€å±è”½-æœç´¢",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text,type:"forms",forms:[p("ã€å±è”½ã€‘æœç´¢æ¡†","shieldSearch",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æœç´¢æ¡†çš„æç¤º","shieldSearchPlaceholder",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘çŒœä½ æƒ³æœ","shieldSearchGuessYouWantToSearch",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æŠ–éŸ³çƒ­ç‚¹","shieldSearchTiktokHotspot",false,void 0,"å±è”½å…ƒç´ ")]}]},{type:"deepMenu",text:"å¸ƒå±€å±è”½-é¼ æ ‡æ‚¬æµ®æç¤º",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{type:"forms",text:$.text+"<br>è§†é¢‘åŒºåŸŸ-å³ä¾§å·¥å…·æ ",forms:[p("è¿›å…¥ä½œè€…ä¸»é¡µ","dy-video-mouseHoverTip-rightToolBar-enterUserHome",false),p("å…³æ³¨","dy-video-mouseHoverTip-rightToolBar-follow",false),p("ç‚¹èµž","dy-video-mouseHoverTip-rightToolBar-addLike",false),p("è¯„è®º","dy-video-mouseHoverTip-rightToolBar-comment",false),p("æ”¶è—","dy-video-mouseHoverTip-rightToolBar-collect",false),p("åˆ†äº«","dy-video-mouseHoverTip-rightToolBar-share",false),p("çœ‹ç›¸å…³","dy-video-mouseHoverTip-rightToolBar-seeCorrelation",false)]},{type:"forms",text:"è§†é¢‘åŒºåŸŸ-åº•éƒ¨å·¥å…·æ ",forms:[p("è‡ªåŠ¨è¿žæ’­","dy-video-mouseHoverTip-bottomToolBar-automaticBroadcast",false),p("æ¸…å±","dy-video-mouseHoverTip-bottomToolBar-clearScreen",false),p("ç¨åŽå†çœ‹","dy-video-mouseHoverTip-bottomToolBar-watchLater",false),p("ç½‘é¡µå…¨å±","dy-video-mouseHoverTip-bottomToolBar-pageFullScreen",false),p("å…¨å±","dy-video-mouseHoverTip-bottomToolBar-fullScreen",false)]}]}]}]},be=function(t,e,i,o,n,a,d,s,r,c){let h={text:t,type:"button",attributes:{},description:e,buttonIcon:o,buttonIsRightIcon:n,buttonIconIsLoading:a,buttonType:d,buttonText:i,callback(f){typeof s=="function"&&s(f);},afterAddToUListCallBack:r};return Reflect.set(h.attributes,Ae,()=>{h.disable=false;}),h},ce=function(t,e,i,o,n,a="default",d){let s=n,r=()=>d.getShowText(i,s),c=be(t,e,r,"keyboard",false,false,a,async h=>{var y;let m=(y=h.target.closest(".pops-panel-button"))==null?void 0:y.querySelector("span");if(d.isWaitPress){C.warning("è¯·å…ˆæ‰§è¡Œå½“å‰çš„å½•å…¥æ“ä½œ");return}if(d.hasOptionValue(i))d.emptyOption(i),C.success("æ¸…ç©ºå¿«æ·é”®");else {let x=C.loading("è¯·æŒ‰ä¸‹å¿«æ·é”®...",{showClose:true,onClose(){d.cancelEnterShortcutKeys();}}),{status:k,option:S,key:M}=await d.enterShortcutKeys(i);x.close(),k?(l.success(["æˆåŠŸå½•å…¥å¿«æ·é”®",S]),C.success("æˆåŠŸå½•å…¥")):C.error(`å¿«æ·é”® ${d.translateKeyboardValueToButtonText(S)} å·²è¢« ${M} å ç”¨`);}m.innerHTML=r();});return c.attributes={},Reflect.set(c.attributes,Ae,()=>false),c},Te=function(t,e,i,o,n,a,d,s,r){let c={text:t,type:"slider",description:s,attributes:{},props:{},getValue(){return this.props[O].get(e,i)},getToolTipContent(h){return typeof d=="function"?d(h):`${h}`},callback(h,f){this.props[O].set(e,f);},min:o,max:n,step:r};return Reflect.set(c.attributes,ee,e),Reflect.set(c.attributes,te,i),Reflect.set(c.props,O,{get(h,f){return u.getValue(h,f)},set(h,f){u.setValue(h,f);}}),c},Pi={id:"panel-config-video",title:"è§†é¢‘",forms:[{text:"",type:"forms",forms:[{text:"åŠŸèƒ½",type:"deepMenu",forms:[{text:"åŠŸèƒ½",type:"forms",forms:[re("æ¸…æ™°åº¦","chooseVideoDefinition",-2,[{text:"è¶…æ¸… 4K",value:-2},{text:"è¶…æ¸… 2K",value:-1},{text:"é«˜æ¸… 1080P",value:1},{text:"é«˜æ¸… 720P",value:2},{text:"æ ‡æ¸… 540P",value:3},{text:"æžé€Ÿ",value:4},{text:"æ™ºèƒ½",value:0}],void 0,"è‡ªè¡Œé€‰æ‹©æ¸…æ™°åº¦"),p("æ²‰æµ¸æ¨¡å¼","fullScreen",false,void 0,"ç§»é™¤å³ä¾§å·¥å…·æ ã€åº•éƒ¨ä¿¡æ¯æ ç­‰"),p("æ‰‹æœºæ¨¡å¼","mobileMode",false,void 0,"æ”¾å¤§æ–‡å­—å’Œå›¾æ ‡ï¼Œè‡ªåŠ¨å¯ç”¨ã€initial-scale=1ã€‘å’Œã€ä¿®å¤è¿›åº¦æ¡ã€‘åŠŸèƒ½"),p("ä¿®å¤è¿›åº¦æ¡","repairProgressBar",false,void 0,"ä¿®å¤ç§»åŠ¨ç«¯ä¸èƒ½ç‚¹å‡»æ‹–æ‹½å’Œå®šä½è¿›åº¦çš„é—®é¢˜ï¼ˆä»…ç§»åŠ¨ç«¯ä½¿ç”¨ï¼‰"),p("ç¦ç”¨åŒå‡»ç‚¹èµž","dy-video-disableDoubleClickLike",false,void 0,"ç¦æ­¢è§†é¢‘åŒºåŸŸåŒå‡»ç‚¹èµž"),p("æ‰‹åŠ¿è¿”å›žå…³é—­è¯„è®ºåŒº","dy-video-gestureBackCloseComment",false,void 0,"æµè§ˆå™¨æ‰‹åŠ¿è¿”å›žæ—¶å…³é—­è¯„è®ºåŒº"),p("ç›‘å¬å¹¶å…³é—­ã€é•¿æ—¶é—´æ— æ“ä½œï¼Œå·²æš‚åœæ’­æ”¾ã€‘å¼¹çª—","dy-video-waitToRemovePauseDialog",true,void 0,"è‡ªåŠ¨ç›‘å¬å¹¶æ£€æµ‹å¼¹çª—"),p("è§†é¢‘è§£æž","parseVideo",true,void 0,"åˆ†äº«->ä¸‹è½½ï¼ˆç°è‰²çš„ä¹Ÿå¯ç‚¹å‡»ï¼‰"),p("ä¿®æ”¹å¤åˆ¶é“¾æŽ¥å†…å®¹","dy-video-hookCopyLinkButton",true,void 0,"åˆ†äº«->å¤åˆ¶é“¾æŽ¥ï¼Œå¤åˆ¶çš„å†…å®¹ä»…ä¸ºé“¾æŽ¥ï¼Œä¸åŒ…å«å…¶å®ƒ"),p("è¯„è®ºåŒºç§»åˆ°ä¸­é—´","changeCommentToBottom",true,void 0,"ä¿®æ”¹è¯„è®ºåŒºä¸ºä¸­é—´å¼¹å‡ºè€Œéžå³ä¾§åŒºåŸŸ"),p("â†‘è‡ªé€‚åº”è¯„è®ºåŒºä½ç½®","douyin-video-autoCheckChangeCommentToBottom",true,void 0,"æ ¹æ®window.screen.orientation.typeè‡ªåŠ¨åˆ¤æ–­æ˜¯å¦å¼€å¯ã€è¯„è®ºåŒºç§»åˆ°ä¸­é—´ã€‘"),p("è‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±","autoEnterElementFullScreen",false,void 0,"ç½‘é¡µåŠ è½½å®Œæ¯•åŽè‡ªåŠ¨ç‚¹å‡»ç½‘é¡µå…¨å±æŒ‰é’®è¿›å…¥å…¨å±"),p("åŒå‡»è¿›å…¥ç½‘é¡µå…¨å±","dy-video-doubleClickEnterElementFullScreen",false,void 0,"åŒå‡»è§†é¢‘è‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±ï¼Œæ£€æµ‹é—´éš”250ms"),p("ç§»é™¤videoçš„bottomåç§»","dy-video-removeStyle-bottom",false,void 0,"")]},{text:"è§†é¢‘åŒºåŸŸèƒŒæ™¯è‰²",type:"forms",forms:[p("å¯ç”¨","dy-video-bgColor-enable",false,void 0,"è‡ªå®šä¹‰è§†é¢‘èƒŒæ™¯è‰²"),{type:"own",attributes:{"data-key":"dy-video-changeBackgroundColor","data-default-value":"#000000"},getLiElementCallBack(t){let e=g.createElement("div",{className:"pops-panel-item-left-text",innerHTML:`
											<p class="pops-panel-item-left-main-text">è§†é¢‘èƒŒæ™¯é¢œè‰²</p>
											<p class="pops-panel-item-left-desc-text">è‡ªå®šä¹‰è§†é¢‘èƒŒæ™¯é¢œè‰²ï¼ŒåŒ…æ‹¬è¯„è®ºåŒº</p>
											`}),i=g.createElement("div",{className:"pops-panel-item-right",innerHTML:`
											<input type="color" class="pops-color-choose" />
											`}),o=i.querySelector(".pops-color-choose");o.value=u.getValue("dy-video-changeBackgroundColor");let n=g.createElement("style");return g.append(document.head,n),g.on(o,["input","propertychange"],a=>{l.info("é€‰æ‹©é¢œè‰²ï¼š"+o.value),n.innerHTML=`
												#sliderVideo > div{
													background: ${o.value};
												}
												`,u.setValue("dy-video-changeBackgroundColor",o.value);}),t.appendChild(e),t.appendChild(i),t}}]},{type:"forms",text:"è§†é¢‘æ ‡é¢˜",forms:[p("è‡ªåŠ¨éšè—è§†é¢‘æ ‡é¢˜","dy-video-titleInfoAutoHide",false,void 0,"é¼ æ ‡ç§»å…¥æ—¶è‡ªåŠ¨æ˜¾ç¤ºï¼Œé¼ æ ‡ç§»é™¤æ—¶è‡ªåŠ¨éšè—"),Te("å»¶è¿Ÿè‡ªåŠ¨éšè—çš„æ—¶é—´","dy-video-titleInfoAutoHide-delayTime",3e3,0,8e3,void 0,t=>`${t}ms`,"è®¾ç½®é¦–æ¬¡å»¶è¿Ÿè‡ªåŠ¨éšè—è§†é¢‘æ ‡é¢˜çš„æ—¶é—´ï¼Œå•ä½ï¼ˆmsï¼‰",100)]},{type:"forms",text:"åº•éƒ¨çš„è§†é¢‘æŽ§ä»¶",forms:[p("è‡ªåŠ¨éšè—è§†é¢‘æŽ§ä»¶","dy-video-videoControlsAutoHide",false,void 0,"é¼ æ ‡ç§»å…¥æ—¶è‡ªåŠ¨æ˜¾ç¤ºï¼Œé¼ æ ‡ç§»é™¤æ—¶è‡ªåŠ¨éšè—"),Te("å»¶è¿Ÿè‡ªåŠ¨éšè—çš„æ—¶é—´","dy-video-videoControlsAutoHide-delayTime",3e3,0,8e3,void 0,t=>`${t}ms`,"è®¾ç½®é¦–æ¬¡å»¶è¿Ÿè‡ªåŠ¨éšè—è§†é¢‘æ ‡é¢˜çš„æ—¶é—´ï¼Œå•ä½ï¼ˆmsï¼‰",100)]},{type:"forms",text:"å³ä¾§å·¥å…·æ ",forms:[p("è‡ªåŠ¨éšè—å³ä¾§å·¥å…·æ ","dy-video-rightToolBarAutoHide",false,void 0,"é¼ æ ‡ç§»å…¥æ—¶è‡ªåŠ¨æ˜¾ç¤ºï¼Œé¼ æ ‡ç§»é™¤æ—¶è‡ªåŠ¨éšè—"),Te("å»¶è¿Ÿè‡ªåŠ¨éšè—çš„æ—¶é—´","dy-video-rightToolBarAutoHide-delayTime",3e3,0,8e3,void 0,t=>`${t}ms`,"è®¾ç½®é¦–æ¬¡å»¶è¿Ÿè‡ªåŠ¨éšè—è§†é¢‘æ ‡é¢˜çš„æ—¶é—´ï¼Œå•ä½ï¼ˆmsï¼‰",100)]}]},{text:"è‡ªå®šä¹‰å¿«æ·é”®",type:"deepMenu",forms:[{text:"",type:"forms",forms:[ce("å€é€Ÿ -> å°","è§†é¢‘å€é€Ÿå˜å°","dy-video-rate-low",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Y.shortCut),ce("å€é€Ÿ -> å¤§","è§†é¢‘å€é€Ÿå˜å¤§","dy-video-rate-up",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Y.shortCut),ce("æ²‰æµ¸æ¨¡å¼","ç§»é™¤å³ä¾§å·¥å…·æ ã€åº•éƒ¨ä¿¡æ¯æ ç­‰","dy-video-shortcut-immersionMode",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Y.shortCut),ce("åˆ‡æ¢é™éŸ³çŠ¶æ€","åˆ‡æ¢videoæ ‡ç­¾çš„mutedå±žæ€§","dy-video-shortcut-changeVideoMuted",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Y.shortCut)]}]},{type:"deepMenu",text:"ç¦ç”¨æŠ–éŸ³å¿«æ·é”®",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{type:"forms",text:$.text,forms:[p("ä¸Šç¿»é¡µ","dy-keyboard-hook-arrowUp-w",false,void 0,"W"),p("ä¸‹ç¿»é¡µ","dy-keyboard-hook-arrowDown-s",false,void 0,"S"),p("å¿«é€€","dy-keyboard-hook-videoRewind",false,void 0,"A"),p("å¿«è¿›","dy-keyboard-hook-videoFastForward",false,void 0,"D")]}]},{text:"è¿‡æ»¤å™¨",type:"deepMenu",forms:[{text:'<a href="https://greasyfork.org/zh-CN/scripts/494643-%E6%8A%96%E9%9F%B3%E4%BC%98%E5%8C%96#:~:text=%E5%B1%8F%E8%94%BD%E8%A7%84%E5%88%99" target="_blank">ç‚¹å‡»æŸ¥çœ‹è§„åˆ™</a>',type:"forms",forms:[p("å¯ç”¨","shieldVideo-exec-network-enable",true,void 0,"å¼€å¯åŽä»¥ä¸‹åŠŸèƒ½æ‰ä¼šç”Ÿæ•ˆ"),p("ä»…æ˜¾ç¤ºè¢«è¿‡æ»¤çš„è§†é¢‘","shieldVideo-only-show-filtered-video",false,void 0,"åªä¼šæ˜¾ç¤ºè¿‡æ»¤è§„åˆ™å‘½ä¸­çš„è§†é¢‘"),p("æ–°å¢ž {...} æŒ‰é’®","shieldVideo-add-parseVideoInfoButton",false,void 0,"åœ¨è§†é¢‘çš„åº•éƒ¨çš„å·¥å…·æ ä¸­æ˜¾ç¤º {...} æŒ‰é’®ï¼Œç”¨äºŽæŸ¥çœ‹è§†é¢‘ä¿¡æ¯ä»¥ä¾¿äºŽè¿›è¡Œæ·»åŠ è¿‡æ»¤è§„åˆ™"),be("è§†é¢‘è¿‡æ»¤è§„åˆ™","å¯è¿‡æ»¤è§†é¢‘","è‡ªå®šä¹‰",void 0,false,false,"primary",()=>{ue.showView();})]},{type:"forms",text:"",forms:[be("æ•°æ®å¯¼å…¥","å¯¼å…¥è‡ªå®šä¹‰è§„åˆ™æ•°æ®","å¯¼å…¥",void 0,false,false,"primary",()=>{ue.importRule();}),be("æ•°æ®å¯¼å‡º","å¯¼å‡ºè‡ªå®šä¹‰è§„åˆ™æ•°æ®","å¯¼å‡º",void 0,false,false,"primary",()=>{ue.exportRule(Ut+"-è§†é¢‘è¿‡æ»¤è§„åˆ™.json");})]}]}]},{text:"",type:"forms",forms:[{text:"å¸ƒå±€å±è”½-è§†é¢‘åŒºåŸŸå†…",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text+"<br>å³ä¾§å·¥å…·æ ",type:"forms",forms:[p("ã€å±è”½ã€‘åˆ‡æ¢æ’­æ”¾","shieldPlaySwitchButton",false,void 0,"å±è”½å…ƒç´ ï¼Œåœ¨å³ä¾§ä½œè€…å¤´åƒä¸Šæ–¹æˆ–è€…æ˜¯åœ¨å³ä¾§åŒºåŸŸ"),p("ã€å±è”½ã€‘ä½œè€…å¤´åƒ","shieldAuthorAvatar",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç‚¹èµž","shieldLikeButton",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘è¯„è®º","shieldCommentButton",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æ”¶è—","shieldCollectionButton",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘åˆ†äº«","shieldSharenButton",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘çœ‹ç›¸å…³","shieldRelatedRecommendationsButton",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æ›´å¤š","shieldMoreButton",false,void 0,"...æŒ‰é’®ï¼Œå±è”½å…ƒç´ ")]},{text:"åº•éƒ¨å·¥å…·æ ",type:"forms",forms:[p("ã€å±è”½ã€‘åº•éƒ¨è§†é¢‘å·¥å…·æ ","shieldBottomVideoToolBar",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å¼¹å¹•å®¹å™¨","shieldBottomVideoToolbarDanmuContainer",false,void 0,"å±è”½å…ƒç´ ï¼ˆä¸åŒ…æ‹¬å±è”½å¼¹å¹•ï¼‰"),p("ã€å±è”½ã€‘è§†é¢‘ä¿¡æ¯","dy-video-bottom-shieldVideoInfoWrap",false,void 0,"å±è”½å…ƒç´ ï¼Œå¯ä»£æ›¿ã€æ¸…å±ã€‘åŠŸèƒ½")]},{text:"å…¶å®ƒ",type:"forms",forms:[p("ã€å±è”½ã€‘å³ä¾§çš„å±•å¼€è¯„è®ºæŒ‰é’®","shieldRightExpandCommentButton",true,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘æœç´¢æ‚¬æµ®æ ","shieldSearchFloatingBar",true,void 0,"å±è”½å…ƒç´ ï¼Œä¸€èˆ¬å‡ºçŽ°åœ¨å·¦ä¸Šè§’"),p("ã€å±è”½ã€‘ç½‘é¡µå…¨å±å…³é—­æŒ‰é’®","shieldCloseFullScreenButton",true,void 0,"å±è”½å…ƒç´ ï¼Œä¸€èˆ¬å¼€å¯ç½‘é¡µå…¨å±åŽå‡ºçŽ°åœ¨å·¦ä¸Šè§’"),p("ã€å±è”½ã€‘è´­ç‰©ä¿¡æ¯","dy-video-blockShopInfo",true,void 0,"å±è”½å…ƒç´ ï¼Œè¯¥å…ƒç´ å‡ºçŽ°åœ¨è§†é¢‘åº•éƒ¨çš„ç”¨æˆ·åã€æ ‡é¢˜ä¿¡æ¯çš„ä¸Šé¢")]}]},{text:"å¸ƒå±€å±è”½-è¯„è®ºåŒºåŸŸå†…",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text,type:"forms",forms:[p("ã€å±è”½ã€‘è¯„è®ºå·¥å…·æ ","dy-video-shieldUserCommentToolBar",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å¤§å®¶éƒ½åœ¨æœ","dy-video-shieldUserCommentEveryOneAllSearch",false,void 0,"åœ¨è¯„è®ºåŒºçš„é¡¶éƒ¨å‡ºçŽ°")]}]}]}]},Ni={id:"panel-config-search",title:"æœç´¢",forms:[{text:"",type:"forms",forms:[{text:"åŠŸèƒ½",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("ç¦æ­¢ç‚¹å‡»è§†é¢‘åŒºåŸŸè¿›å…¥å…¨å±","dy-search-disableClickToEnterFullScreen",false,void 0,"ç¦æ­¢ç‚¹å‡»è§†é¢‘åŒºåŸŸæ—¶ä¼šè§¦å‘è‡ªåŠ¨è¿›å…¥å…¨å±åŠŸèƒ½"),re("è‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±","search-autoEnterElementFullScreen",0,()=>[{text:`è·Ÿéšä¸»è®¾ç½®ï¼ˆ${q.get("autoEnterElementFullScreen")?"æ˜¯":"å¦"}ï¼‰`,value:-1},{text:"æ˜¯",value:1},{text:"å¦",value:0}],void 0,["è§†é¢‘","åŠŸèƒ½","è‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±"].map(t=>`<code>${t}</code>`).join("-")),re("æœç´¢ç»“æžœ-è§†é¢‘-æ˜¾ç¤ºæ ·å¼","live-setSearchResultFilterWithVideoStyle","one",[{text:"å•åˆ—",value:"one"},{text:"åŒåˆ—",value:"double"}],void 0,"è‡ªå®šä¹‰æœç´¢ç»“æžœï¼ŒæŒ‰è§†é¢‘ç­›é€‰çš„ç»“æžœé¡¹çš„æ˜¾ç¤ºæ ·å¼")]}]}]},{text:"",type:"forms",forms:[{text:"å¸ƒå±€å±è”½",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text,type:"forms",forms:[p("ã€å±è”½ã€‘ç›¸å…³æœç´¢","douyin-search-shieldReleatedSearches",false,void 0,"å±è”½å³è¾¹çš„ç›¸å…³æœç´¢")]}]},{text:"å¸ƒå±€å±è”½-å·¦ä¾§å¯¼èˆªæ ",type:"deepMenu",forms:[{text:"",type:"forms",forms:[re("ã€å±è”½ã€‘å·¦ä¾§å¯¼èˆªæ ","search-shieldLeftNavigator",-1,()=>[{text:`è·Ÿéšä¸»è®¾ç½®ï¼ˆ${q.get("shieldLeftNavigator")?"æ˜¯":"å¦"}ï¼‰`,value:-1},{text:"æ˜¯",value:1},{text:"å¦",value:0}],void 0,["é€šç”¨","å¸ƒå±€å±è”½-å·¦ä¾§å¯¼èˆªæ ","ã€å±è”½ã€‘å·¦ä¾§å¯¼èˆªæ "].map(t=>`<code>${t}</code>`).join("-"))]}]},{text:"å¸ƒå±€å±è”½-é¡¶éƒ¨å¯¼èˆªæ ",type:"deepMenu",forms:[{text:"",type:"forms",forms:[re("ã€å±è”½ã€‘é¡¶éƒ¨å¯¼èˆªæ ","search-shieldTopNavigator",-1,()=>[{text:`è·Ÿéšä¸»è®¾ç½®ï¼ˆ${q.get("shieldTopNavigator")?"æ˜¯":"å¦"}ï¼‰`,value:-1},{text:"æ˜¯",value:1},{text:"å¦",value:0}],void 0,["é€šç”¨","å¸ƒå±€å±è”½-é¡¶éƒ¨å¯¼èˆªæ ","ã€å±è”½ã€‘é¡¶éƒ¨å¯¼èˆªæ "].map(t=>`<code>${t}</code>`).join("-"))]}]}]}]},Hi={id:"panel-config-live",title:"ç›´æ’­",forms:[{text:"",type:"forms",forms:[{text:"åŠŸèƒ½",type:"deepMenu",forms:[{text:"åŠŸèƒ½",type:"forms",forms:[re("æ¸…æ™°åº¦","live-chooseQuality","origin",Object.keys(me).map(t=>{let e=me[t];return {value:t,text:e.label}}),void 0,"è‡ªè¡Œé€‰æ‹©æ¸…æ™°åº¦"),p("è§£é”ç”»è´¨é€‰æ‹©","live-unlockImageQuality",true,void 0,"æœªç™»å½•çš„æƒ…å†µä¸‹é€‰æ‹©åŽŸç”»å®žé™…ä¸Šæ˜¯æœªç™»å½•çš„æƒ…å†µä¸‹æœ€é«˜é€‰æ‹©çš„ç”»è´¨"),p("è‡ªåŠ¨è¿›å…¥ç½‘é¡µå…¨å±","live-autoEnterElementFullScreen",false,void 0,"ç½‘é¡µåŠ è½½å®Œæ¯•åŽè‡ªåŠ¨ç‚¹å‡»ç½‘é¡µå…¨å±æŒ‰é’®è¿›å…¥å…¨å±"),p("ç›‘å¬å¹¶å…³é—­ã€é•¿æ—¶é—´æ— æ“ä½œï¼Œå·²æš‚åœæ’­æ”¾ã€‘å¼¹çª—","live-waitToRemovePauseDialog",true,void 0,"è‡ªåŠ¨ç›‘å¬å¹¶æ£€æµ‹å¼¹çª—"),p("ç¦æ­¢è‡ªåŠ¨æ’­æ”¾","live-pauseVideo",false,void 0,"æš‚åœç›´æ’­æ’­æ”¾"),p("è§£æžç›´æ’­ä¿¡æ¯","live-parsePlayerInstance",true,void 0,"å¼€å¯åŽå°†åœ¨æ²¹çŒ´èœå•ä¸­æ–°å¢žèœå•ã€âš™ PlayerInstanceã€‘ï¼Œå¯è§£æžå½“å‰çš„ç›´æ’­ä¿¡æ¯"),p("ç¦ç”¨åŒå‡»ç‚¹èµž","dy-live-disableDoubleClickLike",false,void 0,"ç¦æ­¢ç›´æ’­è§†é¢‘åŒºåŸŸåŒå‡»ç‚¹èµž")]},{text:"è§†é¢‘åŒºåŸŸèƒŒæ™¯è‰²",type:"forms",forms:[p("å¯ç”¨","live-bgColor-enable",false,void 0,"è‡ªå®šä¹‰è§†é¢‘èƒŒæ™¯è‰²"),{type:"own",attributes:{"data-key":"live-changeBackgroundColor","data-default-value":"#000000"},getLiElementCallBack(t){let e=g.createElement("div",{className:"pops-panel-item-left-text",innerHTML:`
											<p class="pops-panel-item-left-main-text">è§†é¢‘èƒŒæ™¯é¢œè‰²</p>
											<p class="pops-panel-item-left-desc-text">è‡ªå®šä¹‰è§†é¢‘èƒŒæ™¯é¢œè‰²</p>
											`}),i=g.createElement("div",{className:"pops-panel-item-right",innerHTML:`
											<input type="color" class="pops-color-choose" />
											`}),o=i.querySelector(".pops-color-choose");return o.value=u.getValue("live-changeBackgroundColor"),g.on(o,["input","propertychange"],n=>{l.info("é€‰æ‹©é¢œè‰²ï¼š"+o.value),u.setValue("live-changeBackgroundColor",o.value);}),t.appendChild(e),t.appendChild(i),t}}]}]},{text:"æ¶ˆæ¯è¿‡æ»¤å™¨",type:"deepMenu",description:"åŒ…æ‹¬ï¼šå¼¹å¹•ã€èŠå¤©å®¤",forms:[{text:"",type:"forms",forms:[p("å¯ç”¨","live-danmu-shield-rule-enable",false,void 0,"å¯ç”¨è‡ªå®šä¹‰çš„å¼¹å¹•è¿‡æ»¤è§„åˆ™"),p("ã€å±è”½ã€‘é€ç¤¼ä¿¡æ¯","live-danmu-shield-gift",false,void 0,""),p("ã€å±è”½ã€‘ç¦è¢‹å£ä»¤","live-danmu-shield-lucky-bag",false,void 0,"")]},{type:"forms",text:"èŠå¤©å®¤",forms:[p("ã€å±è”½ã€‘xxx ä¸ºä¸»æ’­åŠ äº† xxåˆ†","live-message-shield-biz_scene-common_text_game_score",false,void 0,""),p("ã€å±è”½ã€‘emoji","live-message-shield-method-emoji-chat",false,void 0,"")]},{type:"forms",text:"",forms:[{type:"own",getLiElementCallBack(t){let e=g.createElement("div",{className:"pops-panel-textarea",innerHTML:'<textarea placeholder="è¯·è¾“å…¥å±è”½è§„åˆ™ï¼Œæ¯è¡Œä¸€ä¸ª" style="height:350px;"></textarea>'},{style:"width: 100%;"}),i=e.querySelector("textarea");return i.value=ge.get(),g.on(i,["input","propertychange"],v.debounce(function(){ge.set(i.value),ge.init();},1e3)),t.appendChild(e),t}}]}]},{text:"è‡ªå®šä¹‰å¿«æ·é”®",type:"deepMenu",forms:[{text:"",type:"forms",forms:[ce("ã€å±è”½ã€‘èŠå¤©å®¤","","dy-live-block-chatroom",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Le.shortCut),ce("ã€å±è”½ã€‘ç¤¼ç‰©ç‰¹æ•ˆ","","dy-live-shieldGiftEffects",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Le.shortCut),ce("åˆ‡æ¢é™éŸ³çŠ¶æ€","åˆ‡æ¢videoæ ‡ç­¾çš„mutedå±žæ€§","dy-live-shortcut-changeVideoMuted",void 0,"ç‚¹å‡»å½•å…¥å¿«æ·é”®",void 0,Le.shortCut)]}]},{type:"deepMenu",text:"ç¦ç”¨æŠ–éŸ³å¿«æ·é”®",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{type:"forms",text:$.text,forms:[p("åˆ·æ–°","dy-live-refresh",false,void 0,"E"),p("å±å¹•æ—‹è½¬","dy-live-screenRotation",false,void 0,"D"),p("å¼€å¯å°çª—æ¨¡å¼","dy-live-enableSmallWindowMode",false,void 0,"U")]}]}]},{text:"",type:"forms",forms:[{text:"å¸ƒå±€å±è”½-è§†é¢‘åŒºåŸŸå†…",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text,type:"forms",forms:[p("ã€å±è”½ã€‘é¡¶æ ä¿¡æ¯","live-shieldTopToolBarInfo",false,void 0,"å±è”½å…ƒç´ ï¼ŒåŒ…æ‹¬ç›´æ’­ä½œè€…ã€å³ä¾§çš„ç¤¼ç‰©å±•é¦†"),p("ã€å±è”½ã€‘åº•éƒ¨çš„ç¤¼ç‰©æ ","live-shieldGiftColumn",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç¤¼ç‰©ç‰¹æ•ˆ","live-shieldGiftEffects",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç¦è¢‹","live-shieldLucky",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å¼¹å¹•","live-shieldDanmuku",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘å°é»„è½¦","live-shielYellowCar",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç‚¹äº®å±•é¦†å¸®ä¸»æ’­é›†æ˜Ÿ","live-block-exhibition-banner-dylive-tooltip",false,void 0,"å±è”½å…ƒç´ ï¼Œç¤¼ç‰©å±•é¦†ä¸‹é¢çš„æ‚¬æµ®æç¤º")]},{type:"forms",text:"å³é”®èœå•",forms:[p("ã€å±è”½ã€‘ä¸‹è½½å®¢æˆ·ç«¯","dy-live-blockVideoRightMenu-downloadClient",true,void 0,"å±è”½å³é”®èœå•é¡¹")]}]},{text:"å¸ƒå±€å±è”½-èŠå¤©å®¤",type:"deepMenu",afterEnterDeepMenuCallBack:$.afterEnterDeepMenuCallBack,forms:[{text:$.text,type:"forms",forms:[p("ã€å±è”½ã€‘èŠå¤©å®¤","live-shieldChatRoom",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘è´µå®¾å¸­","live-shielChatRoomVipSeats",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç”¨æˆ·ç­‰çº§å›¾æ ‡","dy-live-shieldUserLevelIcon",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘VIPå›¾æ ‡","dy-live-shieldUserVIPIcon",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç²‰ä¸ç‰Œ","dy-live-shieldUserFansIcon",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ä¿¡æ¯æ’­æŠ¥","dy-live-shieldMessage",false,void 0,"åº•éƒ¨æ»šåŠ¨æ’­æŠ¥çš„çš„xxxæ¥äº†ï¼Œxxxç»™ä¸»æ’­ç‚¹èµž")]}]}]}]},Fi={id:"panel-config-user",title:"ç”¨æˆ·",forms:[{text:"åŠŸèƒ½",type:"forms",forms:[p("æ˜¾ç¤ºUID","dy-user-addShowUserUID",true,void 0,"åœ¨ç”¨æˆ·ä¿¡æ¯åŒºåŸŸä¸‹æ–¹æ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„uid"),be("è·³è½¬è‡³ç”¨æˆ·ä¸»é¡µ","è¾“å…¥ç”¨æˆ·UIDè‡ªåŠ¨è·³è½¬è‡³ç”¨æˆ·ä¸»é¡µ","è·³è½¬",void 0,false,false,"default",async t=>{v.preventEvent(t);let e=prompt("è¯·è¾“å…¥ç”¨æˆ·UID");if(typeof e!="string")return;let i=`https://www.toutiao.com/c/user/${e}/`,o=new URL(i),n=await Ve.options(i,{allowInterceptConfig:false,headers:{"User-Agent":v.getRandomPCUA(),Host:o.hostname,Origin:o.origin,Referer:"https://www.toutiao.com/"}});if(!n.status){l.error(n),C.error("èŽ·å–ç”¨æˆ·sec_uidå¤±è´¥",{consoleLogContent:true});return}let d=n.data.finalUrl.match(/\/user\/token\/(.+)\//);if(!d){C.error("æ­£åˆ™èŽ·å–ç”¨æˆ·sec_uidå¤±è´¥",{consoleLogContent:true});return}let s=d[d.length-1],r=ne.getUserHomeUrl(s);l.info("ç”¨æˆ·sec_uidï¼š"+s),l.info("ç”¨æˆ·ä¸»é¡µé“¾æŽ¥ï¼š"+r),window.open(r,"_blank");})]}]},Ui={id:"m-panel-config-share-user",title:"ä¸»é¡µ",headerTitle:"/share/user<br />ä¸»é¡µ",forms:[{text:"",type:"forms",forms:[{text:"è¦†ç›–ç‚¹å‡»äº‹ä»¶",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("è§†é¢‘åˆé›†","m-dy-share-user-coverPlayletList",true,void 0,"æ­£ç¡®è·³è½¬è§†é¢‘åˆé›†é¡µé¢"),p("è§†é¢‘åˆ—è¡¨","m-dy-share-user-coverPostListContainer",true,void 0,"æ­£ç¡®è·³è½¬è§†é¢‘é¡µé¢")]}]}]}]},Ii={id:"m-panel-config-share-note",title:"ç¬”è®°",headerTitle:"/share/note<br />ç¬”è®°",forms:[{text:"",type:"forms",forms:[{text:"è¦†ç›–ç‚¹å‡»äº‹ä»¶",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("ç²¾å½©å›¾æ–‡","m-dy-share-note-coverExcitingGraphicsAndText",true,void 0,"æ­£ç¡®è·³è½¬ç¬”è®°é¡µé¢"),p("ç”¨æˆ·","m-dy-share-note-coverUser",true,void 0,"æ­£ç¡®è·³è½¬ç”¨æˆ·ä¸»é¡µ"),p("è¯é¢˜","m-dy-share-note-coverHashTag",true,void 0,"æ­£ç¡®è·³è½¬ç›¸å…³è¯é¢˜"),p("éŸ³ä¹","m-dy-share-note-coverMusic",true,void 0,"æ­£ç¡®è·³è½¬ç›¸å…³éŸ³ä¹"),p("ç›¸å…³æŽ¨è","m-dy-share-note-coverRecommend",true,void 0,"æ­£ç¡®è·³è½¬ç¬”è®°é¡µé¢")]}]},{text:"å±è”½å…ƒç´ ",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("ã€å±è”½ã€‘è¯„è®º","m-dy-share-note-blockComment",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘ç›¸å…³æŽ¨è","m-dy-share-note-blockRecommend",false,void 0,"å±è”½å…ƒç´ "),p("ã€å±è”½ã€‘åº•éƒ¨å·¥å…·æ ","m-dy-share-note-blockFooterToobar",false,void 0,"å±è”½å…ƒç´ ")]}]}]}]},Ki={id:"m-panel-config-share-challenge",title:"è¯é¢˜",headerTitle:"/share/challenge<br />è¯é¢˜",forms:[{text:"",type:"forms",forms:[{text:"è¦†ç›–ç‚¹å‡»äº‹ä»¶",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("é¡¶éƒ¨åŒºåŸŸ","m-dy-share-challenge-coverTopJump",true,void 0,"é˜»æ­¢è·³è½¬è‡³ä¸‹è½½é¡µé¢"),p("è§†é¢‘å¡ç‰‡","m-dy-share-challenge-coverVideoCard",true,void 0,"æ­£ç¡®è·³è½¬è§†é¢‘é¡µé¢")]}]}]}]},Wi={id:"m-panel-config-share-video",title:"è§†é¢‘",headerTitle:"/share/video<br />è§†é¢‘",forms:[{text:"",type:"forms",forms:[{text:"è¦†ç›–ç‚¹å‡»äº‹ä»¶",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("å…¨å±€ç‚¹å‡»","m-dy-share-video-coverGlobalClick",true,void 0,"é˜»æ­¢è·³è½¬è‡³ä¸‹è½½é¡µ")]}]}]}]},Gi={id:"m-panel-config-share-music",title:"éŸ³ä¹",headerTitle:"/share/music<br />éŸ³ä¹",forms:[{text:"",type:"forms",forms:[{text:"è¦†ç›–ç‚¹å‡»äº‹ä»¶",type:"deepMenu",forms:[{text:"",type:"forms",forms:[p("è§†é¢‘å¡ç‰‡","m-dy-share-music-coverVideoCard",true,void 0,"æ­£ç¡®è·³è½¬è§†é¢‘é¡µé¢")]}]}]}]};xe.addContentConfig([Oi,Pi,Ni,Hi,Fi]);xe.addContentConfig([Ui,Ii,Ki,Wi,Gi]);St.addMenuOption({key:"show_pops_m_panel_setting",text:"âš™ ç§»åŠ¨ç«¯è®¾ç½®",autoReload:false,isStoreValue:false,showText(t){return t},callback:()=>{u.showPanel(xe.getConfig(1),`${u.$data.scriptName}-ç§»åŠ¨ç«¯è®¾ç½®`);}});u.init();fe.isMDouYin()?Ri.init():Et.init();

})(Qmsg, DOMUtils, Utils, pops);