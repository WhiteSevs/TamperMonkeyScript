/**
 * @desc 初始化PageSpy
 * @version 1.8.11
 * @latestTime 2024。6.11
 * @link https://fastly.jsdelivr.net/npm/@huolala-tech/page-spy-browser
 */
/* prettier-ignore */
class initPageSpy {
  constructor(window = globalThis || self) {
    var PageSpy=function(){"use strict";function e(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function t(t,n,r){return(n=e(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o=function(e){return e&&e.Math==Math&&e},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),a={},s=function(e){try{return!!e()}catch(e){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=!s((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),l=u,f=Function.prototype.call,h=l?f.bind(f):function(){return f.apply(f,arguments)},p={},d={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,m=g&&!d.call({1:2},1);p.f=m?function(e){var t=g(this,e);return!!t&&t.enumerable}:d;var y,v,b=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},A=u,w=Function.prototype,S=w.call,E=A&&w.bind.bind(S,S),k=A?E:function(e){return function(){return S.apply(e,arguments)}},P=k,T=P({}.toString),x=P("".slice),R=function(e){return x(T(e),8,-1)},O=s,L=R,I=Object,C=k("".split),j=O((function(){return!I("z").propertyIsEnumerable(0)}))?function(e){return"String"==L(e)?C(e,""):I(e)}:I,B=function(e){return null==e},U=B,D=TypeError,M=function(e){if(U(e))throw D("Can't call method on "+e);return e},q=j,N=M,_=function(e){return q(N(e))},H="object"==typeof document&&document.all,z={all:H,IS_HTMLDDA:void 0===H&&void 0!==H},F=z.all,Q=z.IS_HTMLDDA?function(e){return"function"==typeof e||e===F}:function(e){return"function"==typeof e},G=Q,W=z.all,V=z.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:G(e)||e===W}:function(e){return"object"==typeof e?null!==e:G(e)},J=i,X=Q,$=function(e,t){return arguments.length<2?(n=J[e],X(n)?n:void 0):J[e]&&J[e][t];var n},Y=k({}.isPrototypeOf),K=i,Z="undefined"!=typeof navigator&&String(navigator.userAgent)||"",ee=K.process,te=K.Deno,ne=ee&&ee.versions||te&&te.version,re=ne&&ne.v8;re&&(v=(y=re.split("."))[0]>0&&y[0]<4?1:+(y[0]+y[1])),!v&&Z&&(!(y=Z.match(/Edge\/(\d+)/))||y[1]>=74)&&(y=Z.match(/Chrome\/(\d+)/))&&(v=+y[1]);var oe=v,ie=oe,ae=s,se=i.String,ce=!!Object.getOwnPropertySymbols&&!ae((function(){var e=Symbol();return!se(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ie&&ie<41})),ue=ce&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,le=$,fe=Q,he=Y,pe=Object,de=ue?function(e){return"symbol"==typeof e}:function(e){var t=le("Symbol");return fe(t)&&he(t.prototype,pe(e))},ge=String,me=function(e){try{return ge(e)}catch(e){return"Object"}},ye=Q,ve=me,be=TypeError,Ae=function(e){if(ye(e))return e;throw be(ve(e)+" is not a function")},we=Ae,Se=B,Ee=function(e,t){var n=e[t];return Se(n)?void 0:we(n)},ke=h,Pe=Q,Te=V,xe=TypeError,Re={exports:{}},Oe=i,Le=Object.defineProperty,Ie=function(e,t){try{Le(Oe,e,{value:t,configurable:!0,writable:!0})}catch(n){Oe[e]=t}return t},Ce=Ie,je="__core-js_shared__",Be=i[je]||Ce(je,{}),Ue=Be;(Re.exports=function(e,t){return Ue[e]||(Ue[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var De=Re.exports,Me=M,qe=Object,Ne=function(e){return qe(Me(e))},_e=Ne,He=k({}.hasOwnProperty),ze=Object.hasOwn||function(e,t){return He(_e(e),t)},Fe=k,Qe=0,Ge=Math.random(),We=Fe(1..toString),Ve=function(e){return"Symbol("+(void 0===e?"":e)+")_"+We(++Qe+Ge,36)},Je=De,Xe=ze,$e=Ve,Ye=ce,Ke=ue,Ze=i.Symbol,et=Je("wks"),tt=Ke?Ze.for||Ze:Ze&&Ze.withoutSetter||$e,nt=function(e){return Xe(et,e)||(et[e]=Ye&&Xe(Ze,e)?Ze[e]:tt("Symbol."+e)),et[e]},rt=h,ot=V,it=de,at=Ee,st=function(e,t){var n,r;if("string"===t&&Pe(n=e.toString)&&!Te(r=ke(n,e)))return r;if(Pe(n=e.valueOf)&&!Te(r=ke(n,e)))return r;if("string"!==t&&Pe(n=e.toString)&&!Te(r=ke(n,e)))return r;throw xe("Can't convert object to primitive value")},ct=TypeError,ut=nt("toPrimitive"),lt=function(e,t){if(!ot(e)||it(e))return e;var n,r=at(e,ut);if(r){if(void 0===t&&(t="default"),n=rt(r,e,t),!ot(n)||it(n))return n;throw ct("Can't convert object to primitive value")}return void 0===t&&(t="number"),st(e,t)},ft=de,ht=function(e){var t=lt(e,"string");return ft(t)?t:t+""},pt=V,dt=i.document,gt=pt(dt)&&pt(dt.createElement),mt=function(e){return gt?dt.createElement(e):{}},yt=mt,vt=!c&&!s((function(){return 7!=Object.defineProperty(yt("div"),"a",{get:function(){return 7}}).a})),bt=c,At=h,wt=p,St=b,Et=_,kt=ht,Pt=ze,Tt=vt,xt=Object.getOwnPropertyDescriptor;a.f=bt?xt:function(e,t){if(e=Et(e),t=kt(t),Tt)try{return xt(e,t)}catch(e){}if(Pt(e,t))return St(!At(wt.f,e,t),e[t])};var Rt={},Ot=c&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Lt=V,It=String,Ct=TypeError,jt=function(e){if(Lt(e))return e;throw Ct(It(e)+" is not an object")},Bt=c,Ut=vt,Dt=Ot,Mt=jt,qt=ht,Nt=TypeError,_t=Object.defineProperty,Ht=Object.getOwnPropertyDescriptor,zt="enumerable",Ft="configurable",Qt="writable";Rt.f=Bt?Dt?function(e,t,n){if(Mt(e),t=qt(t),Mt(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Qt in n&&!n[Qt]){var r=Ht(e,t);r&&r[Qt]&&(e[t]=n.value,n={configurable:Ft in n?n[Ft]:r[Ft],enumerable:zt in n?n[zt]:r[zt],writable:!1})}return _t(e,t,n)}:_t:function(e,t,n){if(Mt(e),t=qt(t),Mt(n),Ut)try{return _t(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Nt("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var Gt=Rt,Wt=b,Vt=c?function(e,t,n){return Gt.f(e,t,Wt(1,n))}:function(e,t,n){return e[t]=n,e},Jt={exports:{}},Xt=c,$t=ze,Yt=Function.prototype,Kt=Xt&&Object.getOwnPropertyDescriptor,Zt=$t(Yt,"name"),en={EXISTS:Zt,PROPER:Zt&&"something"===function(){}.name,CONFIGURABLE:Zt&&(!Xt||Xt&&Kt(Yt,"name").configurable)},tn=Q,nn=Be,rn=k(Function.toString);tn(nn.inspectSource)||(nn.inspectSource=function(e){return rn(e)});var on,an,sn,cn=nn.inspectSource,un=Q,ln=i.WeakMap,fn=un(ln)&&/native code/.test(String(ln)),hn=Ve,pn=De("keys"),dn=function(e){return pn[e]||(pn[e]=hn(e))},gn={},mn=fn,yn=i,vn=V,bn=Vt,An=ze,wn=Be,Sn=dn,En=gn,kn="Object already initialized",Pn=yn.TypeError,Tn=yn.WeakMap;if(mn||wn.state){var xn=wn.state||(wn.state=new Tn);xn.get=xn.get,xn.has=xn.has,xn.set=xn.set,on=function(e,t){if(xn.has(e))throw Pn(kn);return t.facade=e,xn.set(e,t),t},an=function(e){return xn.get(e)||{}},sn=function(e){return xn.has(e)}}else{var Rn=Sn("state");En[Rn]=!0,on=function(e,t){if(An(e,Rn))throw Pn(kn);return t.facade=e,bn(e,Rn,t),t},an=function(e){return An(e,Rn)?e[Rn]:{}},sn=function(e){return An(e,Rn)}}var On={set:on,get:an,has:sn,enforce:function(e){return sn(e)?an(e):on(e,{})},getterFor:function(e){return function(t){var n;if(!vn(t)||(n=an(t)).type!==e)throw Pn("Incompatible receiver, "+e+" required");return n}}},Ln=k,In=s,Cn=Q,jn=ze,Bn=c,Un=en.CONFIGURABLE,Dn=cn,Mn=On.enforce,qn=On.get,Nn=String,_n=Object.defineProperty,Hn=Ln("".slice),zn=Ln("".replace),Fn=Ln([].join),Qn=Bn&&!In((function(){return 8!==_n((function(){}),"length",{value:8}).length})),Gn=String(String).split("String"),Wn=Jt.exports=function(e,t,n){"Symbol("===Hn(Nn(t),0,7)&&(t="["+zn(Nn(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!jn(e,"name")||Un&&e.name!==t)&&(Bn?_n(e,"name",{value:t,configurable:!0}):e.name=t),Qn&&n&&jn(n,"arity")&&e.length!==n.arity&&_n(e,"length",{value:n.arity});try{n&&jn(n,"constructor")&&n.constructor?Bn&&_n(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=Mn(e);return jn(r,"source")||(r.source=Fn(Gn,"string"==typeof t?t:"")),e};Function.prototype.toString=Wn((function(){return Cn(this)&&qn(this).source||Dn(this)}),"toString");var Vn=Jt.exports,Jn=Q,Xn=Rt,$n=Vn,Yn=Ie,Kn=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(Jn(n)&&$n(n,i,r),r.global)o?e[t]=n:Yn(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:Xn.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},Zn={},er=Math.ceil,tr=Math.floor,nr=Math.trunc||function(e){var t=+e;return(t>0?tr:er)(t)},rr=function(e){var t=+e;return t!=t||0===t?0:nr(t)},or=rr,ir=Math.max,ar=Math.min,sr=function(e,t){var n=or(e);return n<0?ir(n+t,0):ar(n,t)},cr=rr,ur=Math.min,lr=function(e){return e>0?ur(cr(e),9007199254740991):0},fr=function(e){return lr(e.length)},hr=_,pr=sr,dr=fr,gr=function(e){return function(t,n,r){var o,i=hr(t),a=dr(i),s=pr(r,a);if(e&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}},mr={includes:gr(!0),indexOf:gr(!1)},yr=ze,vr=_,br=mr.indexOf,Ar=gn,wr=k([].push),Sr=function(e,t){var n,r=vr(e),o=0,i=[];for(n in r)!yr(Ar,n)&&yr(r,n)&&wr(i,n);for(;t.length>o;)yr(r,n=t[o++])&&(~br(i,n)||wr(i,n));return i},Er=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],kr=Sr,Pr=Er.concat("length","prototype");Zn.f=Object.getOwnPropertyNames||function(e){return kr(e,Pr)};var Tr={};Tr.f=Object.getOwnPropertySymbols;var xr=$,Rr=Zn,Or=Tr,Lr=jt,Ir=k([].concat),Cr=xr("Reflect","ownKeys")||function(e){var t=Rr.f(Lr(e)),n=Or.f;return n?Ir(t,n(e)):t},jr=ze,Br=Cr,Ur=a,Dr=Rt,Mr=function(e,t,n){for(var r=Br(t),o=Dr.f,i=Ur.f,a=0;a<r.length;a++){var s=r[a];jr(e,s)||n&&jr(n,s)||o(e,s,i(t,s))}},qr=s,Nr=Q,_r=/#|\.prototype\./,Hr=function(e,t){var n=Fr[zr(e)];return n==Gr||n!=Qr&&(Nr(t)?qr(t):!!t)},zr=Hr.normalize=function(e){return String(e).replace(_r,".").toLowerCase()},Fr=Hr.data={},Qr=Hr.NATIVE="N",Gr=Hr.POLYFILL="P",Wr=Hr,Vr=i,Jr=a.f,Xr=Vt,$r=Kn,Yr=Ie,Kr=Mr,Zr=Wr,eo=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,u=e.stat;if(n=c?Vr:u?Vr[s]||Yr(s,{}):(Vr[s]||{}).prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(a=Jr(n,r))&&a.value:n[r],!Zr(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Kr(i,o)}(e.sham||o&&o.sham)&&Xr(i,"sham",!0),$r(n,r,i,e)}},to=R,no=c,ro=Array.isArray||function(e){return"Array"==to(e)},oo=TypeError,io=Object.getOwnPropertyDescriptor,ao=no&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),so=TypeError,co=Ne,uo=fr,lo=ao?function(e,t){if(ro(e)&&!io(e,"length").writable)throw oo("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},fo=function(e){if(e>9007199254740991)throw so("Maximum allowed index exceeded");return e};eo({target:"Array",proto:!0,arity:1,forced:s((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=co(this),n=uo(t),r=arguments.length;fo(n+r);for(var o=0;o<r;o++)t[n]=arguments[o],n++;return lo(t,n),n}});var ho=mt("span").classList,po=ho&&ho.constructor&&ho.constructor.prototype,go=po===Object.prototype?void 0:po,mo={},yo=Sr,vo=Er,bo=Object.keys||function(e){return yo(e,vo)},Ao=c,wo=Ot,So=Rt,Eo=jt,ko=_,Po=bo;mo.f=Ao&&!wo?Object.defineProperties:function(e,t){Eo(e);for(var n,r=ko(t),o=Po(t),i=o.length,a=0;i>a;)So.f(e,n=o[a++],r[n]);return e};var To,xo=$("document","documentElement"),Ro=jt,Oo=mo,Lo=Er,Io=gn,Co=xo,jo=mt,Bo="prototype",Uo="script",Do=dn("IE_PROTO"),Mo=function(){},qo=function(e){return"<"+Uo+">"+e+"</"+Uo+">"},No=function(e){e.write(qo("")),e.close();var t=e.parentWindow.Object;return e=null,t},_o=function(){try{To=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;_o="undefined"!=typeof document?document.domain&&To?No(To):(t=jo("iframe"),n="java"+Uo+":",t.style.display="none",Co.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(qo("document.F=Object")),e.close(),e.F):No(To);for(var r=Lo.length;r--;)delete _o[Bo][Lo[r]];return _o()};Io[Do]=!0;var Ho=Object.create||function(e,t){var n;return null!==e?(Mo[Bo]=Ro(e),n=new Mo,Mo[Bo]=null,n[Do]=e):n=_o(),void 0===t?n:Oo.f(n,t)},zo=nt,Fo=Ho,Qo=Rt.f,Go=zo("unscopables"),Wo=Array.prototype;null==Wo[Go]&&Qo(Wo,Go,{configurable:!0,value:Fo(null)});var Vo,Jo,Xo,$o={},Yo=!s((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Ko=ze,Zo=Q,ei=Ne,ti=Yo,ni=dn("IE_PROTO"),ri=Object,oi=ri.prototype,ii=ti?ri.getPrototypeOf:function(e){var t=ei(e);if(Ko(t,ni))return t[ni];var n=t.constructor;return Zo(n)&&t instanceof n?n.prototype:t instanceof ri?oi:null},ai=s,si=Q,ci=V,ui=ii,li=Kn,fi=nt("iterator"),hi=!1;[].keys&&("next"in(Xo=[].keys())?(Jo=ui(ui(Xo)))!==Object.prototype&&(Vo=Jo):hi=!0);var pi=!ci(Vo)||ai((function(){var e={};return Vo[fi].call(e)!==e}));pi&&(Vo={}),si(Vo[fi])||li(Vo,fi,(function(){return this}));var di={IteratorPrototype:Vo,BUGGY_SAFARI_ITERATORS:hi},gi=Rt.f,mi=ze,yi=nt("toStringTag"),vi=function(e,t,n){e&&!n&&(e=e.prototype),e&&!mi(e,yi)&&gi(e,yi,{configurable:!0,value:t})},bi=di.IteratorPrototype,Ai=Ho,wi=b,Si=vi,Ei=$o,ki=function(){return this},Pi=function(e,t,n,r){var o=t+" Iterator";return e.prototype=Ai(bi,{next:wi(+!r,n)}),Si(e,o,!1),Ei[o]=ki,e},Ti=k,xi=Ae,Ri=Q,Oi=String,Li=TypeError,Ii=function(e,t,n){try{return Ti(xi(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Ci=jt,ji=function(e){if("object"==typeof e||Ri(e))return e;throw Li("Can't set "+Oi(e)+" as a prototype")},Bi=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Ii(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Ci(n),ji(r),t?e(n,r):n.__proto__=r,n}}():void 0),Ui=eo,Di=h,Mi=Q,qi=Pi,Ni=ii,_i=Bi,Hi=vi,zi=Vt,Fi=Kn,Qi=$o,Gi=en.PROPER,Wi=en.CONFIGURABLE,Vi=di.IteratorPrototype,Ji=di.BUGGY_SAFARI_ITERATORS,Xi=nt("iterator"),$i="keys",Yi="values",Ki="entries",Zi=function(){return this},ea=function(e,t,n,r,o,i,a){qi(n,t,r);var s,c,u,l=function(e){if(e===o&&g)return g;if(!Ji&&e in p)return p[e];switch(e){case $i:case Yi:case Ki:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",h=!1,p=e.prototype,d=p[Xi]||p["@@iterator"]||o&&p[o],g=!Ji&&d||l(o),m="Array"==t&&p.entries||d;if(m&&(s=Ni(m.call(new e)))!==Object.prototype&&s.next&&(Ni(s)!==Vi&&(_i?_i(s,Vi):Mi(s[Xi])||Fi(s,Xi,Zi)),Hi(s,f,!0)),Gi&&o==Yi&&d&&d.name!==Yi&&(Wi?zi(p,"name",Yi):(h=!0,g=function(){return Di(d,this)})),o)if(c={values:l(Yi),keys:i?g:l($i),entries:l(Ki)},a)for(u in c)(Ji||h||!(u in p))&&Fi(p,u,c[u]);else Ui({target:t,proto:!0,forced:Ji||h},c);return p[Xi]!==g&&Fi(p,Xi,g,{name:o}),Qi[t]=g,c},ta=function(e,t){return{value:e,done:t}},na=_,ra=function(e){Wo[Go][e]=!0},oa=$o,ia=On,aa=Rt.f,sa=ea,ca=ta,ua=c,la="Array Iterator",fa=ia.set,ha=ia.getterFor(la),pa=sa(Array,"Array",(function(e,t){fa(this,{type:la,target:na(e),index:0,kind:t})}),(function(){var e=ha(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,ca(void 0,!0)):ca("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),da=oa.Arguments=oa.Array;if(ra("keys"),ra("values"),ra("entries"),ua&&"values"!==da.name)try{aa(da,"name",{value:"values"})}catch(e){}var ga=i,ma={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ya=go,va=pa,ba=Vt,Aa=nt,wa=Aa("iterator"),Sa=Aa("toStringTag"),Ea=va.values,ka=function(e,t){if(e){if(e[wa]!==Ea)try{ba(e,wa,Ea)}catch(t){e[wa]=Ea}if(e[Sa]||ba(e,Sa,t),ma[t])for(var n in va)if(e[n]!==va[n])try{ba(e,n,va[n])}catch(t){e[n]=va[n]}}};for(var Pa in ma)ka(ga[Pa]&&ga[Pa].prototype,Pa);ka(ya,"DOMTokenList");var Ta=function(e){return e&&e.Math===Math&&e},xa=Ta("object"==typeof globalThis&&globalThis)||Ta("object"==typeof window&&window)||Ta("object"==typeof self&&self)||Ta("object"==typeof n&&n)||Ta("object"==typeof n&&n)||function(){return this}()||Function("return this")(),Ra={},Oa=function(e){try{return!!e()}catch(e){return!0}},La=!Oa((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ia=!Oa((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Ca=Ia,ja=Function.prototype.call,Ba=Ca?ja.bind(ja):function(){return ja.apply(ja,arguments)},Ua={},Da={}.propertyIsEnumerable,Ma=Object.getOwnPropertyDescriptor,qa=Ma&&!Da.call({1:2},1);Ua.f=qa?function(e){var t=Ma(this,e);return!!t&&t.enumerable}:Da;var Na,_a,Ha=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},za=Ia,Fa=Function.prototype,Qa=Fa.call,Ga=za&&Fa.bind.bind(Qa,Qa),Wa=za?Ga:function(e){return function(){return Qa.apply(e,arguments)}},Va=Wa,Ja=Va({}.toString),Xa=Va("".slice),$a=function(e){return Xa(Ja(e),8,-1)},Ya=Oa,Ka=$a,Za=Object,es=Wa("".split),ts=Ya((function(){return!Za("z").propertyIsEnumerable(0)}))?function(e){return"String"===Ka(e)?es(e,""):Za(e)}:Za,ns=function(e){return null==e},rs=ns,os=TypeError,is=function(e){if(rs(e))throw new os("Can't call method on "+e);return e},as=ts,ss=is,cs=function(e){return as(ss(e))},us="object"==typeof document&&document.all,ls=void 0===us&&void 0!==us?function(e){return"function"==typeof e||e===us}:function(e){return"function"==typeof e},fs=ls,hs=function(e){return"object"==typeof e?null!==e:fs(e)},ps=xa,ds=ls,gs=function(e,t){return arguments.length<2?(n=ps[e],ds(n)?n:void 0):ps[e]&&ps[e][t];var n},ms=Wa({}.isPrototypeOf),ys=xa,vs="undefined"!=typeof navigator&&String(navigator.userAgent)||"",bs=ys.process,As=ys.Deno,ws=bs&&bs.versions||As&&As.version,Ss=ws&&ws.v8;Ss&&(_a=(Na=Ss.split("."))[0]>0&&Na[0]<4?1:+(Na[0]+Na[1])),!_a&&vs&&(!(Na=vs.match(/Edge\/(\d+)/))||Na[1]>=74)&&(Na=vs.match(/Chrome\/(\d+)/))&&(_a=+Na[1]);var Es=_a,ks=Es,Ps=Oa,Ts=xa.String,xs=!!Object.getOwnPropertySymbols&&!Ps((function(){var e=Symbol("symbol detection");return!Ts(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&ks&&ks<41})),Rs=xs&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Os=gs,Ls=ls,Is=ms,Cs=Object,js=Rs?function(e){return"symbol"==typeof e}:function(e){var t=Os("Symbol");return Ls(t)&&Is(t.prototype,Cs(e))},Bs=String,Us=function(e){try{return Bs(e)}catch(e){return"Object"}},Ds=ls,Ms=Us,qs=TypeError,Ns=function(e){if(Ds(e))return e;throw new qs(Ms(e)+" is not a function")},_s=Ns,Hs=ns,zs=function(e,t){var n=e[t];return Hs(n)?void 0:_s(n)},Fs=Ba,Qs=ls,Gs=hs,Ws=TypeError,Vs={exports:{}},Js=xa,Xs=Object.defineProperty,$s=function(e,t){try{Xs(Js,e,{value:t,configurable:!0,writable:!0})}catch(n){Js[e]=t}return t},Ys=xa,Ks=$s,Zs="__core-js_shared__",ec=Vs.exports=Ys[Zs]||Ks(Zs,{});(ec.versions||(ec.versions=[])).push({version:"3.37.0",mode:"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"});var tc=Vs.exports,nc=tc,rc=function(e,t){return nc[e]||(nc[e]=t||{})},oc=is,ic=Object,ac=function(e){return ic(oc(e))},sc=ac,cc=Wa({}.hasOwnProperty),uc=Object.hasOwn||function(e,t){return cc(sc(e),t)},lc=Wa,fc=0,hc=Math.random(),pc=lc(1..toString),dc=function(e){return"Symbol("+(void 0===e?"":e)+")_"+pc(++fc+hc,36)},gc=rc,mc=uc,yc=dc,vc=xs,bc=Rs,Ac=xa.Symbol,wc=gc("wks"),Sc=bc?Ac.for||Ac:Ac&&Ac.withoutSetter||yc,Ec=function(e){return mc(wc,e)||(wc[e]=vc&&mc(Ac,e)?Ac[e]:Sc("Symbol."+e)),wc[e]},kc=Ba,Pc=hs,Tc=js,xc=zs,Rc=function(e,t){var n,r;if("string"===t&&Qs(n=e.toString)&&!Gs(r=Fs(n,e)))return r;if(Qs(n=e.valueOf)&&!Gs(r=Fs(n,e)))return r;if("string"!==t&&Qs(n=e.toString)&&!Gs(r=Fs(n,e)))return r;throw new Ws("Can't convert object to primitive value")},Oc=TypeError,Lc=Ec("toPrimitive"),Ic=function(e,t){if(!Pc(e)||Tc(e))return e;var n,r=xc(e,Lc);if(r){if(void 0===t&&(t="default"),n=kc(r,e,t),!Pc(n)||Tc(n))return n;throw new Oc("Can't convert object to primitive value")}return void 0===t&&(t="number"),Rc(e,t)},Cc=js,jc=function(e){var t=Ic(e,"string");return Cc(t)?t:t+""},Bc=hs,Uc=xa.document,Dc=Bc(Uc)&&Bc(Uc.createElement),Mc=function(e){return Dc?Uc.createElement(e):{}},qc=Mc,Nc=!La&&!Oa((function(){return 7!==Object.defineProperty(qc("div"),"a",{get:function(){return 7}}).a})),_c=La,Hc=Ba,zc=Ua,Fc=Ha,Qc=cs,Gc=jc,Wc=uc,Vc=Nc,Jc=Object.getOwnPropertyDescriptor;Ra.f=_c?Jc:function(e,t){if(e=Qc(e),t=Gc(t),Vc)try{return Jc(e,t)}catch(e){}if(Wc(e,t))return Fc(!Hc(zc.f,e,t),e[t])};var Xc={},$c=La&&Oa((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Yc=hs,Kc=String,Zc=TypeError,eu=function(e){if(Yc(e))return e;throw new Zc(Kc(e)+" is not an object")},tu=La,nu=Nc,ru=$c,ou=eu,iu=jc,au=TypeError,su=Object.defineProperty,cu=Object.getOwnPropertyDescriptor,uu="enumerable",lu="configurable",fu="writable";Xc.f=tu?ru?function(e,t,n){if(ou(e),t=iu(t),ou(n),"function"==typeof e&&"prototype"===t&&"value"in n&&fu in n&&!n[fu]){var r=cu(e,t);r&&r[fu]&&(e[t]=n.value,n={configurable:lu in n?n[lu]:r[lu],enumerable:uu in n?n[uu]:r[uu],writable:!1})}return su(e,t,n)}:su:function(e,t,n){if(ou(e),t=iu(t),ou(n),nu)try{return su(e,t,n)}catch(e){}if("get"in n||"set"in n)throw new au("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var hu=Xc,pu=Ha,du=La?function(e,t,n){return hu.f(e,t,pu(1,n))}:function(e,t,n){return e[t]=n,e},gu={exports:{}},mu=La,yu=uc,vu=Function.prototype,bu=mu&&Object.getOwnPropertyDescriptor,Au=yu(vu,"name"),wu={EXISTS:Au,PROPER:Au&&"something"===function(){}.name,CONFIGURABLE:Au&&(!mu||mu&&bu(vu,"name").configurable)},Su=ls,Eu=tc,ku=Wa(Function.toString);Su(Eu.inspectSource)||(Eu.inspectSource=function(e){return ku(e)});var Pu,Tu,xu,Ru=Eu.inspectSource,Ou=ls,Lu=xa.WeakMap,Iu=Ou(Lu)&&/native code/.test(String(Lu)),Cu=dc,ju=rc("keys"),Bu=function(e){return ju[e]||(ju[e]=Cu(e))},Uu={},Du=Iu,Mu=xa,qu=hs,Nu=du,_u=uc,Hu=tc,zu=Bu,Fu=Uu,Qu="Object already initialized",Gu=Mu.TypeError,Wu=Mu.WeakMap;if(Du||Hu.state){var Vu=Hu.state||(Hu.state=new Wu);Vu.get=Vu.get,Vu.has=Vu.has,Vu.set=Vu.set,Pu=function(e,t){if(Vu.has(e))throw new Gu(Qu);return t.facade=e,Vu.set(e,t),t},Tu=function(e){return Vu.get(e)||{}},xu=function(e){return Vu.has(e)}}else{var Ju=zu("state");Fu[Ju]=!0,Pu=function(e,t){if(_u(e,Ju))throw new Gu(Qu);return t.facade=e,Nu(e,Ju,t),t},Tu=function(e){return _u(e,Ju)?e[Ju]:{}},xu=function(e){return _u(e,Ju)}}var Xu={set:Pu,get:Tu,has:xu,enforce:function(e){return xu(e)?Tu(e):Pu(e,{})},getterFor:function(e){return function(t){var n;if(!qu(t)||(n=Tu(t)).type!==e)throw new Gu("Incompatible receiver, "+e+" required");return n}}},$u=Wa,Yu=Oa,Ku=ls,Zu=uc,el=La,tl=wu.CONFIGURABLE,nl=Ru,rl=Xu.enforce,ol=Xu.get,il=String,al=Object.defineProperty,sl=$u("".slice),cl=$u("".replace),ul=$u([].join),ll=el&&!Yu((function(){return 8!==al((function(){}),"length",{value:8}).length})),fl=String(String).split("String"),hl=gu.exports=function(e,t,n){"Symbol("===sl(il(t),0,7)&&(t="["+cl(il(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Zu(e,"name")||tl&&e.name!==t)&&(el?al(e,"name",{value:t,configurable:!0}):e.name=t),ll&&n&&Zu(n,"arity")&&e.length!==n.arity&&al(e,"length",{value:n.arity});try{n&&Zu(n,"constructor")&&n.constructor?el&&al(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=rl(e);return Zu(r,"source")||(r.source=ul(fl,"string"==typeof t?t:"")),e};Function.prototype.toString=hl((function(){return Ku(this)&&ol(this).source||nl(this)}),"toString");var pl=gu.exports,dl=ls,gl=Xc,ml=pl,yl=$s,vl=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(dl(n)&&ml(n,i,r),r.global)o?e[t]=n:yl(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:gl.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},bl={},Al=Math.ceil,wl=Math.floor,Sl=Math.trunc||function(e){var t=+e;return(t>0?wl:Al)(t)},El=function(e){var t=+e;return t!=t||0===t?0:Sl(t)},kl=El,Pl=Math.max,Tl=Math.min,xl=El,Rl=Math.min,Ol=function(e){var t=xl(e);return t>0?Rl(t,9007199254740991):0},Ll=Ol,Il=function(e){return Ll(e.length)},Cl=cs,jl=function(e,t){var n=kl(e);return n<0?Pl(n+t,0):Tl(n,t)},Bl=Il,Ul=function(e){return function(t,n,r){var o=Cl(t),i=Bl(o);if(0===i)return!e&&-1;var a,s=jl(r,i);if(e&&n!=n){for(;i>s;)if((a=o[s++])!=a)return!0}else for(;i>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},Dl={includes:Ul(!0),indexOf:Ul(!1)},Ml=uc,ql=cs,Nl=Dl.indexOf,_l=Uu,Hl=Wa([].push),zl=function(e,t){var n,r=ql(e),o=0,i=[];for(n in r)!Ml(_l,n)&&Ml(r,n)&&Hl(i,n);for(;t.length>o;)Ml(r,n=t[o++])&&(~Nl(i,n)||Hl(i,n));return i},Fl=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ql=zl,Gl=Fl.concat("length","prototype");bl.f=Object.getOwnPropertyNames||function(e){return Ql(e,Gl)};var Wl={};Wl.f=Object.getOwnPropertySymbols;var Vl=gs,Jl=bl,Xl=Wl,$l=eu,Yl=Wa([].concat),Kl=Vl("Reflect","ownKeys")||function(e){var t=Jl.f($l(e)),n=Xl.f;return n?Yl(t,n(e)):t},Zl=uc,ef=Kl,tf=Ra,nf=Xc,rf=function(e,t,n){for(var r=ef(t),o=nf.f,i=tf.f,a=0;a<r.length;a++){var s=r[a];Zl(e,s)||n&&Zl(n,s)||o(e,s,i(t,s))}},of=Oa,af=ls,sf=/#|\.prototype\./,cf=function(e,t){var n=lf[uf(e)];return n===hf||n!==ff&&(af(t)?of(t):!!t)},uf=cf.normalize=function(e){return String(e).replace(sf,".").toLowerCase()},lf=cf.data={},ff=cf.NATIVE="N",hf=cf.POLYFILL="P",pf=cf,df=xa,gf=Ra.f,mf=du,yf=vl,vf=$s,bf=rf,Af=pf,wf=function(e,t){var n,r,o,i,a,s=e.target,c=e.global,u=e.stat;if(n=c?df:u?df[s]||vf(s,{}):df[s]&&df[s].prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(a=gf(n,r))&&a.value:n[r],!Af(c?r:s+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;bf(i,o)}(e.sham||o&&o.sham)&&mf(i,"sham",!0),yf(n,r,i,e)}},Sf=Ia,Ef=Function.prototype,kf=Ef.apply,Pf=Ef.call,Tf="object"==typeof Reflect&&Reflect.apply||(Sf?Pf.bind(kf):function(){return Pf.apply(kf,arguments)}),xf=Wa,Rf=Ns,Of=function(e,t,n){try{return xf(Rf(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(e){}},Lf=hs,If=function(e){return Lf(e)||null===e},Cf=String,jf=TypeError,Bf=Of,Uf=hs,Df=is,Mf=function(e){if(If(e))return e;throw new jf("Can't set "+Cf(e)+" as a prototype")},qf=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Bf(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Df(n),Mf(r),Uf(n)?(t?e(n,r):n.__proto__=r,n):n}}():void 0),Nf=Xc.f,_f=ls,Hf=hs,zf=qf,Ff={};Ff[Ec("toStringTag")]="z";var Qf="[object z]"===String(Ff),Gf=ls,Wf=$a,Vf=Ec("toStringTag"),Jf=Object,Xf="Arguments"===Wf(function(){return arguments}()),$f=Qf?Wf:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Jf(e),Vf))?n:Xf?Wf(t):"Object"===(r=Wf(t))&&Gf(t.callee)?"Arguments":r},Yf=$f,Kf=String,Zf=function(e){if("Symbol"===Yf(e))throw new TypeError("Cannot convert a Symbol value to a string");return Kf(e)},eh=Zf,th=hs,nh=du,rh=Error,oh=Wa("".replace),ih=String(new rh("zxcasd").stack),ah=/\n\s*at [^:]*:[^\n]*/,sh=ah.test(ih),ch=Ha,uh=!Oa((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",ch(1,7)),7!==e.stack)})),lh=du,fh=function(e,t){if(sh&&"string"==typeof e&&!rh.prepareStackTrace)for(;t--;)e=oh(e,ah,"");return e},hh=uh,ph=Error.captureStackTrace,dh=gs,gh=uc,mh=du,yh=ms,vh=qf,bh=rf,Ah=function(e,t,n){n in e||Nf(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},wh=function(e,t,n){var r,o;return zf&&_f(r=t.constructor)&&r!==n&&Hf(o=r.prototype)&&o!==n.prototype&&zf(e,o),e},Sh=function(e,t){return void 0===e?arguments.length<2?"":t:eh(e)},Eh=function(e,t){th(t)&&"cause"in t&&nh(e,"cause",t.cause)},kh=function(e,t,n,r){hh&&(ph?ph(e,t):lh(e,"stack",fh(n,r)))},Ph=La,Th=wf,xh=Tf,Rh=function(e,t,n,r){var o="stackTraceLimit",i=r?2:1,a=e.split("."),s=a[a.length-1],c=dh.apply(null,a);if(c){var u=c.prototype;if(gh(u,"cause")&&delete u.cause,!n)return c;var l=dh("Error"),f=t((function(e,t){var n=Sh(r?t:e,void 0),o=r?new c(e):new c;return void 0!==n&&mh(o,"message",n),kh(o,f,o.stack,2),this&&yh(u,this)&&wh(o,this,f),arguments.length>i&&Eh(o,arguments[i]),o}));f.prototype=u,"Error"!==s?vh?vh(f,l):bh(f,l,{name:!0}):Ph&&o in c&&(Ah(f,c,o),Ah(f,c,"prepareStackTrace")),bh(f,c);try{u.name!==s&&mh(u,"name",s),u.constructor=f}catch(e){}return f}},Oh="WebAssembly",Lh=xa[Oh],Ih=7!==new Error("e",{cause:7}).cause,Ch=function(e,t){var n={};n[e]=Rh(e,t,Ih),Th({global:!0,constructor:!0,arity:1,forced:Ih},n)},jh=function(e,t){if(Lh&&Lh[e]){var n={};n[e]=Rh(Oh+"."+e,t,Ih),Th({target:Oh,stat:!0,constructor:!0,arity:1,forced:Ih},n)}};Ch("Error",(function(e){return function(t){return xh(e,this,arguments)}})),Ch("EvalError",(function(e){return function(t){return xh(e,this,arguments)}})),Ch("RangeError",(function(e){return function(t){return xh(e,this,arguments)}})),Ch("ReferenceError",(function(e){return function(t){return xh(e,this,arguments)}})),Ch("SyntaxError",(function(e){return function(t){return xh(e,this,arguments)}})),Ch("TypeError",(function(e){return function(t){return xh(e,this,arguments)}})),Ch("URIError",(function(e){return function(t){return xh(e,this,arguments)}})),jh("CompileError",(function(e){return function(t){return xh(e,this,arguments)}})),jh("LinkError",(function(e){return function(t){return xh(e,this,arguments)}})),jh("RuntimeError",(function(e){return function(t){return xh(e,this,arguments)}}));var Bh=eu,Uh=function(){var e=Bh(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Dh=Oa,Mh=xa.RegExp,qh=Dh((function(){var e=Mh("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),Nh=qh||Dh((function(){return!Mh("a","y").sticky})),_h={BROKEN_CARET:qh||Dh((function(){var e=Mh("^r","gy");return e.lastIndex=2,null!==e.exec("str")})),MISSED_STICKY:Nh,UNSUPPORTED_Y:qh},Hh={},zh=zl,Fh=Fl,Qh=Object.keys||function(e){return zh(e,Fh)},Gh=La,Wh=$c,Vh=Xc,Jh=eu,Xh=cs,$h=Qh;Hh.f=Gh&&!Wh?Object.defineProperties:function(e,t){Jh(e);for(var n,r=Xh(t),o=$h(t),i=o.length,a=0;i>a;)Vh.f(e,n=o[a++],r[n]);return e};var Yh,Kh=gs("document","documentElement"),Zh=eu,ep=Hh,tp=Fl,np=Uu,rp=Kh,op=Mc,ip="prototype",ap="script",sp=Bu("IE_PROTO"),cp=function(){},up=function(e){return"<"+ap+">"+e+"</"+ap+">"},lp=function(e){e.write(up("")),e.close();var t=e.parentWindow.Object;return e=null,t},fp=function(){try{Yh=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;fp="undefined"!=typeof document?document.domain&&Yh?lp(Yh):(t=op("iframe"),n="java"+ap+":",t.style.display="none",rp.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(up("document.F=Object")),e.close(),e.F):lp(Yh);for(var r=tp.length;r--;)delete fp[ip][tp[r]];return fp()};np[sp]=!0;var hp,pp,dp=Object.create||function(e,t){var n;return null!==e?(cp[ip]=Zh(e),n=new cp,cp[ip]=null,n[sp]=e):n=fp(),void 0===t?n:ep.f(n,t)},gp=Oa,mp=xa.RegExp,yp=gp((function(){var e=mp(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)})),vp=Oa,bp=xa.RegExp,Ap=vp((function(){var e=bp("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),wp=Ba,Sp=Wa,Ep=Zf,kp=Uh,Pp=_h,Tp=dp,xp=Xu.get,Rp=yp,Op=Ap,Lp=rc("native-string-replace",String.prototype.replace),Ip=RegExp.prototype.exec,Cp=Ip,jp=Sp("".charAt),Bp=Sp("".indexOf),Up=Sp("".replace),Dp=Sp("".slice),Mp=(pp=/b*/g,wp(Ip,hp=/a/,"a"),wp(Ip,pp,"a"),0!==hp.lastIndex||0!==pp.lastIndex),qp=Pp.BROKEN_CARET,Np=void 0!==/()??/.exec("")[1];(Mp||Np||qp||Rp||Op)&&(Cp=function(e){var t,n,r,o,i,a,s,c=this,u=xp(c),l=Ep(e),f=u.raw;if(f)return f.lastIndex=c.lastIndex,t=wp(Cp,f,l),c.lastIndex=f.lastIndex,t;var h=u.groups,p=qp&&c.sticky,d=wp(kp,c),g=c.source,m=0,y=l;if(p&&(d=Up(d,"y",""),-1===Bp(d,"g")&&(d+="g"),y=Dp(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==jp(l,c.lastIndex-1))&&(g="(?: "+g+")",y=" "+y,m++),n=new RegExp("^(?:"+g+")",d)),Np&&(n=new RegExp("^"+g+"$(?!\\s)",d)),Mp&&(r=c.lastIndex),o=wp(Ip,p?n:c,y),p?o?(o.input=Dp(o.input,m),o[0]=Dp(o[0],m),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Mp&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),Np&&o&&o.length>1&&wp(Lp,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&h)for(o.groups=a=Tp(null),i=0;i<h.length;i++)a[(s=h[i])[0]]=o[s[1]];return o});var _p=Cp;wf({target:"RegExp",proto:!0,forced:/./.exec!==_p},{exec:_p});var Hp=Ba,zp=vl,Fp=_p,Qp=Oa,Gp=Ec,Wp=du,Vp=Gp("species"),Jp=RegExp.prototype,Xp=Wa,$p=El,Yp=Zf,Kp=is,Zp=Xp("".charAt),ed=Xp("".charCodeAt),td=Xp("".slice),nd=function(e){return function(t,n){var r,o,i=Yp(Kp(t)),a=$p(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=ed(i,a))<55296||r>56319||a+1===s||(o=ed(i,a+1))<56320||o>57343?e?Zp(i,a):r:e?td(i,a,a+2):o-56320+(r-55296<<10)+65536}},rd={codeAt:nd(!1),charAt:nd(!0)},od=rd.charAt,id=Wa,ad=ac,sd=Math.floor,cd=id("".charAt),ud=id("".replace),ld=id("".slice),fd=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,hd=/\$([$&'`]|\d{1,2})/g,pd=function(e,t,n,r,o,i){var a=n+e.length,s=r.length,c=hd;return void 0!==o&&(o=ad(o),c=fd),ud(i,c,(function(i,c){var u;switch(cd(c,0)){case"$":return"$";case"&":return e;case"`":return ld(t,0,n);case"'":return ld(t,a);case"<":u=o[ld(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var f=sd(l/10);return 0===f?i:f<=s?void 0===r[f-1]?cd(c,1):r[f-1]+cd(c,1):i}u=r[l-1]}return void 0===u?"":u}))},dd=Ba,gd=eu,md=ls,yd=$a,vd=_p,bd=TypeError,Ad=Tf,wd=Ba,Sd=Wa,Ed=function(e,t,n,r){var o=Gp(e),i=!Qp((function(){var t={};return t[o]=function(){return 7},7!==""[e](t)})),a=i&&!Qp((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[Vp]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!a||n){var s=/./[o],c=t(o,""[e],(function(e,t,n,r,o){var a=t.exec;return a===Fp||a===Jp.exec?i&&!o?{done:!0,value:Hp(s,t,n,r)}:{done:!0,value:Hp(e,n,t,r)}:{done:!1}}));zp(String.prototype,e,c[0]),zp(Jp,o,c[1])}r&&Wp(Jp[o],"sham",!0)},kd=Oa,Pd=eu,Td=ls,xd=ns,Rd=El,Od=Ol,Ld=Zf,Id=is,Cd=function(e,t,n){return t+(n?od(e,t).length:1)},jd=zs,Bd=pd,Ud=function(e,t){var n=e.exec;if(md(n)){var r=dd(n,e,t);return null!==r&&gd(r),r}if("RegExp"===yd(e))return dd(vd,e,t);throw new bd("RegExp#exec called on incompatible receiver")},Dd=Ec("replace"),Md=Math.max,qd=Math.min,Nd=Sd([].concat),_d=Sd([].push),Hd=Sd("".indexOf),zd=Sd("".slice),Fd="$0"==="a".replace(/./,"$0"),Qd=!!/./[Dd]&&""===/./[Dd]("a","$0");Ed("replace",(function(e,t,n){var r=Qd?"$":"$0";return[function(e,n){var r=Id(this),o=xd(e)?void 0:jd(e,Dd);return o?wd(o,e,r,n):wd(t,Ld(r),e,n)},function(e,o){var i=Pd(this),a=Ld(e);if("string"==typeof o&&-1===Hd(o,r)&&-1===Hd(o,"$<")){var s=n(t,i,a,o);if(s.done)return s.value}var c=Td(o);c||(o=Ld(o));var u,l=i.global;l&&(u=i.unicode,i.lastIndex=0);for(var f,h=[];null!==(f=Ud(i,a))&&(_d(h,f),l);){""===Ld(f[0])&&(i.lastIndex=Cd(a,Od(i.lastIndex),u))}for(var p,d="",g=0,m=0;m<h.length;m++){for(var y,v=Ld((f=h[m])[0]),b=Md(qd(Rd(f.index),a.length),0),A=[],w=1;w<f.length;w++)_d(A,void 0===(p=f[w])?p:String(p));var S=f.groups;if(c){var E=Nd([v],A,b,a);void 0!==S&&_d(E,S),y=Ld(Ad(o,void 0,E))}else y=Bd(v,a,b,A,S,o);b>=g&&(d+=zd(a,g,b)+y,g=b+v.length)}return d+zd(a,g)}]}),!!kd((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!Fd||Qd);var Gd=$a,Wd=La,Vd=Array.isArray||function(e){return"Array"===Gd(e)},Jd=TypeError,Xd=Object.getOwnPropertyDescriptor,$d=Wd&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}(),Yd=TypeError,Kd=ac,Zd=Il,eg=$d?function(e,t){if(Vd(e)&&!Xd(e,"length").writable)throw new Jd("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},tg=function(e){if(e>9007199254740991)throw Yd("Maximum allowed index exceeded");return e};wf({target:"Array",proto:!0,arity:1,forced:Oa((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=Kd(this),n=Zd(t),r=arguments.length;tg(n+r);for(var o=0;o<r;o++)t[n]=arguments[o],n++;return eg(t,n),n}});var ng=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}},rg={"text/plain":"Text","text/html":"Url",default:"Text"};var og=function(e,t){var n,r,o,i,a,s,c=!1;t||(t={}),n=t.debug||!1;try{if(o=ng(),i=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=rg[t.format]||rg.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(o){n&&console.error("unable to copy using execCommand: ",o),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(o){n&&console.error("unable to copy using clipboardData: ",o),n&&console.error("falling back to prompt"),r=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,e)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c},ig=r(og),ag=Ns,sg=ac,cg=ts,ug=Il,lg=TypeError,fg="Reduce of empty array with no initial value",hg=function(e){return function(t,n,r,o){var i=sg(t),a=cg(i),s=ug(i);if(ag(n),0===s&&r<2)throw new lg(fg);var c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw new lg(fg)}for(;e?c>=0:s>c;c+=u)c in a&&(o=n(o,a[c],c,i));return o}},pg={left:hg(!1),right:hg(!0)},dg=Oa,gg="process"===$a(xa.process),mg=pg.left,yg=function(e,t){var n=[][e];return!!n&&dg((function(){n.call(null,t||function(){return 1},1)}))};wf({target:"Array",proto:!0,forced:!gg&&Es>79&&Es<83||!yg("reduce")},{reduce:function(e){var t=arguments.length;return mg(this,e,t,t>1?arguments[1]:void 0)}});var vg=pl,bg=Xc,Ag=function(e,t,n){return n.get&&vg(n.get,t,{getter:!0}),n.set&&vg(n.set,t,{setter:!0}),bg.f(e,t,n)},wg=$a,Sg=TypeError,Eg=Of(ArrayBuffer.prototype,"byteLength","get")||function(e){if("ArrayBuffer"!==wg(e))throw new Sg("ArrayBuffer expected");return e.byteLength},kg=Eg,Pg=Wa(ArrayBuffer.prototype.slice),Tg=function(e){if(0!==kg(e))return!1;try{return Pg(e,0,0),!1}catch(e){return!0}},xg=La,Rg=Ag,Og=Tg,Lg=ArrayBuffer.prototype;xg&&!("detached"in Lg)&&Rg(Lg,"detached",{configurable:!0,get:function(){return Og(this)}});var Ig,Cg,jg,Bg,Ug=El,Dg=Ol,Mg=RangeError,qg=gg,Ng="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,_g=!Ng&&!gg&&"object"==typeof window&&"object"==typeof document,Hg=Oa,zg=Es,Fg=_g,Qg=Ng,Gg=gg,Wg=xa.structuredClone,Vg=!!Wg&&!Hg((function(){if(Qg&&zg>92||Gg&&zg>94||Fg&&zg>97)return!1;var e=new ArrayBuffer(8),t=Wg(e,{transfer:[e]});return 0!==e.byteLength||8!==t.byteLength})),Jg=xa,Xg=function(e){try{if(qg)return Function('return require("'+e+'")')()}catch(e){}},$g=Vg,Yg=Jg.structuredClone,Kg=Jg.ArrayBuffer,Zg=Jg.MessageChannel,em=!1;if($g)em=function(e){Yg(e,{transfer:[e]})};else if(Kg)try{Zg||(Ig=Xg("worker_threads"))&&(Zg=Ig.MessageChannel),Zg&&(Cg=new Zg,jg=new Kg(2),Bg=function(e){Cg.port1.postMessage(null,[e])},2===jg.byteLength&&(Bg(jg),0===jg.byteLength&&(em=Bg)))}catch(e){}var tm=xa,nm=Wa,rm=Of,om=function(e){if(void 0===e)return 0;var t=Ug(e),n=Dg(t);if(t!==n)throw new Mg("Wrong length or index");return n},im=Tg,am=Eg,sm=em,cm=Vg,um=tm.structuredClone,lm=tm.ArrayBuffer,fm=tm.DataView,hm=tm.TypeError,pm=Math.min,dm=lm.prototype,gm=fm.prototype,mm=nm(dm.slice),ym=rm(dm,"resizable","get"),vm=rm(dm,"maxByteLength","get"),bm=nm(gm.getInt8),Am=nm(gm.setInt8),wm=(cm||sm)&&function(e,t,n){var r,o=am(e),i=void 0===t?o:om(t),a=!ym||!ym(e);if(im(e))throw new hm("ArrayBuffer is detached");if(cm&&(e=um(e,{transfer:[e]}),o===i&&(n||a)))return e;if(o>=i&&(!n||a))r=mm(e,0,i);else{var s=n&&!a&&vm?{maxByteLength:vm(e)}:void 0;r=new lm(i,s);for(var c=new fm(e),u=new fm(r),l=pm(i,o),f=0;f<l;f++)Am(u,f,bm(c,f))}return cm||sm(e),r},Sm=wm;Sm&&wf({target:"ArrayBuffer",proto:!0},{transfer:function(){return Sm(this,arguments.length?arguments[0]:void 0,!0)}});var Em=wm;Em&&wf({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Em(this,arguments.length?arguments[0]:void 0,!1)}});var km=Mc("span").classList,Pm=km&&km.constructor&&km.constructor.prototype,Tm=Pm===Object.prototype?void 0:Pm,xm=Ec,Rm=dp,Om=Xc.f,Lm=xm("unscopables"),Im=Array.prototype;void 0===Im[Lm]&&Om(Im,Lm,{configurable:!0,value:Rm(null)});var Cm,jm,Bm,Um={},Dm=!Oa((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Mm=uc,qm=ls,Nm=ac,_m=Dm,Hm=Bu("IE_PROTO"),zm=Object,Fm=zm.prototype,Qm=_m?zm.getPrototypeOf:function(e){var t=Nm(e);if(Mm(t,Hm))return t[Hm];var n=t.constructor;return qm(n)&&t instanceof n?n.prototype:t instanceof zm?Fm:null},Gm=Oa,Wm=ls,Vm=hs,Jm=Qm,Xm=vl,$m=Ec("iterator"),Ym=!1;[].keys&&("next"in(Bm=[].keys())?(jm=Jm(Jm(Bm)))!==Object.prototype&&(Cm=jm):Ym=!0);var Km=!Vm(Cm)||Gm((function(){var e={};return Cm[$m].call(e)!==e}));Km&&(Cm={}),Wm(Cm[$m])||Xm(Cm,$m,(function(){return this}));var Zm={IteratorPrototype:Cm,BUGGY_SAFARI_ITERATORS:Ym},ey=Xc.f,ty=uc,ny=Ec("toStringTag"),ry=function(e,t,n){e&&!n&&(e=e.prototype),e&&!ty(e,ny)&&ey(e,ny,{configurable:!0,value:t})},oy=Zm.IteratorPrototype,iy=dp,ay=Ha,sy=ry,cy=Um,uy=function(){return this},ly=function(e,t,n,r){var o=t+" Iterator";return e.prototype=iy(oy,{next:ay(+!r,n)}),sy(e,o,!1),cy[o]=uy,e},fy=wf,hy=Ba,py=ls,dy=ly,gy=Qm,my=qf,yy=ry,vy=du,by=vl,Ay=Um,wy=wu.PROPER,Sy=wu.CONFIGURABLE,Ey=Zm.IteratorPrototype,ky=Zm.BUGGY_SAFARI_ITERATORS,Py=Ec("iterator"),Ty="keys",xy="values",Ry="entries",Oy=function(){return this},Ly=function(e,t,n,r,o,i,a){dy(n,t,r);var s,c,u,l=function(e){if(e===o&&g)return g;if(!ky&&e&&e in p)return p[e];switch(e){case Ty:case xy:case Ry:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",h=!1,p=e.prototype,d=p[Py]||p["@@iterator"]||o&&p[o],g=!ky&&d||l(o),m="Array"===t&&p.entries||d;if(m&&(s=gy(m.call(new e)))!==Object.prototype&&s.next&&(gy(s)!==Ey&&(my?my(s,Ey):py(s[Py])||by(s,Py,Oy)),yy(s,f,!0)),wy&&o===xy&&d&&d.name!==xy&&(Sy?vy(p,"name",xy):(h=!0,g=function(){return hy(d,this)})),o)if(c={values:l(xy),keys:i?g:l(Ty),entries:l(Ry)},a)for(u in c)(ky||h||!(u in p))&&by(p,u,c[u]);else fy({target:t,proto:!0,forced:ky||h},c);return p[Py]!==g&&by(p,Py,g,{name:o}),Ay[t]=g,c},Iy=function(e,t){return{value:e,done:t}},Cy=cs,jy=function(e){Im[Lm][e]=!0},By=Um,Uy=Xu,Dy=Xc.f,My=Ly,qy=Iy,Ny=La,_y="Array Iterator",Hy=Uy.set,zy=Uy.getterFor(_y),Fy=My(Array,"Array",(function(e,t){Hy(this,{type:_y,target:Cy(e),index:0,kind:t})}),(function(){var e=zy(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,qy(void 0,!0);switch(e.kind){case"keys":return qy(n,!1);case"values":return qy(t[n],!1)}return qy([n,t[n]],!1)}),"values"),Qy=By.Arguments=By.Array;if(jy("keys"),jy("values"),jy("entries"),Ny&&"values"!==Qy.name)try{Dy(Qy,"name",{value:"values"})}catch(e){}var Gy=xa,Wy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Vy=Tm,Jy=Fy,Xy=du,$y=ry,Yy=Ec("iterator"),Ky=Jy.values,Zy=function(e,t){if(e){if(e[Yy]!==Ky)try{Xy(e,Yy,Ky)}catch(t){e[Yy]=Ky}if($y(e,t,!0),Wy[t])for(var n in Jy)if(e[n]!==Jy[n])try{Xy(e,n,Jy[n])}catch(t){e[n]=Jy[n]}}};for(var ev in Wy)Zy(Gy[ev]&&Gy[ev].prototype,ev);Zy(Vy,"DOMTokenList");var tv=rd.charAt,nv=Zf,rv=Xu,ov=Ly,iv=Iy,av="String Iterator",sv=rv.set,cv=rv.getterFor(av);ov(String,"String",(function(e){sv(this,{type:av,string:nv(e),index:0})}),(function(){var e,t=cv(this),n=t.string,r=t.index;return r>=n.length?iv(void 0,!0):(e=tv(n,r),t.index+=e.length,iv(e,!1))}));var uv=Oa,lv=La,fv=Ec("iterator"),hv=!uv((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n=new URLSearchParams("a=1&a=2&b=3"),r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),n.delete("a",2),n.delete("b",void 0),!t.size&&!lv||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[fv]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),pv=$a,dv=Wa,gv=function(e){if("Function"===pv(e))return dv(e)},mv=Ns,yv=Ia,vv=gv(gv.bind),bv=function(e,t){return mv(e),void 0===t?e:yv?vv(e,t):function(){return e.apply(t,arguments)}},Av=ms,wv=TypeError,Sv=function(e,t){if(Av(t,e))return e;throw new wv("Incorrect invocation")},Ev=La,kv=Wa,Pv=Ba,Tv=Oa,xv=Qh,Rv=Wl,Ov=Ua,Lv=ac,Iv=ts,Cv=Object.assign,jv=Object.defineProperty,Bv=kv([].concat),Uv=!Cv||Tv((function(){if(Ev&&1!==Cv({b:1},Cv(jv({},"a",{enumerable:!0,get:function(){jv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!==Cv({},e)[n]||xv(Cv({},t)).join("")!==r}))?function(e,t){for(var n=Lv(e),r=arguments.length,o=1,i=Rv.f,a=Ov.f;r>o;)for(var s,c=Iv(arguments[o++]),u=i?Bv(xv(c),i(c)):xv(c),l=u.length,f=0;l>f;)s=u[f++],Ev&&!Pv(a,c,s)||(n[s]=c[s]);return n}:Cv,Dv=Ba,Mv=eu,qv=zs,Nv=function(e,t,n){var r,o;Mv(e);try{if(!(r=qv(e,"return"))){if("throw"===t)throw n;return n}r=Dv(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return Mv(r),n},_v=eu,Hv=Nv,zv=Um,Fv=Ec("iterator"),Qv=Array.prototype,Gv=Wa,Wv=Oa,Vv=ls,Jv=$f,Xv=Ru,$v=function(){},Yv=gs("Reflect","construct"),Kv=/^\s*(?:class|function)\b/,Zv=Gv(Kv.exec),eb=!Kv.test($v),tb=function(e){if(!Vv(e))return!1;try{return Yv($v,[],e),!0}catch(e){return!1}},nb=function(e){if(!Vv(e))return!1;switch(Jv(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return eb||!!Zv(Kv,Xv(e))}catch(e){return!0}};nb.sham=!0;var rb=!Yv||Wv((function(){var e;return tb(tb.call)||!tb(Object)||!tb((function(){e=!0}))||e}))?nb:tb,ob=La,ib=Xc,ab=Ha,sb=$f,cb=zs,ub=ns,lb=Um,fb=Ec("iterator"),hb=function(e){if(!ub(e))return cb(e,fb)||cb(e,"@@iterator")||lb[sb(e)]},pb=Ba,db=Ns,gb=eu,mb=Us,yb=hb,vb=TypeError,bb=function(e,t){var n=arguments.length<2?yb(e):t;if(db(n))return gb(pb(n,e));throw new vb(mb(e)+" is not iterable")},Ab=bv,wb=Ba,Sb=ac,Eb=function(e,t,n,r){try{return r?t(_v(n)[0],n[1]):t(n)}catch(t){Hv(e,"throw",t)}},kb=function(e){return void 0!==e&&(zv.Array===e||Qv[Fv]===e)},Pb=rb,Tb=Il,xb=function(e,t,n){ob?ib.f(e,t,ab(0,n)):e[t]=n},Rb=bb,Ob=hb,Lb=Array,Ib=Wa([].slice),Cb=Wa,jb=2147483647,Bb=/[^\0-\u007E]/,Ub=/[.\u3002\uFF0E\uFF61]/g,Db="Overflow: input needs wider integers to process",Mb=RangeError,qb=Cb(Ub.exec),Nb=Math.floor,_b=String.fromCharCode,Hb=Cb("".charCodeAt),zb=Cb([].join),Fb=Cb([].push),Qb=Cb("".replace),Gb=Cb("".split),Wb=Cb("".toLowerCase),Vb=function(e){return e+22+75*(e<26)},Jb=function(e,t,n){var r=0;for(e=n?Nb(e/700):e>>1,e+=Nb(e/t);e>455;)e=Nb(e/35),r+=36;return Nb(r+36*e/(e+38))},Xb=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=Hb(e,n++);if(o>=55296&&o<=56319&&n<r){var i=Hb(e,n++);56320==(64512&i)?Fb(t,((1023&o)<<10)+(1023&i)+65536):(Fb(t,o),n--)}else Fb(t,o)}return t}(e);var n,r,o=e.length,i=128,a=0,s=72;for(n=0;n<e.length;n++)(r=e[n])<128&&Fb(t,_b(r));var c=t.length,u=c;for(c&&Fb(t,"-");u<o;){var l=jb;for(n=0;n<e.length;n++)(r=e[n])>=i&&r<l&&(l=r);var f=u+1;if(l-i>Nb((jb-a)/f))throw new Mb(Db);for(a+=(l-i)*f,i=l,n=0;n<e.length;n++){if((r=e[n])<i&&++a>jb)throw new Mb(Db);if(r===i){for(var h=a,p=36;;){var d=p<=s?1:p>=s+26?26:p-s;if(h<d)break;var g=h-d,m=36-d;Fb(t,_b(Vb(d+g%m))),h=Nb(g/m),p+=36}Fb(t,_b(Vb(h))),s=Jb(a,f,u===c),a=0,u++}}a++,i++}return zb(t,"")},$b=TypeError,Yb=function(e,t){if(e<t)throw new $b("Not enough arguments");return e},Kb=xa,Zb=La,eA=Object.getOwnPropertyDescriptor,tA=vl,nA=Ib,rA=Math.floor,oA=function(e,t){var n=e.length;if(n<8)for(var r,o,i=1;i<n;){for(o=i,r=e[i];o&&t(e[o-1],r)>0;)e[o]=e[--o];o!==i++&&(e[o]=r)}else for(var a=rA(n/2),s=oA(nA(e,0,a),t),c=oA(nA(e,a),t),u=s.length,l=c.length,f=0,h=0;f<u||h<l;)e[f+h]=f<u&&h<l?t(s[f],c[h])<=0?s[f++]:c[h++]:f<u?s[f++]:c[h++];return e},iA=wf,aA=xa,sA=function(e){if(!Zb)return Kb[e];var t=eA(Kb,e);return t&&t.value},cA=Ba,uA=Wa,lA=La,fA=hv,hA=vl,pA=Ag,dA=function(e,t,n){for(var r in t)tA(e,r,t[r],n);return e},gA=ry,mA=ly,yA=Xu,vA=Sv,bA=ls,AA=uc,wA=bv,SA=$f,EA=eu,kA=hs,PA=Zf,TA=dp,xA=Ha,RA=bb,OA=hb,LA=Iy,IA=Yb,CA=oA,jA=Ec("iterator"),BA="URLSearchParams",UA=BA+"Iterator",DA=yA.set,MA=yA.getterFor(BA),qA=yA.getterFor(UA),NA=sA("fetch"),_A=sA("Request"),HA=sA("Headers"),zA=_A&&_A.prototype,FA=HA&&HA.prototype,QA=aA.RegExp,GA=aA.TypeError,WA=aA.decodeURIComponent,VA=aA.encodeURIComponent,JA=uA("".charAt),XA=uA([].join),$A=uA([].push),YA=uA("".replace),KA=uA([].shift),ZA=uA([].splice),ew=uA("".split),tw=uA("".slice),nw=/\+/g,rw=Array(4),ow=function(e){return rw[e-1]||(rw[e-1]=QA("((?:%[\\da-f]{2}){"+e+"})","gi"))},iw=function(e){try{return WA(e)}catch(t){return e}},aw=function(e){var t=YA(e,nw," "),n=4;try{return WA(t)}catch(e){for(;n;)t=YA(t,ow(n--),iw);return t}},sw=/[!'()~]|%20/g,cw={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},uw=function(e){return cw[e]},lw=function(e){return YA(VA(e),sw,uw)},fw=mA((function(e,t){DA(this,{type:UA,target:MA(e).entries,index:0,kind:t})}),BA,(function(){var e=qA(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,LA(void 0,!0);var r=t[n];switch(e.kind){case"keys":return LA(r.key,!1);case"values":return LA(r.value,!1)}return LA([r.key,r.value],!1)}),!0),hw=function(e){this.entries=[],this.url=null,void 0!==e&&(kA(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===JA(e,0)?tw(e,1):e:PA(e)))};hw.prototype={type:BA,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,a,s,c=this.entries,u=OA(e);if(u)for(n=(t=RA(e,u)).next;!(r=cA(n,t)).done;){if(i=(o=RA(EA(r.value))).next,(a=cA(i,o)).done||(s=cA(i,o)).done||!cA(i,o).done)throw new GA("Expected sequence with length 2");$A(c,{key:PA(a.value),value:PA(s.value)})}else for(var l in e)AA(e,l)&&$A(c,{key:l,value:PA(e[l])})},parseQuery:function(e){if(e)for(var t,n,r=this.entries,o=ew(e,"&"),i=0;i<o.length;)(t=o[i++]).length&&(n=ew(t,"="),$A(r,{key:aw(KA(n)),value:aw(XA(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],$A(n,lw(e.key)+"="+lw(e.value));return XA(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var pw=function(){vA(this,dw);var e=DA(this,new hw(arguments.length>0?arguments[0]:void 0));lA||(this.size=e.entries.length)},dw=pw.prototype;if(dA(dw,{append:function(e,t){var n=MA(this);IA(arguments.length,2),$A(n.entries,{key:PA(e),value:PA(t)}),lA||this.length++,n.updateURL()},delete:function(e){for(var t=MA(this),n=IA(arguments.length,1),r=t.entries,o=PA(e),i=n<2?void 0:arguments[1],a=void 0===i?i:PA(i),s=0;s<r.length;){var c=r[s];if(c.key!==o||void 0!==a&&c.value!==a)s++;else if(ZA(r,s,1),void 0!==a)break}lA||(this.size=r.length),t.updateURL()},get:function(e){var t=MA(this).entries;IA(arguments.length,1);for(var n=PA(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){var t=MA(this).entries;IA(arguments.length,1);for(var n=PA(e),r=[],o=0;o<t.length;o++)t[o].key===n&&$A(r,t[o].value);return r},has:function(e){for(var t=MA(this).entries,n=IA(arguments.length,1),r=PA(e),o=n<2?void 0:arguments[1],i=void 0===o?o:PA(o),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===i||s.value===i))return!0}return!1},set:function(e,t){var n=MA(this);IA(arguments.length,1);for(var r,o=n.entries,i=!1,a=PA(e),s=PA(t),c=0;c<o.length;c++)(r=o[c]).key===a&&(i?ZA(o,c--,1):(i=!0,r.value=s));i||$A(o,{key:a,value:s}),lA||(this.size=o.length),n.updateURL()},sort:function(){var e=MA(this);CA(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=MA(this).entries,r=wA(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new fw(this,"keys")},values:function(){return new fw(this,"values")},entries:function(){return new fw(this,"entries")}},{enumerable:!0}),hA(dw,jA,dw.entries,{name:"entries"}),hA(dw,"toString",(function(){return MA(this).serialize()}),{enumerable:!0}),lA&&pA(dw,"size",{get:function(){return MA(this).entries.length},configurable:!0,enumerable:!0}),gA(pw,BA),iA({global:!0,constructor:!0,forced:!fA},{URLSearchParams:pw}),!fA&&bA(HA)){var gw=uA(FA.has),mw=uA(FA.set),yw=function(e){if(kA(e)){var t,n=e.body;if(SA(n)===BA)return t=e.headers?new HA(e.headers):new HA,gw(t,"content-type")||mw(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),TA(e,{body:xA(0,PA(n)),headers:xA(0,t)})}return e};if(bA(NA)&&iA({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return NA(e,arguments.length>1?yw(arguments[1]):{})}}),bA(_A)){var vw=function(e){return vA(this,zA),new _A(e,arguments.length>1?yw(arguments[1]):{})};zA.constructor=vw,vw.prototype=zA,iA({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:vw})}}var bw,Aw=wf,ww=La,Sw=hv,Ew=xa,kw=bv,Pw=Wa,Tw=vl,xw=Ag,Rw=Sv,Ow=uc,Lw=Uv,Iw=function(e){var t=Sb(e),n=Pb(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Ab(o,r>2?arguments[2]:void 0));var a,s,c,u,l,f,h=Ob(t),p=0;if(!h||this===Lb&&kb(h))for(a=Tb(t),s=n?new this(a):Lb(a);a>p;p++)f=i?o(t[p],p):t[p],xb(s,p,f);else for(s=n?new this:[],l=(u=Rb(t,h)).next;!(c=wb(l,u)).done;p++)f=i?Eb(u,o,[c.value,p],!0):c.value,xb(s,p,f);return s.length=p,s},Cw=Ib,jw=rd.codeAt,Bw=function(e){var t,n,r=[],o=Gb(Qb(Wb(e),Ub,"."),".");for(t=0;t<o.length;t++)n=o[t],Fb(r,qb(Bb,n)?"xn--"+Xb(n):n);return zb(r,".")},Uw=Zf,Dw=ry,Mw=Yb,qw={URLSearchParams:pw,getState:MA},Nw=Xu,_w=Nw.set,Hw=Nw.getterFor("URL"),zw=qw.URLSearchParams,Fw=qw.getState,Qw=Ew.URL,Gw=Ew.TypeError,Ww=Ew.parseInt,Vw=Math.floor,Jw=Math.pow,Xw=Pw("".charAt),$w=Pw(/./.exec),Yw=Pw([].join),Kw=Pw(1..toString),Zw=Pw([].pop),eS=Pw([].push),tS=Pw("".replace),nS=Pw([].shift),rS=Pw("".split),oS=Pw("".slice),iS=Pw("".toLowerCase),aS=Pw([].unshift),sS="Invalid scheme",cS="Invalid host",uS="Invalid port",lS=/[a-z]/i,fS=/[\d+-.a-z]/i,hS=/\d/,pS=/^0x/i,dS=/^[0-7]+$/,gS=/^\d+$/,mS=/^[\da-f]+$/i,yS=/[\0\t\n\r #%/:<>?@[\\\]^|]/,vS=/[\0\t\n\r #/:<>?@[\\\]^|]/,bS=/^[\u0000-\u0020]+/,AS=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,wS=/[\t\n\r]/g,SS=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)aS(t,e%256),e=Vw(e/256);return Yw(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=Kw(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ES={},kS=Lw({},ES,{" ":1,'"':1,"<":1,">":1,"`":1}),PS=Lw({},kS,{"#":1,"?":1,"{":1,"}":1}),TS=Lw({},PS,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xS=function(e,t){var n=jw(e,0);return n>32&&n<127&&!Ow(t,e)?e:encodeURIComponent(e)},RS={ftp:21,file:null,http:80,https:443,ws:80,wss:443},OS=function(e,t){var n;return 2===e.length&&$w(lS,Xw(e,0))&&(":"===(n=Xw(e,1))||!t&&"|"===n)},LS=function(e){var t;return e.length>1&&OS(oS(e,0,2))&&(2===e.length||"/"===(t=Xw(e,2))||"\\"===t||"?"===t||"#"===t)},IS=function(e){return"."===e||"%2e"===iS(e)},CS={},jS={},BS={},US={},DS={},MS={},qS={},NS={},_S={},HS={},zS={},FS={},QS={},GS={},WS={},VS={},JS={},XS={},$S={},YS={},KS={},ZS=function(e,t,n){var r,o,i,a=Uw(e);if(t){if(o=this.parse(a))throw new Gw(o);this.searchParams=null}else{if(void 0!==n&&(r=new ZS(n,!0)),o=this.parse(a,null,r))throw new Gw(o);(i=Fw(new zw)).bindURL(this),this.searchParams=i}};ZS.prototype={type:"URL",parse:function(e,t,n){var r,o,i,a,s,c=this,u=t||CS,l=0,f="",h=!1,p=!1,d=!1;for(e=Uw(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=tS(e,bS,""),e=tS(e,AS,"$1")),e=tS(e,wS,""),r=Iw(e);l<=r.length;){switch(o=r[l],u){case CS:if(!o||!$w(lS,o)){if(t)return sS;u=BS;continue}f+=iS(o),u=jS;break;case jS:if(o&&($w(fS,o)||"+"===o||"-"===o||"."===o))f+=iS(o);else{if(":"!==o){if(t)return sS;f="",u=BS,l=0;continue}if(t&&(c.isSpecial()!==Ow(RS,f)||"file"===f&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&RS[c.scheme]===c.port&&(c.port=null));f="","file"===c.scheme?u=GS:c.isSpecial()&&n&&n.scheme===c.scheme?u=US:c.isSpecial()?u=NS:"/"===r[l+1]?(u=DS,l++):(c.cannotBeABaseURL=!0,eS(c.path,""),u=$S)}break;case BS:if(!n||n.cannotBeABaseURL&&"#"!==o)return sS;if(n.cannotBeABaseURL&&"#"===o){c.scheme=n.scheme,c.path=Cw(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=KS;break}u="file"===n.scheme?GS:MS;continue;case US:if("/"!==o||"/"!==r[l+1]){u=MS;continue}u=_S,l++;break;case DS:if("/"===o){u=HS;break}u=XS;continue;case MS:if(c.scheme=n.scheme,o===bw)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Cw(n.path),c.query=n.query;else if("/"===o||"\\"===o&&c.isSpecial())u=qS;else if("?"===o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Cw(n.path),c.query="",u=YS;else{if("#"!==o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Cw(n.path),c.path.length--,u=XS;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=Cw(n.path),c.query=n.query,c.fragment="",u=KS}break;case qS:if(!c.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=XS;continue}u=HS}else u=_S;break;case NS:if(u=_S,"/"!==o||"/"!==Xw(f,l+1))continue;l++;break;case _S:if("/"!==o&&"\\"!==o){u=HS;continue}break;case HS:if("@"===o){h&&(f="%40"+f),h=!0,i=Iw(f);for(var g=0;g<i.length;g++){var m=i[g];if(":"!==m||d){var y=xS(m,TS);d?c.password+=y:c.username+=y}else d=!0}f=""}else if(o===bw||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(h&&""===f)return"Invalid authority";l-=Iw(f).length+1,f="",u=zS}else f+=o;break;case zS:case FS:if(t&&"file"===c.scheme){u=VS;continue}if(":"!==o||p){if(o===bw||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(c.isSpecial()&&""===f)return cS;if(t&&""===f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",u=JS,t)return;continue}"["===o?p=!0:"]"===o&&(p=!1),f+=o}else{if(""===f)return cS;if(a=c.parseHost(f))return a;if(f="",u=QS,t===FS)return}break;case QS:if(!$w(hS,o)){if(o===bw||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()||t){if(""!==f){var v=Ww(f,10);if(v>65535)return uS;c.port=c.isSpecial()&&v===RS[c.scheme]?null:v,f=""}if(t)return;u=JS;continue}return uS}f+=o;break;case GS:if(c.scheme="file","/"===o||"\\"===o)u=WS;else{if(!n||"file"!==n.scheme){u=XS;continue}switch(o){case bw:c.host=n.host,c.path=Cw(n.path),c.query=n.query;break;case"?":c.host=n.host,c.path=Cw(n.path),c.query="",u=YS;break;case"#":c.host=n.host,c.path=Cw(n.path),c.query=n.query,c.fragment="",u=KS;break;default:LS(Yw(Cw(r,l),""))||(c.host=n.host,c.path=Cw(n.path),c.shortenPath()),u=XS;continue}}break;case WS:if("/"===o||"\\"===o){u=VS;break}n&&"file"===n.scheme&&!LS(Yw(Cw(r,l),""))&&(OS(n.path[0],!0)?eS(c.path,n.path[0]):c.host=n.host),u=XS;continue;case VS:if(o===bw||"/"===o||"\\"===o||"?"===o||"#"===o){if(!t&&OS(f))u=XS;else if(""===f){if(c.host="",t)return;u=JS}else{if(a=c.parseHost(f))return a;if("localhost"===c.host&&(c.host=""),t)return;f="",u=JS}continue}f+=o;break;case JS:if(c.isSpecial()){if(u=XS,"/"!==o&&"\\"!==o)continue}else if(t||"?"!==o)if(t||"#"!==o){if(o!==bw&&(u=XS,"/"!==o))continue}else c.fragment="",u=KS;else c.query="",u=YS;break;case XS:if(o===bw||"/"===o||"\\"===o&&c.isSpecial()||!t&&("?"===o||"#"===o)){if(".."===(s=iS(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"===o||"\\"===o&&c.isSpecial()||eS(c.path,"")):IS(f)?"/"===o||"\\"===o&&c.isSpecial()||eS(c.path,""):("file"===c.scheme&&!c.path.length&&OS(f)&&(c.host&&(c.host=""),f=Xw(f,0)+":"),eS(c.path,f)),f="","file"===c.scheme&&(o===bw||"?"===o||"#"===o))for(;c.path.length>1&&""===c.path[0];)nS(c.path);"?"===o?(c.query="",u=YS):"#"===o&&(c.fragment="",u=KS)}else f+=xS(o,PS);break;case $S:"?"===o?(c.query="",u=YS):"#"===o?(c.fragment="",u=KS):o!==bw&&(c.path[0]+=xS(o,ES));break;case YS:t||"#"!==o?o!==bw&&("'"===o&&c.isSpecial()?c.query+="%27":c.query+="#"===o?"%23":xS(o,ES)):(c.fragment="",u=KS);break;case KS:o!==bw&&(c.fragment+=xS(o,kS))}l++}},parseHost:function(e){var t,n,r;if("["===Xw(e,0)){if("]"!==Xw(e,e.length-1))return cS;if(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return Xw(e,f)};if(":"===h()){if(":"!==Xw(e,1))return;f+=2,l=++u}for(;h();){if(8===u)return;if(":"!==h()){for(t=n=0;n<4&&$w(mS,h());)t=16*t+Ww(h(),16),f++,n++;if("."===h()){if(0===n)return;if(f-=n,u>6)return;for(r=0;h();){if(o=null,r>0){if(!("."===h()&&r<4))return;f++}if(!$w(hS,h()))return;for(;$w(hS,h());){if(i=Ww(h(),10),null===o)o=i;else{if(0===o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!==r||u++}if(4!==r)return;break}if(":"===h()){if(f++,!h())return}else if(h())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!==u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!==u)return;return c}(oS(e,1,-1)),!t)return cS;this.host=t}else if(this.isSpecial()){if(e=Bw(e),$w(yS,e))return cS;if(t=function(e){var t,n,r,o,i,a,s,c=rS(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(o=c[r]))return e;if(i=10,o.length>1&&"0"===Xw(o,0)&&(i=$w(pS,o)?16:8,o=oS(o,8===i?1:2)),""===o)a=0;else{if(!$w(10===i?gS:8===i?dS:mS,o))return e;a=Ww(o,i)}eS(n,a)}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=Jw(256,5-t))return null}else if(a>255)return null;for(s=Zw(n),r=0;r<n.length;r++)s+=n[r]*Jw(256,3-r);return s}(e),null===t)return cS;this.host=t}else{if($w(vS,e))return cS;for(t="",n=Iw(e),r=0;r<n.length;r++)t+=xS(n[r],ES);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return Ow(RS,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&OS(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=SS(o),null!==i&&(u+=":"+i)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+Yw(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw new Gw(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new eE(e.path[0]).origin}catch(e){return"null"}return"file"!==e&&this.isSpecial()?e+"://"+SS(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(Uw(e)+":",CS)},getUsername:function(){return this.username},setUsername:function(e){var t=Iw(Uw(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=xS(t[n],TS)}},getPassword:function(){return this.password},setPassword:function(e){var t=Iw(Uw(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=xS(t[n],TS)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?SS(e):SS(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,zS)},getHostname:function(){var e=this.host;return null===e?"":SS(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,FS)},getPort:function(){var e=this.port;return null===e?"":Uw(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=Uw(e))?this.port=null:this.parse(e,QS))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+Yw(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,JS))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""===(e=Uw(e))?this.query=null:("?"===Xw(e,0)&&(e=oS(e,1)),this.query="",this.parse(e,YS)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!==(e=Uw(e))?("#"===Xw(e,0)&&(e=oS(e,1)),this.fragment="",this.parse(e,KS)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var eE=function(e){var t=Rw(this,tE),n=Mw(arguments.length,1)>1?arguments[1]:void 0,r=_w(t,new ZS(e,!1,n));ww||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},tE=eE.prototype,nE=function(e,t){return{get:function(){return Hw(this)[e]()},set:t&&function(e){return Hw(this)[t](e)},configurable:!0,enumerable:!0}};if(ww&&(xw(tE,"href",nE("serialize","setHref")),xw(tE,"origin",nE("getOrigin")),xw(tE,"protocol",nE("getProtocol","setProtocol")),xw(tE,"username",nE("getUsername","setUsername")),xw(tE,"password",nE("getPassword","setPassword")),xw(tE,"host",nE("getHost","setHost")),xw(tE,"hostname",nE("getHostname","setHostname")),xw(tE,"port",nE("getPort","setPort")),xw(tE,"pathname",nE("getPathname","setPathname")),xw(tE,"search",nE("getSearch","setSearch")),xw(tE,"searchParams",nE("getSearchParams")),xw(tE,"hash",nE("getHash","setHash"))),Tw(tE,"toJSON",(function(){return Hw(this).serialize()}),{enumerable:!0}),Tw(tE,"toString",(function(){return Hw(this).serialize()}),{enumerable:!0}),Qw){var rE=Qw.createObjectURL,oE=Qw.revokeObjectURL;rE&&Tw(eE,"createObjectURL",kw(rE,Qw)),oE&&Tw(eE,"revokeObjectURL",kw(oE,Qw))}Dw(eE,"URL"),Aw({global:!0,constructor:!0,forced:!Sw,sham:!ww},{URL:eE});var iE=Ba;wf({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return iE(URL.prototype.toString,this)}});var aE=La,sE=Wa,cE=Ag,uE=URLSearchParams.prototype,lE=sE(uE.forEach);function fE(){return Math.random().toString(36).slice(2)}function hE(e){return Object.keys(e)}function pE(e){return Object.prototype.toString.call(e)}function dE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gE(e){return"string"==typeof e}function mE(e){return"[object BigInt]"===pE(e)}function yE(e){return e instanceof Array}function vE(e){return"object"==typeof e&&null!==e}function bE(e){return e instanceof Blob}function AE(e){return e instanceof URLSearchParams}function wE(e){return e instanceof FormData}function SE(e){return e instanceof File}function EE(e){return e instanceof Document}aE&&!("size"in uE)&&cE(uE,"size",{get:function(){var e=0;return lE(this,(function(){e++})),e},configurable:!0,enumerable:!0});const kE=e=>"".concat(e),PE=e=>({ok:!0,value:e});function TE(e){return void 0===e?PE(kE(e)):null===e?PE(e):function(e){return"number"==typeof e}(e)&&(e===-1/0||e===1/0||Number.isNaN(e))?PE(kE(e)):mE(e)?PE("".concat(e,"n")):"symbol"==typeof e||"function"==typeof e?PE(kE(e.toString())):e instanceof Error?PE(kE(e.stack)):e===Object.prototype?{value:null,ok:!1}:e instanceof Object||"object"==typeof e?{value:e,ok:!1}:PE(e)}function xE(e){const{ok:t,value:n}=TE(e);return t?n:JSON.stringify(e,((e,t)=>TE(t).value),2)}function RE(e){return void 0===e?"undefined":null===e?"null":mE(e)?"bigint":e instanceof Object?e instanceof Error?"error":"function"==typeof e?"function":"object":typeof e}const OE={...console},LE=["log","info","error","warn","debug"].reduce(((e,t)=>(e[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];console[t]("[PageSpy] [".concat(t.toLocaleUpperCase(),"] "),...n)},e.unproxy[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];OE[t]("[PageSpy] [".concat(t.toLocaleUpperCase(),"] "),...n)},e)),{unproxy:{}});const IE=e=>{if("object"!=typeof e)return null;const{name:t,message:n,stack:r}=Object(e);return!1===[t,n,r].every(Boolean)?null:{name:t,message:n,stack:r}},CE=e=>new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{var n;t(null===(n=e.target)||void 0===n?void 0:n.result)},r.onerror=()=>{n(new Error("blob2base64Async: can not convert"))},r.readAsDataURL(e)})),jE="page-spy-room",BE="message",UE="broadcast",DE="ping",ME="updateRoomInfo";var qE=Object.freeze({__proto__:null,BROADCAST:UE,CLOSE:"close",CONNECT:"connect",ERROR:"error",JOIN:"join",LEAVE:"leave",MESSAGE:BE,PING:DE,PONG:"pong",UPDATE_ROOM_INFO:ME});function NE(e,t){return{role:"client",type:e,data:{...(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&{id:fE()},...t}}}var _E=Wa,HE=Set.prototype,zE={Set:Set,add:_E(HE.add),has:_E(HE.has),remove:_E(HE.delete),proto:HE},FE=zE.has,QE=function(e){return FE(e),e},GE=Ba,WE=function(e,t,n){for(var r,o,i=n?e:e.iterator,a=e.next;!(r=GE(a,i)).done;)if(void 0!==(o=t(r.value)))return o},VE=Wa,JE=WE,XE=zE.Set,$E=zE.proto,YE=VE($E.forEach),KE=VE($E.keys),ZE=KE(new XE).next,ek=function(e,t,n){return n?JE({iterator:KE(e),next:ZE},t):YE(e,t)},tk=ek,nk=zE.Set,rk=zE.add,ok=function(e){var t=new nk;return tk(e,(function(e){rk(t,e)})),t},ik=Of(zE.proto,"size","get")||function(e){return e.size},ak=Ns,sk=eu,ck=Ba,uk=El,lk=function(e){return{iterator:e,next:e.next,done:!1}},fk="Invalid size",hk=RangeError,pk=TypeError,dk=Math.max,gk=function(e,t){this.set=e,this.size=dk(t,0),this.has=ak(e.has),this.keys=ak(e.keys)};gk.prototype={getIterator:function(){return lk(sk(ck(this.keys,this.set)))},includes:function(e){return ck(this.has,this.set,e)}};var mk=function(e){sk(e);var t=+e.size;if(t!=t)throw new pk(fk);var n=uk(t);if(n<0)throw new hk(fk);return new gk(e,n)},yk=QE,vk=ok,bk=ik,Ak=mk,wk=ek,Sk=WE,Ek=zE.has,kk=zE.remove,Pk=gs,Tk=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},xk=function(e){var t=Pk("Set");try{(new t)[e](Tk(0));try{return(new t)[e](Tk(-1)),!1}catch(e){return!0}}catch(e){return!1}},Rk=function(e){var t=yk(this),n=Ak(e),r=vk(t);return bk(t)<=n.size?wk(t,(function(e){n.includes(e)&&kk(r,e)})):Sk(n.getIterator(),(function(e){Ek(t,e)&&kk(r,e)})),r};wf({target:"Set",proto:!0,real:!0,forced:!xk("difference")},{difference:Rk});var Ok=QE,Lk=ik,Ik=mk,Ck=ek,jk=WE,Bk=zE.Set,Uk=zE.add,Dk=zE.has,Mk=Oa,qk=function(e){var t=Ok(this),n=Ik(e),r=new Bk;return Lk(t)>n.size?jk(n.getIterator(),(function(e){Dk(t,e)&&Uk(r,e)})):Ck(t,(function(e){n.includes(e)&&Uk(r,e)})),r};wf({target:"Set",proto:!0,real:!0,forced:!xk("intersection")||Mk((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}))},{intersection:qk});var Nk=QE,_k=zE.has,Hk=ik,zk=mk,Fk=ek,Qk=WE,Gk=Nv,Wk=function(e){var t=Nk(this),n=zk(e);if(Hk(t)<=n.size)return!1!==Fk(t,(function(e){if(n.includes(e))return!1}),!0);var r=n.getIterator();return!1!==Qk(r,(function(e){if(_k(t,e))return Gk(r,"normal",!1)}))};wf({target:"Set",proto:!0,real:!0,forced:!xk("isDisjointFrom")},{isDisjointFrom:Wk});var Vk=QE,Jk=ik,Xk=ek,$k=mk,Yk=function(e){var t=Vk(this),n=$k(e);return!(Jk(t)>n.size)&&!1!==Xk(t,(function(e){if(!n.includes(e))return!1}),!0)};wf({target:"Set",proto:!0,real:!0,forced:!xk("isSubsetOf")},{isSubsetOf:Yk});var Kk=QE,Zk=zE.has,eP=ik,tP=mk,nP=WE,rP=Nv,oP=function(e){var t=Kk(this),n=tP(e);if(eP(t)<n.size)return!1;var r=n.getIterator();return!1!==nP(r,(function(e){if(!Zk(t,e))return rP(r,"normal",!1)}))};wf({target:"Set",proto:!0,real:!0,forced:!xk("isSupersetOf")},{isSupersetOf:oP});var iP=QE,aP=ok,sP=mk,cP=WE,uP=zE.add,lP=zE.has,fP=zE.remove,hP=function(e){var t=iP(this),n=sP(e).getIterator(),r=aP(t);return cP(n,(function(e){lP(t,e)?fP(r,e):uP(r,e)})),r};wf({target:"Set",proto:!0,real:!0,forced:!xk("symmetricDifference")},{symmetricDifference:hP});var pP=QE,dP=zE.add,gP=ok,mP=mk,yP=WE,vP=function(e){var t=pP(this),n=mP(e).getIterator(),r=gP(t);return yP(n,(function(e){dP(r,e)})),r};wf({target:"Set",proto:!0,real:!0,forced:!xk("union")},{union:vP});class bP{constructor(){t(this,"store",{}),t(this,"instanceStore",{})}getStore(){return this.store}resetStore(){this.store={}}getInstanceStore(){return this.instanceStore}resetInstanceStore(){this.instanceStore={}}transformToAtom(e){const{value:t,ok:n}=TE(e);return n?{id:fE(),type:RE(e),value:t}:this.add(e)}get(e){const t=this.store[e],n=this.instanceStore[e];if(!t)return null;const r={},o=Object.getOwnPropertyDescriptors(t);Object.keys(o).forEach((e=>{const t=o[e];dE(t,"value")&&(t.value=this.transformToAtom(t.value)),r[e]=bP.getAtomOverview({atomId:fE(),instanceId:n,value:t})}));const i=this.addExtraProperty(e);return{...r,...i}}getOrigin(e){const t=this.store[e];return t||null}add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=fE();let r=n;var o;vE(o=e)&&dE(o,"constructor")&&"function"==typeof o.constructor&&(r=t),this.store[n]=e,this.instanceStore[n]=r;const i=bP.getSemanticValue(e);return bP.getAtomOverview({atomId:n,value:i,instanceId:r})}static getAtomOverview(e){let{instanceId:t="",atomId:n,value:r}=e;return{id:fE(),type:"atom",__atomId:n,instanceId:t,value:r}}static getSemanticValue(e){if(vE(t=e)&&"[object Object]"===pE(t))return"Object {...}";var t;if(yE(e))return"Array (".concat(e.length,")");return e.constructor.name}addExtraProperty(e){const t=this.store[e],n=this.instanceStore[e],r={};if((t instanceof String||t instanceof Number||t instanceof Boolean)&&(r["[[PrimitiveValue]]"]=this.transformToAtom(t.valueOf())),t instanceof Set){const e={};let n=0;for(const r of t)e[n++]=r;e.size=t.size,r["[[Entries]]"]=this.transformToAtom(e)}if(t instanceof Map){const e={};let n=0;for(const[r,o]of t.entries())e[n++]={key:r,value:o};e.size=t.size,r["[[Entries]]"]=this.transformToAtom(e)}var o;return(yE(t)||(o=t,"function"==typeof NodeList&&"NodeList"===NodeList.name&&o instanceof NodeList||"function"==typeof HTMLCollection&&"HTMLCollection"===HTMLCollection.name&&o instanceof HTMLCollection))&&(r.length=this.transformToAtom(t.length)),null!==Object.getPrototypeOf(t)?r["[[Prototype]]"]=this.add(Object.getPrototypeOf(t),n):r.___proto___=this.transformToAtom(null),r}}var AP=new bP,wP=hs,SP=$a,EP=Ec("match"),kP=Ba,PP=uc,TP=ms,xP=Uh,RP=RegExp.prototype,OP=wf,LP=Ba,IP=Wa,CP=is,jP=ls,BP=ns,UP=function(e){var t;return wP(e)&&(void 0!==(t=e[EP])?!!t:"RegExp"===SP(e))},DP=Zf,MP=zs,qP=function(e){var t=e.flags;return void 0!==t||"flags"in RP||PP(e,"flags")||!TP(RP,e)?t:kP(xP,e)},NP=pd,_P=Ec("replace"),HP=TypeError,zP=IP("".indexOf);IP("".replace);var FP=IP("".slice),QP=Math.max;OP({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,o,i,a,s,c,u,l=CP(this),f=0,h=0,p="";if(!BP(e)){if(UP(e)&&(n=DP(CP(qP(e))),!~zP(n,"g")))throw new HP("`.replaceAll` does not allow non-global regexes");if(r=MP(e,_P))return LP(r,e,l,t)}for(o=DP(l),i=DP(e),(a=jP(t))||(t=DP(t)),s=i.length,c=QP(1,s),f=zP(o,i);-1!==f;)u=a?DP(t(i,f,o)):NP(i,o,f,[],void 0,t),p+=FP(o,h,f)+u,h=f+s,f=f+c>o.length?-1:zP(o,i,f+c);return h<o.length&&(p+=FP(o,h)),p}});class GP{static makeClientInfoMsg(){const e=GP.info.ua||(e=>{let{osType:t,osVersion:n,browserType:r,browserVersion:o}=e;return"".concat(t,"/").concat(n," ").concat(r,"/").concat(o)})(GP.info);return{sdk:GP.info.sdk,isDevTools:GP.info.isDevTools,ua:e,plugins:GP.plugins}}}var WP;t(GP,"info",{osType:"unknown",osVersion:"unknown",browserType:"unknown",browserVersion:"unknown",framework:"unknown",isDevTools:!1,sdk:"browser"}),t(GP,"plugins",[]),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(WP||(WP={}));const VP=2e3,JP=Math.pow(1.5,4)*VP;class XP{constructor(){t(this,"events",{open:[],close:[],error:[],message:[]})}emit(e,t){this.events[e].forEach((e=>{e(t)})),"close"!==e&&"error"!==e||this.clearListeners()}onOpen(e){this.events.open.push(e)}onClose(e){this.events.close.push(e)}onError(e){this.events.error.push(e)}onMessage(e){this.events.message.push(e)}clearListeners(){Object.entries(this.events).forEach((e=>{let[,t]=e;t.splice(0)}))}}class $P{constructor(){t(this,"socketUrl",""),t(this,"socketConnection",null),t(this,"debuggerConnection",null),t(this,"pingTimer",null),t(this,"pongTimer",null),t(this,"retryTimer",null),t(this,"isOffline",!1),t(this,"messageCapacity",0),t(this,"messages",[]),t(this,"events",{debug:[],refresh:[],"atom-detail":[],"atom-getter":[],"debugger-online":[],"database-pagination":[],"public-data":[]}),t(this,"retryInterval",VP),t(this,"connectable",!0),this.addListener("atom-detail",$P.handleResolveAtom),this.addListener("atom-getter",$P.handleAtomPropertyGetter),this.addListener("debugger-online",this.handleFlushBuffer)}async init(e){try{var t,n,r,o,i;if(!e)throw Error("WebSocket url cannot be empty");this.socketWrapper.clearListeners(),this.socketWrapper.getState()===WP.OPEN&&await new Promise((e=>{this.socketWrapper.onClose((()=>{this.socketWrapper.clearListeners(),e()})),this.socketWrapper.close()})),null===(t=this.socketWrapper)||void 0===t||t.onOpen((()=>{this.connectOnline()})),null===(n=this.socketWrapper)||void 0===n||n.onMessage((e=>{this.handleMessage(e)})),null===(r=this.socketWrapper)||void 0===r||r.onClose((()=>{this.connectOffline()})),null===(o=this.socketWrapper)||void 0===o||o.onError((()=>{this.connectOffline()})),this.socketUrl=e,null===(i=this.socketWrapper)||void 0===i||i.init(e)}catch(e){LE.error(e.message)}}addListener(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}broadcastMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(e){return{type:UE,content:{data:e}}}(e);this.send(n,t)}close(){var e;this.connectable=!1,this.clearPing(),null===(e=this.socketWrapper)||void 0===e||e.close(),this.messages=[],Object.entries(this.events).forEach((e=>{let[t,n]=e;["atom-detail","atom-getter","debugger-online"].includes(t)||n.splice(0)}))}connectOnline(){this.retryInterval=VP,this.updateRoomInfo(),this.ping()}connectOffline(){this.socketConnection=null,this.debuggerConnection=null,this.clearPing(),this.retryTimer&&clearTimeout(this.retryTimer),this.connectable&&(this.retryTimer=setTimeout((()=>{this.retryInterval<JP&&(this.retryInterval*=1.5),this.retryTimer=null,this.tryReconnect()}),this.retryInterval))}tryReconnect(){this.init(this.socketUrl)}ping(){this.pingTimer&&clearTimeout(this.pingTimer),this.pongTimer&&clearTimeout(this.pongTimer),this.pingTimer=setTimeout((()=>{this.send({type:"ping",content:null}),this.pingTimer=null,this.pongTimer=setTimeout((()=>{this.connectOffline(),this.pongTimer=null}),5e3)}),5e3)}clearPing(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null)}handlePong(){clearTimeout(this.pongTimer),this.pongTimer=null,this.ping()}handleMessage(e){var t;$P.messageFilters.length&&$P.messageFilters.forEach((t=>{e=t(e)}));const{CONNECT:n,MESSAGE:r,ERROR:o,JOIN:i,PING:a,PONG:s,LEAVE:c,CLOSE:u,BROADCAST:l}=qE,f=JSON.parse(e.data),{type:h}=f;switch(h){case n:const{selfConnection:e,roomConnections:a}=f.content;this.socketConnection=e,this.debuggerConnection=a.find((e=>"Debugger"===e.userId))||null;break;case i:case c:const{connection:s}=f.content;"Debugger"===s.userId&&(h===i?(this.debuggerConnection=s,this.sendClientInfo()):this.debuggerConnection=null);break;case r:const{data:l,from:p,to:d}=f.content;d.address===(null===(t=this.socketConnection)||void 0===t?void 0:t.address)&&this.dispatchEvent(l.type,{source:l,from:p,to:d});break;case u:case o:this.connectOffline()}this.handlePong()}dispatchEvent(e,t){var n;["public-data"].includes(e)?this.events["public-data"].forEach((e=>{e(t)})):null===(n=this.events[e])||void 0===n||n.forEach((e=>{e.call(this,t,(e=>{this.unicastMessage(e,t.from)}))}))}unicastMessage(e,t){const n=function(e,t,n){return{type:BE,content:{data:e,from:t,to:n}}}(e,this.socketConnection,t);this.send(n)}handleFlushBuffer(e){const{latestId:t}=e.source.data,n=this.messages.findIndex((e=>e.content.data.data.id===t));this.messages.slice(n+1).forEach((t=>{const n={type:BE,content:{data:t.content.data,from:this.socketConnection,to:e.from}};this.send(n,!0)}))}static handleResolveAtom(e,t){let{source:n}=e;const{type:r,data:o}=n;if("atom-detail"===r){const e=AP.get(o)||{};t(NE("atom-detail-".concat(o),e,!1))}}static handleAtomPropertyGetter(e,t){let{source:n}=e;const{type:r,data:o}=n;if("atom-getter"===r){const{id:e,parentId:n,key:r,instanceId:a}=o,s=AP.getOrigin(a),c=AP.getOrigin(n);let u={};var i;if(s&&c)u=null===(i=Object.getOwnPropertyDescriptor(c,r))||void 0===i||null===(i=i.get)||void 0===i?void 0:i.call(s);else u=new Error("Getter computed failed");t(NE("atom-getter-".concat(e),AP.transformToAtom(u)))}}send(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.checkIfSend(e))try{var n;const t=e;t.createdAt=Date.now(),t.requestId=fE();const r=xE(t);null===(n=this.socketWrapper)||void 0===n||n.send(r)}catch(e){LE.error("Incompatible: ".concat(e.message)),this.connectOffline()}this.checkIfCache(e,t)&&(0!==this.messageCapacity&&this.messages.length>=this.messageCapacity&&this.messages.shift(),this.messages.push(e))}checkIfSend(e){return this.socketWrapper.getState()===WP.OPEN&&(!![ME,DE].includes(e.type)||!!this.debuggerConnection)}checkIfCache(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.isOffline&&!t&&![BE,DE].includes(e.type)}sendClientInfo(){const e=GP.makeClientInfoMsg();this.broadcastMessage({role:"client",type:"client-info",data:e},!0)}}t($P,"messageFilters",[]);class YP{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{className:t="",el:n="div"}=e,r=document.createElement(n);r.dataset.testid="modal",r.className=["page-spy-modal",t].join(" "),r.style.display="none",r.onclick=e=>{e.stopPropagation(),e.preventDefault(),this.close()},this.el=r}show(){this.el.style.display="flex",setTimeout((()=>{this.el.classList.add("show")}),50)}close(){this.el.classList.remove("show"),setTimeout((()=>{this.el.style.display="none"}),300)}appendNode(e){this.el.insertAdjacentElement("beforeend",e)}}class KP{constructor(e){this.options={...e};const t=document.createElement("div");t.dataset.testid="content",t.className=["page-spy-content",e.className].join(" "),t.onclick=e=>{e.stopPropagation()},this.el=t,this.render()}render(){const{content:e="",onOk:t}=this.options,n=document.createElement("div");n.className="page-spy-content__info",n.innerHTML=e;const r=document.createElement("div");r.dataset.testid="copy-button",r.className="page-spy-content__btn",r.textContent=function(){const e=navigator.languages;return["zh-CN","zh-HK","zh-TW","zh"].some((t=>e.includes(t)))}()?"复制在线调试链接":"Copy debug link",r.onclick=e=>{e.stopPropagation(),t&&t()},this.el.insertAdjacentElement("beforeend",n),this.el.insertAdjacentElement("beforeend",r)}}class ZP extends XP{constructor(){super(...arguments),t(this,"socketInstance",null)}init(e){this.socketInstance=new WebSocket(e);["open","close","error","message"].forEach((e=>{this.socketInstance.addEventListener(e,(t=>{this.events[e].forEach((e=>{e(t)}))}))}))}send(e){var t;null===(t=this.socketInstance)||void 0===t||t.send(xE(e))}close(){var e;null===(e=this.socketInstance)||void 0===e||e.close()}getState(){var e;return null===(e=this.socketInstance)||void 0===e?void 0:e.readyState}}var eT=new class extends $P{constructor(){super(...arguments),t(this,"socketWrapper",new ZP),t(this,"getPageSpyConfig",null)}updateRoomInfo(){if(this.getPageSpyConfig){const{project:e,title:t}=this.getPageSpyConfig();this.send({type:ME,content:{info:{name:navigator.userAgent,group:e,tags:{title:t,name:navigator.userAgent,group:e}}}},!0)}}getSocket(){return this.socketWrapper}onOffline(){window.dispatchEvent(new CustomEvent("sdk-inactive")),sessionStorage.removeItem(jE)}};class tT{constructor(){t(this,"name","ConsolePlugin"),t(this,"proxyTypes",["log","info","error","warn","debug"]),t(this,"console",{})}async onInit(){var e=this;tT.hasInitd||(tT.hasInitd=!0,eT.addListener("debug",tT.handleDebugger),this.proxyTypes.forEach((t=>{this.console[t]=window.console[t]||window.console.log||(()=>{}),window.console[t]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.printLog({logType:t,logs:r,url:window.location.href})}})))}onReset(){this.proxyTypes.forEach((e=>{window.console[e]=this.console[e]})),tT.hasInitd=!1}static handleDebugger(e,t){let{source:n}=e;const{type:r,data:o}=n;if("debug"===r){t(NE("console",{logType:"debug-origin",logs:[{id:fE(),type:"debug-origin",value:o}]}));try{const e=new Function("return ".concat(o))();t(NE("console",{logType:"debug-eval",logs:[AP.transformToAtom(e)]}))}catch(e){t(NE("console",{logType:"error",logs:[{type:"error",value:e.stack}]}))}}}printLog(e){if(e.logs&&e.logs.length){this.console[e.logType](...e.logs),e.logs=e.logs.map((e=>AP.transformToAtom(e)));const t=NE("console",{time:Date.now(),...e});eT.dispatchEvent("public-data",t),eT.broadcastMessage(t)}}}t(tT,"hasInitd",!1);class nT{constructor(){t(this,"name","ErrorPlugin"),t(this,"uncaughtErrorListener",(e=>{if(e.error){const{message:t,stack:n}=e.error,r=IE(e.error);nT.sendMessage(n||t,r)}else{const e="[PageSpy] An unknown error occurred and no stack trace available";nT.sendMessage(e,null)}})),t(this,"resourceLoadErrorListener",(e=>{if(!(e instanceof ErrorEvent)){const{target:t}=e;nT.sendMessage("[PageSpy] Resource Load Error: Cannot load resource of (".concat(t.src||t.href,")"),null)}})),t(this,"rejectionListener",(e=>{const t=IE(e.reason);nT.sendMessage(e.reason,t)}))}onInit(){nT.hasInitd||(nT.hasInitd=!0,this.onUncaughtError(),this.onResourceLoadError(),this.onUnhandledRejectionError())}onReset(){window.removeEventListener("error",this.uncaughtErrorListener),window.removeEventListener("error",this.resourceLoadErrorListener),window.removeEventListener("unhandledrejection",this.rejectionListener),nT.hasInitd=!1}onUncaughtError(){window.addEventListener("error",this.uncaughtErrorListener)}onResourceLoadError(){window.addEventListener("error",this.resourceLoadErrorListener,!0)}onUnhandledRejectionError(){window.addEventListener("unhandledrejection",this.rejectionListener)}static sendMessage(e,t){const n=NE("console",{logType:"error",logs:[AP.transformToAtom(e)],time:Date.now(),url:window.location.href,errorDetail:t});eT.dispatchEvent("public-data",n),eT.broadcastMessage(n)}}t(nT,"hasInitd",!1);var rT=Ae,oT=Ne,iT=j,aT=fr,sT=TypeError,cT=function(e){return function(t,n,r,o){rT(n);var i=oT(t),a=iT(i),s=aT(i),c=e?s-1:0,u=e?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw sT("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(o=n(o,a[c],c,i));return o}},uT={left:cT(!1),right:cT(!0)},lT=s,fT="undefined"!=typeof process&&"process"==R(process),hT=uT.left,pT=function(e,t){var n=[][e];return!!n&&lT((function(){n.call(null,t||function(){return 1},1)}))};eo({target:"Array",proto:!0,forced:!fT&&oe>79&&oe<83||!pT("reduce")},{reduce:function(e){var t=arguments.length;return hT(this,e,t,t>1?arguments[1]:void 0)}});const dT=2097152,gT="Exceed maximum limit";var mT;!function(e){e[e.UNSENT=0]="UNSENT",e[e.OPENED=1]="OPENED",e[e.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",e[e.LOADING=3]="LOADING",e[e.DONE=4]="DONE"}(mT||(mT={}));const yT="(file)";function vT(e,t){try{let n,r;if("object"==typeof window&&"object"==typeof document&&"[object HTMLDocument]"===Object.prototype.toString.call(document)){const{searchParams:o,href:i}=new URL(e,t);n=i,r=[...o.entries()]}else n=e.toString(),r=function(e){const t=/[?&]([^=#]+)=([^&#]*)/g,n=[];let r;for(;null!==(r=t.exec(e));){const e=decodeURIComponent(r[1]),t=decodeURIComponent(r[2]);n.push([e,t])}return n}(n);const o=n.replace(/^.*?([^/]+)(\/)*(\?.*?)?$/,"$1$2$3")||"";return{url:n,name:o,query:r}}catch(e){return{url:"Unknown",name:"Unknown",query:null}}}const bT="Content-Type";function AT(e,t){if(!t)return e;const n=function(e){return e?wE(e)?"multipart/form-data":AE(e)?"application/x-www-form-urlencoded;charset=UTF-8":EE(e)?"application/xml":bE(e)?e.type:"text/plain;charset=UTF-8":null}(t);if(!n)return e;const r=[bT,n];if(!e)return[r];for(let t=0;t<e.length;t++){const[n]=e[t];if(n.toUpperCase()===bT.toUpperCase())return e}return[...e,r]}async function wT(e){if(!e)return null;if(AE(e)||wE(e))return function(e){const t=[];let n=e.next();for(;!n.done;){const[r,o]=n.value;let i;i=SE(o)?yT:String(o),t.push([r,i]),n=e.next()}return t}(e.entries());if(bE(e))return"[object Blob]";if(t=e,ArrayBuffer.isView(t))return"[object TypedArray]";var t;if(EE(e)){return(new XMLSerializer).serializeToString(e)}return gE(e)?e:pE(e)}class ST{constructor(e){t(this,"id",""),t(this,"name",""),t(this,"method",""),t(this,"url",""),t(this,"requestType","xhr"),t(this,"requestHeader",null),t(this,"status",0),t(this,"statusText",""),t(this,"readyState",0),t(this,"responseReason",null),t(this,"responseType",""),t(this,"responseHeader",null),t(this,"startTime",0),t(this,"endTime",0),t(this,"costTime",0),t(this,"getData",null),t(this,"postData",null),t(this,"requestPayload",null),t(this,"withCredentials",!1),this.id=e}}class ET{constructor(e){t(this,"reqMap",Object.create(null)),this.socketStore=e}getRequestMap(){return this.reqMap}getRequest(e){return this.reqMap[e]}removeRequest(e){delete this.reqMap[e]}createRequest(e){return e?this.reqMap[e]?(LE.warn("The request object has been in store, disallow duplicate create"),!1):(this.reqMap[e]=new ST(e),!0):(LE.warn('The "id" is required when init request object'),!1)}setRequest(e,t){return!(!e||!t)&&(this.reqMap[e]=t,!0)}sendRequestItem(e,t){try{this.reqMap[e]||(this.reqMap[e]=t);const n=NE("network",{...t},!1);Number(t.readyState)===mT.DONE&&this.socketStore.dispatchEvent("public-data",n),this.socketStore.broadcastMessage(n,t.readyState!==mT.DONE),this.deferDeleteRequest(e)}catch(e){LE.error(e.message)}}deferDeleteRequest(e){const t=this.getRequest(e);t&&t.readyState===mT.DONE&&setTimeout((()=>{delete this.reqMap[e]}),3e3)}}class kT extends ET{constructor(){super(eT)}}class PT extends kT{constructor(){super(),t(this,"xhrOpen",null),t(this,"xhrSend",null),t(this,"xhrSetRequestHeader",null),this.initProxyHandler()}initProxyHandler(){const e=this;if(!window.XMLHttpRequest)return;const{open:t,send:n,setRequestHeader:r}=window.XMLHttpRequest.prototype;this.xhrOpen=t,this.xhrSend=n,this.xhrSetRequestHeader=r,window.XMLHttpRequest.prototype.open=function(){const n=this;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const a=o[0],s=o[1],c=fE();return e.createRequest(c),this.pageSpyRequestId=c,this.pageSpyRequestMethod=a,this.pageSpyRequestUrl=s,n.addEventListener("readystatechange",(async()=>{const t=e.getRequest(c);if(t){switch(t.readyState=n.readyState,n.readyState){case n.UNSENT:case n.OPENED:t.status=n.status,t.statusText="Pending",t.startTime||(t.startTime=Date.now());break;case n.HEADERS_RECEIVED:t.status=n.status,t.statusText="Loading";const r=(n.getAllResponseHeaders()||"").trim().split(/[\r\n]+/);t.responseHeader=r.reduce(((e,t)=>{const[n,...r]=t.split(": ");return e.push([n,r.join(": ")]),e}),[]);break;case n.LOADING:t.status=n.status,t.statusText="Loading";break;case n.DONE:t.status=n.status,t.statusText="Done",t.endTime=Date.now(),t.costTime=t.endTime-(t.startTime||t.endTime);const o=await e.formatResponse(n);hE(o).forEach((e=>{t[e]=o[e]}));break;default:t.status=n.status,t.statusText="Unknown"}e.sendRequestItem(n.pageSpyRequestId,t)}else LE.warn("The request object is not found on XMLHttpRequest's readystatechange event")})),t.apply(n,o)},window.XMLHttpRequest.prototype.setRequestHeader=function(t,n){const o=e.getRequest(this.pageSpyRequestId);return o?(o.requestHeader||(o.requestHeader=[]),o.requestHeader.push([String(t),String(n)])):LE.warn("The request object is not found on XMLHttpRequest's setRequestHeader event"),r.apply(this,[t,n])},window.XMLHttpRequest.prototype.send=function(t){const r=this,{pageSpyRequestId:o,pageSpyRequestMethod:i="GET",pageSpyRequestUrl:a=""}=r,s=e.getRequest(o);if(s){const n=vT(a,window.location.href);s.url=n.url,s.name=n.name,s.getData=n.query,s.method=i.toUpperCase(),s.requestType="xhr",s.responseType=r.responseType,s.withCredentials=r.withCredentials,"GET"!==s.method&&(s.requestHeader=AT(s.requestHeader,t),wT(t).then((t=>{s.requestPayload=t,e.sendRequestItem(r.pageSpyRequestId,s)})))}else LE.warn("The request object is not found on XMLHttpRequest's send event");return n.apply(r,[t])}}reset(){this.xhrOpen&&(window.XMLHttpRequest.prototype.open=this.xhrOpen),this.xhrSend&&(window.XMLHttpRequest.prototype.send=this.xhrSend),this.xhrSetRequestHeader&&(window.XMLHttpRequest.prototype.setRequestHeader=this.xhrSetRequestHeader)}async formatResponse(e){const t={response:"",responseReason:null};switch(e.responseType){case"":case"text":if(gE(e.response))try{t.response=JSON.parse(e.response)}catch(n){t.response=e.response}else void 0!==e.response&&(t.response=pE(e.response));break;case"json":void 0!==e.response&&(t.response=e.response);break;case"blob":case"arraybuffer":if(e.response){let n=e.response;if(n instanceof ArrayBuffer){const t=e.getResponseHeader("content-type");t&&(n=new Blob([n],{type:t}))}if(bE(n))if(n.size<=dT)try{t.response=await CE(n)}catch(e){t.response=await n.text(),LE.error(e.message)}else t.response="[object Blob]",t.responseReason=gT}break;default:void 0!==e.response&&(t.response=Object.prototype.toString.call(e.response))}return t}}var TT=i.Promise,xT={};xT[nt("toStringTag")]="z";var RT="[object z]"===String(xT),OT=Q,LT=R,IT=nt("toStringTag"),CT=Object,jT="Arguments"==LT(function(){return arguments}()),BT=RT?LT:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=CT(e),IT))?n:jT?LT(t):"Object"==(r=LT(t))&&OT(t.callee)?"Arguments":r},UT=k,DT=s,MT=Q,qT=BT,NT=cn,_T=function(){},HT=[],zT=$("Reflect","construct"),FT=/^\s*(?:class|function)\b/,QT=UT(FT.exec),GT=!FT.exec(_T),WT=function(e){if(!MT(e))return!1;try{return zT(_T,HT,e),!0}catch(e){return!1}},VT=function(e){if(!MT(e))return!1;switch(qT(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return GT||!!QT(FT,NT(e))}catch(e){return!0}};VT.sham=!0;var JT=!zT||DT((function(){var e;return WT(WT.call)||!WT(Object)||!WT((function(){e=!0}))||e}))?VT:WT,XT=JT,$T=me,YT=TypeError,KT=jt,ZT=function(e){if(XT(e))return e;throw YT($T(e)+" is not a constructor")},ex=B,tx=nt("species"),nx={},rx=Ae,ox=TypeError,ix=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw ox("Bad Promise constructor");t=e,n=r})),this.resolve=rx(t),this.reject=rx(n)};nx.f=function(e){return new ix(e)};var ax=jt,sx=V,cx=nx,ux=eo,lx=TT,fx=s,hx=$,px=Q,dx=function(e,t){var n,r=KT(e).constructor;return void 0===r||ex(n=KT(r)[tx])?t:ZT(n)},gx=function(e,t){if(ax(e),sx(t)&&t.constructor===e)return t;var n=cx.f(e);return(0,n.resolve)(t),n.promise},mx=Kn,yx=lx&&lx.prototype;if(ux({target:"Promise",proto:!0,real:!0,forced:!!lx&&fx((function(){yx.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=dx(this,hx("Promise")),n=px(e);return this.then(n?function(n){return gx(t,e()).then((function(){return n}))}:e,n?function(n){return gx(t,e()).then((function(){throw n}))}:e)}}),px(lx)){var vx=hx("Promise").prototype.finally;yx.finally!==vx&&mx(yx,"finally",vx,{unsafe:!0})}class bx extends kT{constructor(){super(),t(this,"fetch",null),this.initProxyHandler()}reset(){this.fetch&&(window.fetch=this.fetch)}initProxyHandler(){const e=this,t=window.fetch;t&&(this.fetch=t,window.fetch=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t(n,r),i=fE();e.createRequest(i);const a=e.getRequest(i);if(a){let t,s="GET",c=null;gE(n)||n instanceof URL?(s=r.method||"GET",t=n,c=r.headers||null):(s=n.method,t=n.url,c=n.headers);const u=vT(t,window.location.href);a.url=u.url,a.name=u.name,a.getData=u.query,a.method=s.toUpperCase(),a.requestType="fetch",a.status=0,a.statusText="Pending",a.startTime=Date.now(),a.readyState=XMLHttpRequest.UNSENT,r.credentials&&"omit"!==r.credentials&&(a.withCredentials=!0),c&&(!function(e){return e instanceof Headers}(c)?vE(c)?a.requestHeader=Object.entries(c).map((e=>{let[t,n]=e;return[String(t),String(n)]})):a.requestHeader=c.map((e=>{let[t,n]=e;return[String(t),String(n)]})):a.requestHeader=[...c.entries()]),"GET"!==a.method&&(a.requestHeader=AT(a.requestHeader,r.body),wT(r.body).then((t=>{a.requestPayload=t,e.sendRequestItem(i,a)}))),e.sendRequestItem(i,a),o.then((t=>{a.endTime=Date.now(),a.costTime=a.endTime-(a.startTime||a.endTime),a.status=t.status||200,a.statusText=t.statusText||"Done",a.responseHeader=[...t.headers.entries()],a.readyState=XMLHttpRequest.HEADERS_RECEIVED,e.sendRequestItem(i,a);const n=t.headers.get("content-type");if(n){if(n.includes("application/json"))return a.responseType="json",t.clone().text();if(n.includes("text/html")||n.includes("text/plain"))return a.responseType="text",t.clone().text()}return a.responseType="blob",t.clone().blob()})).then((async e=>{switch(a.responseType){case"text":case"json":try{a.response=JSON.parse(e)}catch(t){a.response=e,a.responseType="text"}break;case"blob":const t=e;if(t.size<=dT)try{a.response=await CE(t)}catch(e){a.response=await t.text(),LE.error(e.message)}else a.response="[object Blob]",a.responseReason=gT}})).finally((()=>{a.readyState=XMLHttpRequest.DONE,e.sendRequestItem(i,a)}))}else LE.warn("The request object is not found on window.fetch event");return o})}}class Ax extends kT{constructor(){super(),t(this,"sendBeacon",null),this.initProxyHandler()}reset(){this.sendBeacon&&(window.navigator.sendBeacon=this.sendBeacon)}initProxyHandler(){const e=window.navigator.sendBeacon;if(!e)return;const t=this;this.sendBeacon=e,window.navigator.sendBeacon=function(n,r){const o=e.call(window.navigator,n,r),i=fE();t.createRequest(i);const a=t.getRequest(i);if(a){const e=vT(n,window.location.href);a.url=e.url,a.name=e.name,a.getData=e.query,a.method="POST",a.status=0,a.statusText="Pending",a.requestType="ping",a.requestHeader=AT(a.requestHeader,r),a.startTime=Date.now(),wT(r).then((e=>{a.requestPayload=e,t.sendRequestItem(i,a)})),a.response="",o?(a.status=200,a.statusText="Sent",a.endTime=Date.now(),a.costTime=a.endTime-(a.startTime||a.endTime)):(a.status=500,a.statusText="Unknown"),a.readyState=XMLHttpRequest.DONE,t.sendRequestItem(i,a)}else LE.warn("The request object is not on navigator.sendBeacon event");return o}}}const wx=window.EventSource;class Sx extends kT{constructor(){super(),this.initProxyHandler()}initProxyHandler(){if(!window.EventSource)return;const e=this;window.EventSource=class{constructor(n,r){t(this,"content",'The "window.EventSource" is being proxied by PageSpy\'s NetworkPlugin.');const o=fE(),i=new ST(o),a=vT(n,window.location.href);i.method="GET",i.url=a.url,i.name=a.name,i.getData=a.query,i.requestType="eventsource",i.requestHeader=[["Accept","text/event-stream"],["Cache-Control","no-cache"]],i.readyState=mT.UNSENT,i.withCredentials=Boolean(null==r?void 0:r.withCredentials),i.responseHeader=[["Content-Type","text/event-stream"]],i.responseType="text",i.startTime=Date.now(),this.es=new wx(n,r),this.es.addEventListener("open",(()=>{i.readyState=mT.OPENED,i.endTime=Date.now(),i.costTime=i.endTime-i.startTime,e.sendRequestItem(o,i)})),this.es.addEventListener("message",(t=>{let{data:n}=t;i.status=200,i.statusText="Done",i.readyState=mT.DONE,i.response=n,i.endTime=Date.now(),i.costTime=i.endTime-i.startTime,e.sendRequestItem(o,i)})),this.es.addEventListener("error",(()=>{i.status=400,i.readyState=mT.DONE,i.endTime=Date.now(),i.costTime=i.endTime-i.startTime,e.sendRequestItem(o,i)}));const s=this;return new Proxy(s,{get(e,t){if(t in e)return e[t];const n=e.es[t];return"function"==typeof n?n.bind(s.es):n}})}}}reset(){window.EventSource=wx}}class Ex{constructor(){t(this,"name","NetworkPlugin"),t(this,"xhrProxy",null),t(this,"fetchProxy",null),t(this,"beaconProxy",null),t(this,"sseProxy",null)}onInit(){Ex.hasInitd||(Ex.hasInitd=!0,this.xhrProxy=new PT,this.fetchProxy=new bx,this.beaconProxy=new Ax,this.sseProxy=new Sx)}onReset(){var e,t,n,r;null===(e=this.xhrProxy)||void 0===e||e.reset(),null===(t=this.fetchProxy)||void 0===t||t.reset(),null===(n=this.beaconProxy)||void 0===n||n.reset(),null===(r=this.sseProxy)||void 0===r||r.reset(),Ex.hasInitd=!1}}t(Ex,"hasInitd",!1);var kx=i,Px=vi;eo({global:!0},{Reflect:{}}),Px(kx.Reflect,"Reflect",!0);var Tx;
/*! modernizr 4.0.0-alpha (Custom Build) | MIT *
   * https://modernizr.com/download/?-apng-arrow-avif-beacon-blobworkers-clipboard-contextmenu-cookies-cors-customevent-datachannel-dataworkers-es6array-es6class-es6collections-es6math-es6number-es6object-es6string-es6symbol-es7array-es8object-eventlistener-exiforientation-fetch-forcetouch-generators-getusermedia-hashchange-history-imgcrossorigin-indexeddb-jpeg2000-lazyloading-localstorage-messagechannel-oninput-peerconnection-performance-pointerevents-postmessage-prefetch-promises-proxy-queryselector-requestanimationframe-resizeobserver-restdestructuringarray_restdestructuringobject-restparameters-sandbox-scriptasync-scriptdefer-seamless-serviceworker-sessionstorage-sharedworkers-spreadarray-spreadobject-srcdoc-stringtemplate-transferables-webanimations-webgl-webp-websqldatabase-webworkers-addtest-atrule-domprefixes-hasevent-load-mq-prefixed-prefixedcss-prefixes-printshiv-setclasses-testallprops-testprop-teststyles !*/Tx={exports:{}},function(e,t,n,r){function o(e,t){return typeof e===t}function i(e){var t=E.className,n=b._config.classPrefix||"";if(k&&(t=t.baseVal),b._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}b._config.enableClasses&&(e.length>0&&(t+=" "+n+e.join(" "+n)),k?E.className.baseVal=t:E.className=t)}function a(e,t){if("object"==typeof e)for(var n in e)A(e,n)&&a(n,e[n]);else{var r=(e=e.toLowerCase()).split("."),o=b[r[0]];if(2===r.length&&(o=o[r[1]]),void 0!==o)return b;t="function"==typeof t?t():t,1===r.length?b[r[0]]=t:(!b[r[0]]||b[r[0]]instanceof Boolean||(b[r[0]]=new Boolean(b[r[0]])),b[r[0]][r[1]]=t),i([(t&&!1!==t?"":"no-")+r.join("-")]),b._trigger(e,t)}return b}function s(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):k?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}function c(e,t,r,o){var i,a,c,u,l="modernizr",f=s("div"),h=function(){var e=n.body;return e||((e=s(k?"svg":"body")).fake=!0),e}();if(parseInt(r,10))for(;r--;)(c=s("div")).id=o?o[r]:l+(r+1),f.appendChild(c);return(i=s("style")).type="text/css",i.id="s"+l,(h.fake?h:f).appendChild(i),h.appendChild(f),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(n.createTextNode(e)),f.id=l,h.fake&&(h.style.background="",h.style.overflow="hidden",u=E.style.overflow,E.style.overflow="hidden",E.appendChild(h)),a=t(f,e),h.fake&&h.parentNode?(h.parentNode.removeChild(h),E.style.overflow=u,E.offsetHeight):f.parentNode.removeChild(f),!!a}function u(e,n,r){var o;if("getComputedStyle"in t){o=getComputedStyle.call(t,e,n);var i=t.console;null!==o?r&&(o=o.getPropertyValue(r)):i&&i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else o=!n&&e.currentStyle&&e.currentStyle[r];return o}function l(e,t){return!!~(""+e).indexOf(t)}function f(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function h(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function p(e,n,i,a){function p(){g&&(delete U.style,delete U.modElem)}if(a=!o(a,"undefined")&&a,!o(i,"undefined")){var d=function(e,n){var o=e.length;if("CSS"in t&&"supports"in t.CSS){for(;o--;)if(t.CSS.supports(f(e[o]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var i=[];o--;)i.push("("+f(e[o])+":"+n+")");return c("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===u(e,null,"position")}))}return r}(e,i);if(!o(d,"undefined"))return d}for(var g,m,y,v,b,A=["modernizr","tspan","samp"];!U.style&&A.length;)g=!0,U.modElem=s(A.shift()),U.style=U.modElem.style;for(y=e.length,m=0;m<y;m++)if(v=e[m],b=U.style[v],l(v,"-")&&(v=h(v)),U.style[v]!==r){if(a||o(i,"undefined"))return p(),"pfx"!==n||v;try{U.style[v]=i}catch(e){}if(U.style[v]!==b)return p(),"pfx"!==n||v}return p(),!1}function d(e,t){return function(){return e.apply(t,arguments)}}function g(e,t,n,r,i){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+T.join(a+" ")+a).split(" ");return o(t,"string")||o(t,"undefined")?p(s,t,r,i):function(e,t,n){var r;for(var i in e)if(e[i]in t)return!1===n?e[i]:o(r=t[e[i]],"function")?d(r,n||t):r;return!1}(s=(e+" "+R.join(a+" ")+a).split(" "),t,n)}function m(e,t){var n=e.deleteDatabase(t);n.onsuccess=function(){a("indexeddb.deletedatabase",!0)},n.onerror=function(){a("indexeddb.deletedatabase",!1)}}var y=[],v={_version:"4.0.0-alpha",_config:{classPrefix:"",enableClasses:!1,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){y.push({name:e,fn:t,options:n})},addAsyncTest:function(e){y.push({name:null,fn:e})}},b=function(){};b.prototype=v,b=new b;var A,w,S=[],E=n.documentElement,k="svg"===E.nodeName.toLowerCase();A=o(w={}.hasOwnProperty,"undefined")||o(w.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return w.call(e,t)},v._l={},v.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),b.hasOwnProperty(e)&&setTimeout((function(){b._trigger(e,b[e])}),0)},v._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout((function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)}),0),delete this._l[e]}},b._q.push((function(){v.addTest=a}));var P="Moz O ms Webkit",T=v._config.usePrefixes?P.split(" "):[];v._cssomPrefixes=T;var x=function(e){var n,o=M.length,i=t.CSSRule;if(void 0===i)return r;if(!e)return!1;if((n=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+e;for(var a=0;a<o;a++){var s=M[a];if(s.toUpperCase()+"_"+n in i)return"@-"+s.toLowerCase()+"-"+e}return!1};v.atRule=x;var R=v._config.usePrefixes?P.toLowerCase().split(" "):[];v._domPrefixes=R;var O,L=(O=!("onblur"in E),function(e,t){var n;return!!e&&(t&&"string"!=typeof t||(t=s(t||"div")),!(n=(e="on"+e)in t)&&O&&(t.setAttribute||(t=s("div")),t.setAttribute(e,""),n="function"==typeof t[e],t[e]!==r&&(t[e]=r),t.removeAttribute(e)),n)});v.hasEvent=L,k||function(e,t){function n(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var e=A.elements;return"string"==typeof e?e.split(" "):e}function o(e){var t=b[e[y]];return t||(t={},v++,e[y]=v,b[v]=t),t}function i(e,n,r){return n||(n=t),p?n.createElement(e):(r||(r=o(n)),!(i=r.cache[e]?r.cache[e].cloneNode():m.test(e)?(r.cache[e]=r.createElem(e)).cloneNode():r.createElem(e)).canHaveChildren||g.test(e)||i.tagUrn?i:r.frag.appendChild(i));var i}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return A.shivMethods?i(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-:]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(A,t.frag)}function s(e){e||(e=t);var r=o(e);return!A.shivCSS||h||r.hasCSS||(r.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),p||a(e,r),e}function c(e){for(var t,n=e.getElementsByTagName("*"),o=n.length,i=RegExp("^(?:"+r().join("|")+")$","i"),a=[];o--;)t=n[o],i.test(t.nodeName)&&a.push(t.applyElement(u(t)));return a}function u(e){for(var t,n=e.attributes,r=n.length,o=e.ownerDocument.createElement(S+":"+e.nodeName);r--;)(t=n[r]).specified&&o.setAttribute(t.nodeName,t.nodeValue);return o.style.cssText=e.style.cssText,o}function l(e){for(var t,n=e.split("{"),o=n.length,i=RegExp("(^|[\\s,>+~])("+r().join("|")+")(?=[[\\s,>+~#.:]|$)","gi"),a="$1"+S+"\\:$2";o--;)(t=n[o]=n[o].split("}"))[t.length-1]=t[t.length-1].replace(i,a),n[o]=t.join("}");return n.join("{")}function f(e){function t(){clearTimeout(a._removeSheetTimer),r&&r.removeNode(!0),r=null}var r,i,a=o(e),s=e.namespaces,u=e.parentWindow;return!E||e.printShived||(void 0===s[S]&&s.add(S),u.attachEvent("onbeforeprint",(function(){t();for(var o,a,s,u=e.styleSheets,f=[],h=u.length,p=Array(h);h--;)p[h]=u[h];for(;s=p.pop();)if(!s.disabled&&w.test(s.media)){try{a=(o=s.imports).length}catch(e){a=0}for(h=0;h<a;h++)p.push(o[h]);try{f.push(s.cssText)}catch(e){}}f=l(f.reverse().join("")),i=c(e),r=n(e,f)})),u.attachEvent("onafterprint",(function(){(function(e){for(var t=e.length;t--;)e[t].removeNode()})(i),clearTimeout(a._removeSheetTimer),a._removeSheetTimer=setTimeout(t,500)})),e.printShived=!0),e}var h,p,d=e.html5||{},g=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,m=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,y="_html5shiv",v=0,b={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",h="hidden"in e,p=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){h=!0,p=!0}}();var A={elements:d.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==d.shivCSS,supportsUnknownElements:p,shivMethods:!1!==d.shivMethods,type:"default",shivDocument:s,createElement:i,createDocumentFragment:function(e,n){if(e||(e=t),p)return e.createDocumentFragment();for(var i=(n=n||o(e)).frag.cloneNode(),a=0,s=r(),c=s.length;a<c;a++)i.createElement(s[a]);return i},addElements:function(e,t){var n=A.elements;"string"!=typeof n&&(n=n.join(" ")),"string"!=typeof e&&(e=e.join(" ")),A.elements=n+" "+e,s(t)}};e.html5=A,s(t);var w=/^$|\b(?:all|print)\b/,S="html5shiv",E=!p&&function(){var n=t.documentElement;return!(void 0===t.namespaces||void 0===t.parentWindow||void 0===n.applyElement||void 0===n.removeNode||void 0===e.attachEvent)}();A.type+=" print",A.shivPrint=f,f(t),Tx.exports&&(Tx.exports=A)}(void 0!==t?t:this,n);var I=function(){},C=function(){};t.console&&(I=function(){var e=console.error?"error":"log";t.console[e].apply(t.console,Array.prototype.slice.call(arguments))},C=function(){var e=console.warn?"warn":"log";t.console[e].apply(t.console,Array.prototype.slice.call(arguments))}),v.load=function(){"yepnope"in t?(C("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. yepnope appears to be available on the page, so we’ll use it to handle this call to Modernizr.load, but please update your code to use yepnope directly.\n See http://github.com/Modernizr/Modernizr/issues/1182 for more information."),t.yepnope.apply(t,[].slice.call(arguments,0))):I("yepnope.js (aka Modernizr.load) is no longer included as part of Modernizr. Get it from http://yepnopejs.com. See http://github.com/Modernizr/Modernizr/issues/1182 for more information.")};var j=function(){var e=t.matchMedia||t.msMatchMedia;return e?function(t){var n=e(t);return n&&n.matches||!1}:function(e){var t=!1;return c("@media "+e+" { #modernizr { position: absolute; } }",(function(e){t="absolute"===u(e,null,"position")})),t}}();v.mq=j;var B={elem:s("modernizr")};b._q.push((function(){delete B.elem}));var U={style:B.elem.style};b._q.unshift((function(){delete U.style})),v.testAllProps=g;var D=v.prefixed=function(e,t,n){return 0===e.indexOf("@")?x(e):(-1!==e.indexOf("-")&&(e=h(e)),t?g(e,t,n):g(e,"pfx"))},M=v._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];v._prefixes=M,v.prefixedCSS=function(e){var t=D(e);return t&&f(t)},v.testAllProps=function(e,t,n){return g(e,r,r,t,n)},v.testProp=function(e,t,n){return p([e],r,t,n)},v.testStyles=c,b.addAsyncTest((function(){var e,t=["read","readText","write","writeText"];if(navigator.clipboard){a("clipboard",!0);for(var n=0;n<t.length;n++)e=!!navigator.clipboard[t[n]],a("clipboard."+t[n].toLowerCase(),e)}else a("clipboard",!1)})),b.addTest("contextmenu","contextMenu"in E&&"HTMLMenuItemElement"in t),b.addTest("cors","XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest),b.addTest("es6array",!!(Array.prototype&&Array.prototype.copyWithin&&Array.prototype.fill&&Array.prototype.find&&Array.prototype.findIndex&&Array.prototype.keys&&Array.prototype.entries&&Array.prototype.values&&Array.from&&Array.of)),b.addTest("arrow",(function(){try{(0,eval)("()=>{}")}catch(e){return!1}return!0})),b.addTest("es6class",(function(){try{(0,eval)("class A{}")}catch(e){return!1}return!0})),b.addTest("es6collections",!!(t.Map&&t.Set&&t.WeakMap&&t.WeakSet)),b.addTest("generators",(function(){try{new Function("function* test() {}")()}catch(e){return!1}return!0})),b.addTest("es6math",!!(Math&&Math.clz32&&Math.cbrt&&Math.imul&&Math.sign&&Math.log10&&Math.log2&&Math.log1p&&Math.expm1&&Math.cosh&&Math.sinh&&Math.tanh&&Math.acosh&&Math.asinh&&Math.atanh&&Math.hypot&&Math.trunc&&Math.fround)),b.addTest("es6number",!!(Number.isFinite&&Number.isInteger&&Number.isSafeInteger&&Number.isNaN&&Number.parseInt&&Number.parseFloat&&Number.isInteger(Number.MAX_SAFE_INTEGER)&&Number.isInteger(Number.MIN_SAFE_INTEGER)&&Number.isFinite(Number.EPSILON))),b.addTest("es6object",!!(Object.assign&&Object.is&&Object.setPrototypeOf)),b.addTest("promises",(function(){return"Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise((function(t){e=t})),"function"==typeof e}()})),b.addTest("restparameters",(function(){try{(0,eval)("function f(...rest) {}")}catch(e){return!1}return!0})),b.addTest("spreadarray",(function(){try{(0,eval)("(function f(){})(...[1])")}catch(e){return!1}return!0})),b.addTest("stringtemplate",(function(){try{return"-1-"===(0,eval)("(function(){var a=1; return `-${a}-`;})()")}catch(e){return!1}})),b.addTest("es6string",!!(String.fromCodePoint&&String.raw&&String.prototype.codePointAt&&String.prototype.repeat&&String.prototype.startsWith&&String.prototype.endsWith&&String.prototype.includes)),b.addTest("es6symbol",!!("function"==typeof Symbol&&Symbol.for&&Symbol.hasInstance&&Symbol.isConcatSpreadable&&Symbol.iterator&&Symbol.keyFor&&Symbol.match&&Symbol.prototype&&Symbol.replace&&Symbol.search&&Symbol.species&&Symbol.split&&Symbol.toPrimitive&&Symbol.toStringTag&&Symbol.unscopables)),b.addTest("es7array",!(!Array.prototype||!Array.prototype.includes)),b.addTest("restdestructuringarray",(function(){try{(0,eval)("var [...rest]=[1]")}catch(e){return!1}return!0})),b.addTest("restdestructuringobject",(function(){try{(0,eval)("var {...rest}={a:1}")}catch(e){return!1}return!0})),b.addTest("spreadobject",(function(){try{(0,eval)("var a={...{b:1}}")}catch(e){return!1}return!0})),b.addTest("es8object",!(!Object.entries||!Object.values)),b.addTest("customevent","CustomEvent"in t&&"function"==typeof t.CustomEvent),b.addTest("eventlistener","addEventListener"in t),b.addTest("forcetouch",(function(){return!!L(D("mouseforcewillbegin",t,!1),t)&&MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN&&MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN})),b.addTest("hashchange",(function(){return!1!==L("hashchange",t)&&(n.documentMode===r||n.documentMode>7)})),b.addTest("oninput",(function(){var e,r=s("input");if(r.setAttribute("oninput","return"),r.style.cssText="position:fixed;top:0;",L("oninput",E)||"function"==typeof r.oninput)return!0;try{var o=n.createEvent("KeyboardEvent");e=!1;var i=function(t){e=!0,t.preventDefault(),t.stopPropagation()};o.initKeyEvent("keypress",!0,!0,t,!1,!1,!1,!1,0,"e".charCodeAt(0)),E.appendChild(r),r.addEventListener("input",i,!1),r.focus(),r.dispatchEvent(o),r.removeEventListener("input",i,!1),E.removeChild(r)}catch(r){e=!1}return e}));var q=[""].concat(R);v._domPrefixesAll=q,b.addTest("pointerevents",(function(){for(var e=0,t=q.length;e<t;e++)if(L(q[e]+"pointerdown"))return!0;return!1})),b.addTest("history",(function(){var e=navigator.userAgent;return!!e&&(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone")||"file:"===location.protocol)&&t.history&&"pushState"in t.history})),b.addTest("sandbox","sandbox"in s("iframe")),b.addTest("seamless","seamless"in s("iframe")),b.addTest("srcdoc","srcdoc"in s("iframe")),b.addTest("canvas",(function(){var e=s("canvas");return!(!e.getContext||!e.getContext("2d"))})),b.addAsyncTest((function(){if(!b.canvas)return!1;var e=new Image,t=s("canvas"),n=t.getContext("2d");e.onload=function(){a("apng",(function(){return void 0!==t.getContext&&(n.drawImage(e,0,0),0===n.getImageData(0,0,1,1).data[3])}))},e.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACGFjVEwAAAABAAAAAcMq2TYAAAANSURBVAiZY2BgYPgPAAEEAQB9ssjfAAAAGmZjVEwAAAAAAAAAAQAAAAEAAAAAAAAAAAD6A+gBAbNU+2sAAAARZmRBVAAAAAEImWNgYGBgAAAABQAB6MzFdgAAAABJRU5ErkJggg=="})),b.addAsyncTest((function(){var e=new Image;e.onload=e.onerror=function(){a("avif",1===e.width)},e.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAAEcbWV0YQAAAAAAAABIaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGNhdmlmIC0gaHR0cHM6Ly9naXRodWIuY29tL2xpbmstdS9jYXZpZgAAAAAeaWxvYwAAAAAEQAABAAEAAAAAAUQAAQAAABcAAAAqaWluZgEAAAAAAAABAAAAGmluZmUCAAAAAAEAAGF2MDFJbWFnZQAAAAAOcGl0bQAAAAAAAQAAAHJpcHJwAAAAUmlwY28AAAAQcGFzcAAAAAEAAAABAAAAFGlzcGUAAAAAAAAAAQAAAAEAAAAQcGl4aQAAAAADCAgIAAAAFmF2MUOBAAwACggYAAYICGgIIAAAABhpcG1hAAAAAAAAAAEAAQUBAoMDhAAAAB9tZGF0CggYAAYICGgIIBoFHiAAAEQiBACwDoA="})),b.addTest("imgcrossorigin","crossOrigin"in s("img")),b.addAsyncTest((function(){var e=new Image;e.onerror=function(){a("exiforientation",!1)},e.onload=function(){a("exiforientation",2!==e.width)},e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q=="})),b.addAsyncTest((function(){var e=new Image;e.onload=e.onerror=function(){a("jpeg2000",1===e.width)},e.src="data:image/jp2;base64,/0//UQAyAAAAAAABAAAAAgAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAEBwEBBwEBBwEBBwEB/1IADAAAAAEAAAQEAAH/XAAEQED/ZAAlAAFDcmVhdGVkIGJ5IE9wZW5KUEVHIHZlcnNpb24gMi4wLjD/kAAKAAAAAABYAAH/UwAJAQAABAQAAf9dAAUBQED/UwAJAgAABAQAAf9dAAUCQED/UwAJAwAABAQAAf9dAAUDQED/k8+kEAGvz6QQAa/PpBABr994EAk//9k="})),b.addTest("lazyloading","loading"in HTMLImageElement.prototype),b.addAsyncTest((function(){function e(e,t,n){function r(t){var r=!(!t||"load"!==t.type)&&1===o.width;a(e,"webp"===e&&r?new Boolean(r):r),n&&n(t)}var o=new Image;o.onerror=r,o.onload=r,o.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],n=t.shift();e(n.name,n.uri,(function(n){if(n&&"load"===n.type)for(var r=0;r<t.length;r++)e(t[r].name,t[r].uri)}))})),b.addTest("messagechannel","MessageChannel"in t),b.addTest("beacon","sendBeacon"in navigator),b.addTest("fetch","fetch"in t),b.addTest("performance",!!D("performance",t));var N=!0;try{t.postMessage({toString:function(){N=!1}},"*")}catch(w){}b.addTest("postmessage",new Boolean("postMessage"in t)),b.addTest("postmessage.structuredclones",N),b.addTest("proxy","Proxy"in t),b.addTest("queryselector","querySelector"in n&&"querySelectorAll"in n),b.addTest("prefetch",(function(){if(11===n.documentMode)return!0;var e=s("link").relList;return!(!e||!e.supports)&&e.supports("prefetch")})),b.addTest("requestanimationframe",!!D("requestAnimationFrame",t),{aliases:["raf"]}),b.addTest("scriptasync","async"in s("script")),b.addTest("scriptdefer","defer"in s("script")),b.addTest("serviceworker","serviceWorker"in navigator),b.addTest("cookies",(function(){try{n.cookie="cookietest=1";var e=-1!==n.cookie.indexOf("cookietest=");return n.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}})),b.addAsyncTest((function(){var e;try{e=D("indexedDB",t)}catch(e){}if(e){var n,r="modernizr-"+Math.random();try{n=e.open(r)}catch(e){return void a("indexeddb",!1)}n.onerror=function(t){!n.error||"InvalidStateError"!==n.error.name&&"UnknownError"!==n.error.name?(a("indexeddb",!0),m(e,r)):(a("indexeddb",!1),t.preventDefault())},n.onsuccess=function(){a("indexeddb",!0),m(e,r)}}else a("indexeddb",!1)})),b.addTest("localstorage",(function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}})),b.addTest("sessionstorage",(function(){var e="modernizr";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(e){return!1}})),b.addTest("websqldatabase","openDatabase"in t),b.addTest("webanimations","animate"in s("div")),b.addTest("webgl",(function(){return"WebGLRenderingContext"in t})),b.addTest("peerconnection",!!D("RTCPeerConnection",t)),b.addTest("datachannel",(function(){if(!b.peerconnection)return!1;for(var e=0,n=q.length;e<n;e++){var r=t[q[e]+"RTCPeerConnection"];if(r)try{return"createDataChannel"in new r({})}catch(e){}}return!1})),b.addTest("getUserMedia","mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices),b.addTest("resizeobserver","ResizeObserver"in t),b.addAsyncTest((function(){function e(){a("blobworkers",!1),n()}function n(){u&&o.revokeObjectURL(u),c&&c.terminate(),l&&clearTimeout(l)}try{var r=t.BlobBuilder,o=t.URL;b._config.usePrefix&&(r=r||t.MozBlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.OBlobBuilder,o=o||t.MozURL||t.webkitURL||t.MSURL||t.OURL);var i,s,c,u,l,f="this.onmessage=function(e){postMessage(e.data)}";try{i=new Blob([f],{type:"text/javascript"})}catch(e){}i||((s=new r).append(f),i=s.getBlob()),u=o.createObjectURL(i),(c=new Worker(u)).onmessage=function(e){a("blobworkers","Modernizr"===e.data),n()},c.onerror=e,l=setTimeout(e,200),c.postMessage("Modernizr")}catch(n){e()}})),b.addAsyncTest((function(){try{var e=new Worker("data:text/javascript;base64,dGhpcy5vbm1lc3NhZ2U9ZnVuY3Rpb24oZSl7cG9zdE1lc3NhZ2UoZS5kYXRhKX0=");e.onmessage=function(t){e.terminate(),a("dataworkers","Modernizr"===t.data),e=null},e.onerror=function(){a("dataworkers",!1),e=null},setTimeout((function(){a("dataworkers",!1)}),200),e.postMessage("Modernizr")}catch(e){setTimeout((function(){a("dataworkers",!1)}),0)}})),b.addTest("sharedworkers","SharedWorker"in t),b.addTest("blobconstructor",(function(){try{return!!new Blob}catch(e){return!1}}),{aliases:["blob-constructor"]});var _=D("URL",t,!1);_=_&&t[_],b.addTest("bloburls",_&&"revokeObjectURL"in _&&"createObjectURL"in _),b.addTest("webworkers","Worker"in t),b.addTest("typedarrays","ArrayBuffer"in t),b.addAsyncTest((function(){function e(){a("transferables",!1),t()}function t(){i&&URL.revokeObjectURL(i),s&&s.terminate(),r&&clearTimeout(r)}if(!(b.blobconstructor&&b.bloburls&&b.webworkers&&b.typedarrays))return a("transferables",!1);try{var n,r,o=new Blob(['var hello = "world"'],{type:"text/javascript"}),i=URL.createObjectURL(o),s=new Worker(i);s.onerror=e,r=setTimeout(e,200),n=new ArrayBuffer(1),s.postMessage(n,[n]),a("transferables",0===n.byteLength),t()}catch(t){e()}})),function(){var e,t,n,r,i,a;for(var s in y)if(y.hasOwnProperty(s)){if(e=[],(t=y[s]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=o(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(a=e[i].split(".")).length?b[a[0]]=r:(b[a[0]]&&(!b[a[0]]||b[a[0]]instanceof Boolean)||(b[a[0]]=new Boolean(b[a[0]])),b[a[0]][a[1]]=r),S.push((r?"":"no-")+a.join("-"))}}(),i(S),delete v.addTest,delete v.addAsyncTest;for(var H=0;H<b._q.length;H++)b._q[H]();e.Modernizr=b}(window,window,document);const xx={Element:{sandbox:{title:"iframe/sandbox",keyPath:"iframe/sandbox"},srcdoc:{title:"iframe/srcdoc",keyPath:"iframe/srcdoc"},apng:{title:"img/apng",keyPath:"img/apng"},avif:{title:"img/avif",keyPath:"img/avif"},imgcrossorigin:{title:"img/crossorigin",keyPath:"img/crossorigin"},exiforientation:{title:"img/exif-orientation",keyPath:"img/exif-orientation"},lazyloading:{title:"img/lazyloading",keyPath:"img/lazyloading"},webp:{title:"img/webp",keyPath:"img/webp"},prefetch:{title:"link/prefetch",keyPath:"link/prefetch"},scriptasync:{title:"script/async",keyPath:"script/async"},scriptdefer:{title:"script/defer",keyPath:"script/defer"}},Feature:{clipboard:{title:"Clipboard",keyPath:"clipboard"},customevent:{title:"Custom Event",keyPath:"event/customevent"},eventlistener:{title:"Eventlistener",keyPath:"event/eventlistener"},forcetouch:{title:"Force Touch",keyPath:"event/forcetouch"},hashchange:{title:"Hash Change",keyPath:"event/hashchange"},oninput:{title:"Input Event",keyPath:"event/oninput"},pointerevents:{title:"Pointer Event",keyPath:"event/forcetouch"},history:{title:"History",keyPath:"history"},messagechannel:{title:"Message Channel",keyPath:"messagechannel"},postmessage:{title:"Postmessage",keyPath:"postmessage"},performance:{title:"Performance API",keyPath:"performance"},queryselector:{title:"queryselector",keyPath:"queryselector"},requestanimationframe:{title:"requestanimationframe",keyPath:"requestanimationframe"},serviceworker:{title:"Service Worker",keyPath:"serviceworker"},webanimations:{title:"Web Animation",keyPath:"webanimations"},webgl:{title:"WebGL",keyPath:"webgl/webgl"},datachannel:{title:"WebRTC/datachannel",keyPath:"webrtc/datachannel"},getusermedia:{title:"WebRTC/getusermedia",keyPath:"webrtc/getusermedia"},peerconnection:{title:"WebRTC/peerconnection",keyPath:"webrtc/peerconnection"},resizeobserver:{title:"Resizeobserver",keyPath:"window/resizeobserver"},sharedworkers:{title:"Shared Worker",keyPath:"workers/sharedworkers"},webworkers:{title:"Web Worker",keyPath:"workers/webworkers"}},Network:{cors:{title:"Cors",keyPath:"cors"},beacon:{title:"Beacon",keyPath:"network/beacon"},fetch:{title:"Fetch",keyPath:"network/fetch"}},Javascript:{es6array:{title:"ES6 Array",keyPath:"es6/array"},arrow:{title:"ES6 Arrow Function",keyPath:"es6/arrow"},es6class:{title:"ES6 Class",keyPath:"es6/class"},es6collections:{title:"ES6 Collections",keyPath:"es6/collections"},generators:{title:"ES6 Generators",keyPath:"es6/generators"},es6math:{title:"ES6 Math",keyPath:"es6/math"},es6number:{title:"ES6 Number",keyPath:"es6/number"},es6object:{title:"ES6 Object",keyPath:"es6/object"},promises:{title:"ES6 Promise",keyPath:"es6/promises"},restparameters:{title:"ES6 Rest Parameters",keyPath:"es6/rest-parameters"},spreadarray:{title:"ES6 Array Spread",keyPath:"es6/spread-array"},stringtemplate:{title:"ES6 String Template",keyPath:"es6/string-template"},es6string:{title:"ES6 String",keyPath:"es6/string"},es6symbol:{title:"ES6 Symbol",keyPath:"es6/symbol"},proxy:{title:"ES6 Proxy",keyPath:"proxy"},reflect:{title:"ES6 Reflect",customTest:"\"Reflect\" in window &&\n      typeof window.Reflect === 'object' &&\n      typeof Reflect.has === 'function' &&\n      [\n        'apply',\n        'construct',\n        'defineProperty',\n        'deleteProperty',\n        'getOwnPropertyDescriptor',\n        'getPrototypeOf',\n        'has',\n        'isExtensible',\n        'ownKeys',\n        'preventExtensions',\n        'setPrototypeOf',\n      ].every((i) => Reflect.has(Reflect, i))"},es7array:{title:"ES7 Array",keyPath:"es7/array"},restdestructuringarray:{title:"ES7 Rest Destructuring",keyPath:"es7/rest-destructuring"},spreadobject:{title:"ES7 Object Spread",keyPath:"es7/spread-object"},es8object:{title:"ES8 Object",keyPath:"es8/object"},finally:{title:"ES9 Promise Finally",customTest:"<ES6 Promise> && !!Promise.prototype.finally"}},Storage:{cookies:{title:"Cookies",keyPath:"storage/cookies"},indexeddb:{title:"IndexedDB",keyPath:"storage/indexeddb"},localstorage:{title:"LocalStorage",keyPath:"storage/localstorage"},sessionstorage:{title:"SessionStorage",keyPath:"storage/sessionstorage"},websqldatabase:{title:"Web SQL Database",keyPath:"storage/websqldatabase"}}},Rx=["indexeddb","apng","avif","exiforientation","webp"];async function Ox(){const e={Element:[],Feature:[],Network:[],Javascript:[],Storage:[]};hE(xx).forEach((t=>{const n=xx[t],r=hE(n).map((async e=>{const t=n[e];return t.keyPath&&(t.keyPath="".concat("https://github.com/Modernizr/Modernizr/tree/master/feature-detects","/").concat(t.keyPath,".js")),Rx.indexOf(e)>-1?t.supported=await function(e){return new Promise((t=>{Modernizr.on(e,(e=>{t(e)}))}))}(e):t.supported=Modernizr[e],t}));e[t]=r}));for(const t in e)dE(e,t)&&(e[t]=await Promise.all(e[t]));return e}window.Modernizr.addTest("finally",Modernizr.promises&&!!Promise.prototype.finally),window.Modernizr.addTest("reflect","Reflect"in window&&"object"==typeof window.Reflect&&"function"==typeof Reflect.has&&["apply","construct","defineProperty","deleteProperty","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","setPrototypeOf"].every((e=>Reflect.has(Reflect,e))));class Lx{constructor(){t(this,"name","SystemPlugin")}onInit(){Lx.hasInitd||(Lx.hasInitd=!0,eT.addListener("refresh",(async(e,t)=>{let{source:n}=e;const{data:r}=n;if("system"===r){const e=await Lx.getSystemInfo();eT.dispatchEvent("public-data",e),t(e)}})))}onReset(){Lx.hasInitd=!1}static async getSystemInfo(){const e=await Ox();return NE("system",{system:{ua:navigator.userAgent},features:e})}}t(Lx,"hasInitd",!1);class Ix{constructor(){t(this,"name","PagePlugin")}onInit(){Ix.hasInitd||(Ix.hasInitd=!0,eT.addListener("refresh",((e,t)=>{let{source:n}=e;const{data:r}=n;if("page"===r){const e=Ix.collectHtml();eT.dispatchEvent("public-data",e),t(e)}})))}onReset(){Ix.hasInitd=!1}static collectHtml(){return NE("page",{html:document.documentElement.outerHTML,location:window.location})}}t(Ix,"hasInitd",!1);class Cx{constructor(){t(this,"name","StoragePlugin"),t(this,"originSetItem",null),t(this,"originRemoveItem",null),t(this,"originClear",null),t(this,"cookieStoreChangeListener",null)}onInit(){Cx.hasInitd||(Cx.hasInitd=!0,Cx.listenRefreshEvent(),Cx.onceInitPublicData(),this.initStorageProxy())}onReset(){this.originClear&&(Storage.prototype.clear=this.originClear),this.originRemoveItem&&(Storage.prototype.removeItem=this.originRemoveItem),this.originSetItem&&(Storage.prototype.setItem=this.originSetItem),this.cookieStoreChangeListener&&window.cookieStore&&window.cookieStore.removeEventListener("change",this.cookieStoreChangeListener),Cx.hasInitd=!1}static async sendRefresh(e){let t=null;switch(e){case"localStorage":case"sessionStorage":t=Cx.takeStorage(e);break;case"cookie":t=await Cx.takeCookie()}t&&Cx.sendStorageItem(t)}static listenRefreshEvent(){eT.addListener("refresh",(async e=>{let{source:t}=e;const{data:n}=t;Cx.sendRefresh(n)}))}static takeStorage(e){const t={type:e,action:"get",data:[]},n=window[e],r=n.length;if(!r)return t;for(let e=0;e<=r-1;e++){const r=n.key(e);if(r){const e=n.getItem(r)||"";t.data.push({name:r,value:e})}}return t}static async takeCookie(){const e={type:"cookie",action:"get",data:[]};return window.cookieStore?e.data=await window.cookieStore.getAll():e.data=document.cookie.split("; ").map((e=>{const[t,n]=e.split("=");return{name:t,value:n}})),e}initStorageProxy(){const{getStorageType:e,sendStorageItem:t}=Cx,{clear:n,removeItem:r,setItem:o}=Storage.prototype;this.originClear=n,this.originRemoveItem=r,this.originSetItem=o,Storage.prototype.clear=function(){n.call(this);const r={type:e(this),action:"clear"};t(r)},Storage.prototype.removeItem=function(n){r.call(this,n);const o={type:e(this),action:"remove",name:String(n)};t(o)},Storage.prototype.setItem=function(n,r){o.call(this,n,r);const i={type:e(this),action:"set",name:String(n),value:String(r)};t(i)},window.cookieStore&&(this.cookieStoreChangeListener=e=>{const{changed:t,deleted:n}=e;t.length>0&&t.forEach((e=>{const t={type:"cookie",action:"set",...e};Cx.sendStorageItem(t)})),n.length>0&&n.forEach((e=>{const t={type:"cookie",action:"remove",name:e.name};Cx.sendStorageItem(t)}))},window.cookieStore.addEventListener("change",this.cookieStoreChangeListener))}static async onceInitPublicData(){(await Promise.all([Cx.takeStorage("localStorage"),Cx.takeStorage("sessionStorage"),Cx.takeCookie()])).forEach((e=>{const t=NE("storage",e);eT.dispatchEvent("public-data",t)}))}static getStorageType(e){return e===localStorage?"localStorage":e===sessionStorage?"sessionStorage":e.constructor.name}static sendStorageItem(e){const t=NE("storage",e);eT.dispatchEvent("public-data",t),eT.broadcastMessage(t,!0)}}function jx(e){return new Promise(((t,n)=>{e.addEventListener("success",(()=>{t(e.result)})),e.addEventListener("error",(()=>{n()}))}))}t(Cx,"hasInitd",!1);class Bx{constructor(){t(this,"name","DatabasePlugin"),t(this,"originAdd",null),t(this,"originPut",null),t(this,"originDelete",null),t(this,"originClear",null),t(this,"originDrop",null)}static get isSupport(){return!!(IDBFactory&&IDBObjectStore&&window.indexedDB&&window.indexedDB.databases)}onInit(){Bx.isSupport&&(Bx.hasInitd||(Bx.hasInitd=!0,Bx.listenEvents(),this.initIndexedDBProxy()))}onReset(){this.originAdd&&(IDBObjectStore.prototype.add=this.originAdd),this.originPut&&(IDBObjectStore.prototype.put=this.originPut),this.originClear&&(IDBObjectStore.prototype.clear=this.originClear),this.originDelete&&(IDBObjectStore.prototype.delete=this.originDelete),this.originDrop&&(IDBFactory.prototype.deleteDatabase=this.originDrop),Bx.hasInitd=!1}static listenEvents(){eT.addListener("refresh",(async e=>{let{source:t}=e;if("indexedDB"===t.data){const e={action:"basic",result:await this.takeBasicInfo()};Bx.sendData(e)}})),eT.addListener("database-pagination",(async e=>{let{source:t}=e;const{db:n,store:r,page:o}=t.data,i=await Bx.getStoreDataWithPagination({db:n,store:r,page:o});Bx.sendData(i)}))}initIndexedDBProxy(){const{put:e,add:t,delete:n,clear:r}=IDBObjectStore.prototype;this.originAdd=t,this.originPut=e,this.originDelete=n,this.originClear=r;const{sendData:o}=Bx;[{origin:e,method:"put"},{origin:t,method:"add"},{origin:n,method:"delete"},{origin:r,method:"clear"}].forEach((e=>{let{origin:t,method:n}=e;IDBObjectStore.prototype[n]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];const a=t.apply(this,r),s={action:"clear"===n?"clear":"update",database:this.transaction.db.name,store:this.name};return a.addEventListener("success",(()=>{o(s)})),a}}));const i=IDBFactory.prototype.deleteDatabase;this.originDrop=i,IDBFactory.prototype.deleteDatabase=function(e){const t=i.call(this,e),n={action:"drop",database:e};return t.addEventListener("success",(()=>{o(n)})),t}}static async takeBasicInfo(){const e=await window.indexedDB.databases();if(!e.length)return null;const t=e.filter((e=>e.name&&e.version));if(!t.length)return null;return(await Promise.all(t.map((e=>Bx.getDBData(e))))).filter(Boolean)}static async getDBData(e){try{const t={name:e.name,version:e.version,stores:[]},n=await jx(window.indexedDB.open(e.name,e.version));if(n.objectStoreNames.length){const e=[...n.objectStoreNames].map((e=>n.transaction(e,"readonly").objectStore(e)));t.stores=e.map((e=>{const{name:t,keyPath:n,autoIncrement:r,indexNames:o}=e;return{name:t,keyPath:n,autoIncrement:r,indexes:[...o]}}))}return t}catch(e){return LE.error("Failed to get indexedDB data, more info: ".concat(e.message)),null}}static async getStoreDataWithPagination(e){let{db:t,store:n,page:r}=e;const o={action:"get",database:null,store:null,page:{current:r,prev:null,next:null},total:0,data:[]};if(r<1)return o;const i=await jx(window.indexedDB.open(t)),a=i.transaction(n,"readonly").objectStore(n);o.database={name:i.name,version:i.version},o.store={name:a.name,keyPath:a.keyPath,autoIncrement:a.autoIncrement,indexes:[...a.indexNames]},o.total=await jx(a.count());const s=50*(r-1),c=50*r;o.page.prev=r>1?r-1:null,o.page.next=s+50<o.total?r+1:null;let u=0;const l=a.openCursor();return new Promise(((e,t)=>{l.addEventListener("success",(()=>{const t=l.result;t?(u>=s&&u<c&&o.data.push({key:t.key,value:t.value}),u++,t.continue()):e(o)})),l.addEventListener("error",t)}))}static sendData(e){const t=NE("database",e);eT.broadcastMessage(t,!0),["update","clear","drop"].includes(e.action)&&eT.dispatchEvent("public-data",t)}}t(Bx,"hasInitd",!1);var Ux=u,Dx=Function.prototype,Mx=Dx.apply,qx=Dx.call,Nx="object"==typeof Reflect&&Reflect.apply||(Ux?qx.bind(Mx):function(){return qx.apply(Mx,arguments)}),_x=Rt.f,Hx=Q,zx=V,Fx=Bi,Qx=BT,Gx=String,Wx=function(e){if("Symbol"===Qx(e))throw TypeError("Cannot convert a Symbol value to a string");return Gx(e)},Vx=Wx,Jx=V,Xx=Vt,$x=Error,Yx=k("".replace),Kx=String($x("zxcasd").stack),Zx=/\n\s*at [^:]*:[^\n]*/,eR=Zx.test(Kx),tR=b,nR=!s((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",tR(1,7)),7!==e.stack)})),rR=Vt,oR=function(e,t){if(eR&&"string"==typeof e&&!$x.prepareStackTrace)for(;t--;)e=Yx(e,Zx,"");return e},iR=nR,aR=Error.captureStackTrace,sR=$,cR=ze,uR=Vt,lR=Y,fR=Bi,hR=Mr,pR=function(e,t,n){n in e||_x(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},dR=function(e,t,n){var r,o;return Fx&&Hx(r=t.constructor)&&r!==n&&zx(o=r.prototype)&&o!==n.prototype&&Fx(e,o),e},gR=function(e,t){return void 0===e?arguments.length<2?"":t:Vx(e)},mR=function(e,t){Jx(t)&&"cause"in t&&Xx(e,"cause",t.cause)},yR=function(e,t,n,r){iR&&(aR?aR(e,t):rR(e,"stack",oR(n,r)))},vR=c,bR=eo,AR=Nx,wR=function(e,t,n,r){var o="stackTraceLimit",i=r?2:1,a=e.split("."),s=a[a.length-1],c=sR.apply(null,a);if(c){var u=c.prototype;if(cR(u,"cause")&&delete u.cause,!n)return c;var l=sR("Error"),f=t((function(e,t){var n=gR(r?t:e,void 0),o=r?new c(e):new c;return void 0!==n&&uR(o,"message",n),yR(o,f,o.stack,2),this&&lR(u,this)&&dR(o,this,f),arguments.length>i&&mR(o,arguments[i]),o}));f.prototype=u,"Error"!==s?fR?fR(f,l):hR(f,l,{name:!0}):vR&&o in c&&(pR(f,c,o),pR(f,c,"prepareStackTrace")),hR(f,c);try{u.name!==s&&uR(u,"name",s),u.constructor=f}catch(e){}return f}},SR="WebAssembly",ER=i[SR],kR=7!==Error("e",{cause:7}).cause,PR=function(e,t){var n={};n[e]=wR(e,t,kR),bR({global:!0,constructor:!0,arity:1,forced:kR},n)},TR=function(e,t){if(ER&&ER[e]){var n={};n[e]=wR(SR+"."+e,t,kR),bR({target:SR,stat:!0,constructor:!0,arity:1,forced:kR},n)}};PR("Error",(function(e){return function(t){return AR(e,this,arguments)}})),PR("EvalError",(function(e){return function(t){return AR(e,this,arguments)}})),PR("RangeError",(function(e){return function(t){return AR(e,this,arguments)}})),PR("ReferenceError",(function(e){return function(t){return AR(e,this,arguments)}})),PR("SyntaxError",(function(e){return function(t){return AR(e,this,arguments)}})),PR("TypeError",(function(e){return function(t){return AR(e,this,arguments)}})),PR("URIError",(function(e){return function(t){return AR(e,this,arguments)}})),TR("CompileError",(function(e){return function(t){return AR(e,this,arguments)}})),TR("LinkError",(function(e){return function(t){return AR(e,this,arguments)}})),TR("RuntimeError",(function(e){return function(t){return AR(e,this,arguments)}}));var xR=s,RR=c,OR=nt("iterator"),LR=!xR((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),!t.size&&!RR||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[OR]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),IR=Vn,CR=Rt,jR=function(e,t,n){return n.get&&IR(n.get,t,{getter:!0}),n.set&&IR(n.set,t,{setter:!0}),CR.f(e,t,n)},BR=Kn,UR=Y,DR=TypeError,MR=function(e,t){if(UR(t,e))return e;throw DR("Incorrect invocation")},qR=R,NR=k,_R=function(e){if("Function"===qR(e))return NR(e)},HR=Ae,zR=u,FR=_R(_R.bind),QR=function(e,t){return HR(e),void 0===t?e:zR?FR(e,t):function(){return e.apply(t,arguments)}},GR=BT,WR=Ee,VR=B,JR=$o,XR=nt("iterator"),$R=function(e){if(!VR(e))return WR(e,XR)||WR(e,"@@iterator")||JR[GR(e)]},YR=h,KR=Ae,ZR=jt,eO=me,tO=$R,nO=TypeError,rO=function(e,t){var n=arguments.length<2?tO(e):t;if(KR(n))return ZR(YR(n,e));throw nO(eO(e)+" is not iterable")},oO=TypeError,iO=function(e,t){if(e<t)throw oO("Not enough arguments");return e},aO=ht,sO=Rt,cO=b,uO=function(e,t,n){var r=aO(t);r in e?sO.f(e,r,cO(0,n)):e[r]=n},lO=sr,fO=fr,hO=uO,pO=Array,dO=Math.max,gO=function(e,t,n){for(var r=fO(e),o=lO(t,r),i=lO(void 0===n?r:n,r),a=pO(dO(i-o,0)),s=0;o<i;o++,s++)hO(a,s,e[o]);return a.length=s,a},mO=gO,yO=Math.floor,vO=function(e,t){var n=e.length,r=yO(n/2);return n<8?bO(e,t):AO(e,vO(mO(e,0,r),t),vO(mO(e,r),t),t)},bO=function(e,t){for(var n,r,o=e.length,i=1;i<o;){for(r=i,n=e[i];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},AO=function(e,t,n,r){for(var o=t.length,i=n.length,a=0,s=0;a<o||s<i;)e[a+s]=a<o&&s<i?r(t[a],n[s])<=0?t[a++]:n[s++]:a<o?t[a++]:n[s++];return e},wO=eo,SO=i,EO=h,kO=k,PO=c,TO=LR,xO=Kn,RO=jR,OO=function(e,t,n){for(var r in t)BR(e,r,t[r],n);return e},LO=vi,IO=Pi,CO=On,jO=MR,BO=Q,UO=ze,DO=QR,MO=BT,qO=jt,NO=V,_O=Wx,HO=Ho,zO=b,FO=rO,QO=$R,GO=iO,WO=vO,VO=nt("iterator"),JO="URLSearchParams",XO=JO+"Iterator",$O=CO.set,YO=CO.getterFor(JO),KO=CO.getterFor(XO),ZO=Object.getOwnPropertyDescriptor,eL=function(e){if(!PO)return SO[e];var t=ZO(SO,e);return t&&t.value},tL=eL("fetch"),nL=eL("Request"),rL=eL("Headers"),oL=nL&&nL.prototype,iL=rL&&rL.prototype,aL=SO.RegExp,sL=SO.TypeError,cL=SO.decodeURIComponent,uL=SO.encodeURIComponent,lL=kO("".charAt),fL=kO([].join),hL=kO([].push),pL=kO("".replace),dL=kO([].shift),gL=kO([].splice),mL=kO("".split),yL=kO("".slice),vL=/\+/g,bL=Array(4),AL=function(e){return bL[e-1]||(bL[e-1]=aL("((?:%[\\da-f]{2}){"+e+"})","gi"))},wL=function(e){try{return cL(e)}catch(t){return e}},SL=function(e){var t=pL(e,vL," "),n=4;try{return cL(t)}catch(e){for(;n;)t=pL(t,AL(n--),wL);return t}},EL=/[!'()~]|%20/g,kL={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},PL=function(e){return kL[e]},TL=function(e){return pL(uL(e),EL,PL)},xL=IO((function(e,t){$O(this,{type:XO,iterator:FO(YO(e).entries),kind:t})}),"Iterator",(function(){var e=KO(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),RL=function(e){this.entries=[],this.url=null,void 0!==e&&(NO(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===lL(e,0)?yL(e,1):e:_O(e)))};RL.prototype={type:JO,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,o,i,a,s,c=QO(e);if(c)for(n=(t=FO(e,c)).next;!(r=EO(n,t)).done;){if(i=(o=FO(qO(r.value))).next,(a=EO(i,o)).done||(s=EO(i,o)).done||!EO(i,o).done)throw sL("Expected sequence with length 2");hL(this.entries,{key:_O(a.value),value:_O(s.value)})}else for(var u in e)UO(e,u)&&hL(this.entries,{key:u,value:_O(e[u])})},parseQuery:function(e){if(e)for(var t,n,r=mL(e,"&"),o=0;o<r.length;)(t=r[o++]).length&&(n=mL(t,"="),hL(this.entries,{key:SL(dL(n)),value:SL(fL(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],hL(n,TL(e.key)+"="+TL(e.value));return fL(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var OL=function(){jO(this,LL);var e=$O(this,new RL(arguments.length>0?arguments[0]:void 0));PO||(this.length=e.entries.length)},LL=OL.prototype;if(OO(LL,{append:function(e,t){GO(arguments.length,2);var n=YO(this);hL(n.entries,{key:_O(e),value:_O(t)}),PO||this.length++,n.updateURL()},delete:function(e){GO(arguments.length,1);for(var t=YO(this),n=t.entries,r=_O(e),o=0;o<n.length;)n[o].key===r?gL(n,o,1):o++;PO||(this.length=n.length),t.updateURL()},get:function(e){GO(arguments.length,1);for(var t=YO(this).entries,n=_O(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){GO(arguments.length,1);for(var t=YO(this).entries,n=_O(e),r=[],o=0;o<t.length;o++)t[o].key===n&&hL(r,t[o].value);return r},has:function(e){GO(arguments.length,1);for(var t=YO(this).entries,n=_O(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){GO(arguments.length,1);for(var n,r=YO(this),o=r.entries,i=!1,a=_O(e),s=_O(t),c=0;c<o.length;c++)(n=o[c]).key===a&&(i?gL(o,c--,1):(i=!0,n.value=s));i||hL(o,{key:a,value:s}),PO||(this.length=o.length),r.updateURL()},sort:function(){var e=YO(this);WO(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=YO(this).entries,r=DO(e,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new xL(this,"keys")},values:function(){return new xL(this,"values")},entries:function(){return new xL(this,"entries")}},{enumerable:!0}),xO(LL,VO,LL.entries,{name:"entries"}),xO(LL,"toString",(function(){return YO(this).serialize()}),{enumerable:!0}),PO&&RO(LL,"size",{get:function(){return YO(this).entries.length},configurable:!0,enumerable:!0}),LO(OL,JO),wO({global:!0,constructor:!0,forced:!TO},{URLSearchParams:OL}),!TO&&BO(rL)){var IL=kO(iL.has),CL=kO(iL.set),jL=function(e){if(NO(e)){var t,n=e.body;if(MO(n)===JO)return t=e.headers?new rL(e.headers):new rL,IL(t,"content-type")||CL(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),HO(e,{body:zO(0,_O(n)),headers:zO(0,t)})}return e};if(BO(tL)&&wO({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return tL(e,arguments.length>1?jL(arguments[1]):{})}}),BO(nL)){var BL=function(e){return jO(this,oL),new nL(e,arguments.length>1?jL(arguments[1]):{})};oL.constructor=BL,BL.prototype=oL,wO({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:BL})}}var UL={URLSearchParams:OL,getState:YO},DL=c,ML=k,qL=jR,NL=URLSearchParams.prototype,_L=ML(NL.forEach);DL&&!("size"in NL)&&qL(NL,"size",{get:function(){var e=0;return _L(this,(function(){e++})),e},configurable:!0,enumerable:!0});const HL=e=>{const t=new URLSearchParams;return Object.entries(e).forEach((e=>{let[n,r]=e;t.append(n,String(r))})),t.toString()};class zL{constructor(e){if(this.config=e,!e.api)throw Error("The api base url cannot be empty")}get base(){return this.config.api}getScheme(){return this.config.enableSSL?["https://","wss://"]:["http://","ws://"]}createRoom(){const{project:e,title:t,useSecret:n,secret:r}=this.config,o=this.getScheme(),i=HL({name:navigator.userAgent,group:e,title:t});return fetch("".concat(o[0]).concat(this.base,"/api/v1/room/create?").concat(i),{method:"POST",body:JSON.stringify({useSecret:n,secret:r})}).then((e=>e.json())).then((e=>{const{name:t,address:n}=e.data||{};return{roomUrl:this.getRoomUrl(n),address:n,name:t}})).catch((e=>{throw Error("Request create room failed: ".concat(e.message))}))}getRoomUrl(e){const t=this.getScheme(),{useSecret:n,secret:r}=this.config;return"".concat(t[1]).concat(this.base,"/api/v1/ws/room/join?").concat(HL({address:e,name:"client:".concat(fE()),userId:"Client",forceCreate:!0,useSecret:n,secret:r}))}}const FL="50%",QL="100%";function GL(e){return window.TouchEvent&&e instanceof TouchEvent?e.touches[0]:e}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}("#__pageSpy {\n  font-size: 14px;\n}\n#__pageSpy .page-spy-logo {\n  --top-radius: 100%;\n  --right-radius: 100%;\n  --bottom-radius: 100%;\n  --left-radius: 100%;\n  position: fixed;\n  right: 2.85714286em;\n  bottom: 5.71428571em;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 5.71428571em;\n  height: 5.71428571em;\n  font-size: 1em;\n  border-radius: 5.71428571em;\n  background-color: #fff;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  z-index: 13000;\n  transition: opacity ease-in-out 0.3s, transform ease-in-out 0.3s, background-color ease-in-out 0.3s, filter ease-in-out 0.3s;\n}\n#__pageSpy .page-spy-logo.inactive {\n  background-color: #a2a2a2;\n  filter: grayscale(1);\n}\n#__pageSpy .page-spy-logo::after {\n  content: '';\n  display: block;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  transform: rotateZ(45deg);\n  background-color: white;\n  border-top-left-radius: var(--top-radius);\n  border-top-right-radius: var(--right-radius);\n  border-bottom-right-radius: var(--bottom-radius);\n  border-bottom-left-radius: var(--left-radius);\n  transition: border-radius linear 0.15s;\n}\n#__pageSpy .page-spy-logo .hidden-mixin {\n  opacity: 0.35;\n}\n#__pageSpy .page-spy-logo.hidden-in-top {\n  opacity: 0.35;\n  transform: translateY(-65%);\n}\n#__pageSpy .page-spy-logo.hidden-in-top img {\n  transform: translateY(30%);\n}\n#__pageSpy .page-spy-logo.hidden-in-right {\n  opacity: 0.35;\n  transform: translateX(65%);\n}\n#__pageSpy .page-spy-logo.hidden-in-right img {\n  transform: translateX(-30%);\n}\n#__pageSpy .page-spy-logo.hidden-in-bottom {\n  opacity: 0.35;\n  transform: translateY(65%);\n}\n#__pageSpy .page-spy-logo.hidden-in-bottom img {\n  transform: translateY(-30%);\n}\n#__pageSpy .page-spy-logo.hidden-in-left {\n  opacity: 0.35;\n  transform: translateX(-65%);\n}\n#__pageSpy .page-spy-logo.hidden-in-left img {\n  transform: translateX(30%);\n}\n#__pageSpy .page-spy-logo img {\n  position: relative;\n  display: block;\n  z-index: 100;\n  transition: transform ease-in-out 0.1s 0.4s;\n}\n#__pageSpy .page-spy-modal {\n  position: fixed;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  transition: all ease-out 0.3s;\n  z-index: 13000;\n}\n#__pageSpy .page-spy-modal.show {\n  opacity: 1;\n}\n#__pageSpy .page-spy-content {\n  width: 75%;\n  max-width: 25em;\n  background-color: #fafafa;\n  border-radius: 0.28571429em;\n  text-align: center;\n}\n#__pageSpy .page-spy-content__info {\n  padding: 1.71428571em 1.14285714em;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  text-align: left;\n  color: #202124;\n  letter-spacing: 2px;\n}\n#__pageSpy .page-spy-content__info > p {\n  margin: 0;\n  padding: 0;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#__pageSpy .page-spy-content__info > p b {\n  display: inline-block;\n  width: 6.57142857em;\n  text-align: right;\n  margin-right: 10px;\n}\n#__pageSpy .page-spy-content__btn {\n  padding: 0.57142857em 0;\n  border-top: 1px solid #eee;\n  font-size: 1.14285714em;\n  line-height: 1.5;\n  color: transparent;\n  -webkit-background-clip: text;\n          background-clip: text;\n  background-image: linear-gradient(45deg, #efdfff, #4e00b1 52%, #3d0c7c);\n  cursor: pointer;\n}\n.page-spy-toast {\n  position: fixed;\n  left: 50%;\n  top: 10%;\n  transform: translateX(-50%);\n  max-width: 50vw;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 6px 12px;\n  color: #9a62e4;\n  font-size: 14px;\n  background-color: #fafafa;\n  border-radius: 4px;\n  box-shadow: 0px 4px 8px 2px rgba(0, 0, 0, 0.2);\n  z-index: 99999;\n}\n");var WL=k,VL=rr,JL=Wx,XL=M,$L=WL("".charAt),YL=WL("".charCodeAt),KL=WL("".slice),ZL=function(e){return function(t,n){var r,o,i=JL(XL(t)),a=VL(n),s=i.length;return a<0||a>=s?e?"":void 0:(r=YL(i,a))<55296||r>56319||a+1===s||(o=YL(i,a+1))<56320||o>57343?e?$L(i,a):r:e?KL(i,a,a+2):o-56320+(r-55296<<10)+65536}},eI={codeAt:ZL(!1),charAt:ZL(!0)},tI=eI.charAt,nI=Wx,rI=On,oI=ea,iI=ta,aI="String Iterator",sI=rI.set,cI=rI.getterFor(aI);oI(String,"String",(function(e){sI(this,{type:aI,string:nI(e),index:0})}),(function(){var e,t=cI(this),n=t.string,r=t.index;return r>=n.length?iI(void 0,!0):(e=tI(n,r),t.index+=e.length,iI(e,!1))}));var uI,lI=c,fI=k,hI=h,pI=s,dI=bo,gI=Tr,mI=p,yI=Ne,vI=j,bI=Object.assign,AI=Object.defineProperty,wI=fI([].concat),SI=!bI||pI((function(){if(lI&&1!==bI({b:1},bI(AI({},"a",{enumerable:!0,get:function(){AI(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=bI({},e)[n]||dI(bI({},t)).join("")!=r}))?function(e,t){for(var n=yI(e),r=arguments.length,o=1,i=gI.f,a=mI.f;r>o;)for(var s,c=vI(arguments[o++]),u=i?wI(dI(c),i(c)):dI(c),l=u.length,f=0;l>f;)s=u[f++],lI&&!hI(a,c,s)||(n[s]=c[s]);return n}:bI,EI=h,kI=jt,PI=Ee,TI=jt,xI=function(e,t,n){var r,o;kI(e);try{if(!(r=PI(e,"return"))){if("throw"===t)throw n;return n}r=EI(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return kI(r),n},RI=$o,OI=nt("iterator"),LI=Array.prototype,II=QR,CI=h,jI=Ne,BI=function(e,t,n,r){try{return r?t(TI(n)[0],n[1]):t(n)}catch(t){xI(e,"throw",t)}},UI=function(e){return void 0!==e&&(RI.Array===e||LI[OI]===e)},DI=JT,MI=fr,qI=uO,NI=rO,_I=$R,HI=Array,zI=k,FI=2147483647,QI=/[^\0-\u007E]/,GI=/[.\u3002\uFF0E\uFF61]/g,WI="Overflow: input needs wider integers to process",VI=RangeError,JI=zI(GI.exec),XI=Math.floor,$I=String.fromCharCode,YI=zI("".charCodeAt),KI=zI([].join),ZI=zI([].push),eC=zI("".replace),tC=zI("".split),nC=zI("".toLowerCase),rC=function(e){return e+22+75*(e<26)},oC=function(e,t,n){var r=0;for(e=n?XI(e/700):e>>1,e+=XI(e/t);e>455;)e=XI(e/35),r+=36;return XI(r+36*e/(e+38))},iC=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=YI(e,n++);if(o>=55296&&o<=56319&&n<r){var i=YI(e,n++);56320==(64512&i)?ZI(t,((1023&o)<<10)+(1023&i)+65536):(ZI(t,o),n--)}else ZI(t,o)}return t}(e);var n,r,o=e.length,i=128,a=0,s=72;for(n=0;n<e.length;n++)(r=e[n])<128&&ZI(t,$I(r));var c=t.length,u=c;for(c&&ZI(t,"-");u<o;){var l=FI;for(n=0;n<e.length;n++)(r=e[n])>=i&&r<l&&(l=r);var f=u+1;if(l-i>XI((FI-a)/f))throw VI(WI);for(a+=(l-i)*f,i=l,n=0;n<e.length;n++){if((r=e[n])<i&&++a>FI)throw VI(WI);if(r==i){for(var h=a,p=36;;){var d=p<=s?1:p>=s+26?26:p-s;if(h<d)break;var g=h-d,m=36-d;ZI(t,$I(rC(d+g%m))),h=XI(g/m),p+=36}ZI(t,$I(rC(h))),s=oC(a,f,u==c),a=0,u++}}a++,i++}return KI(t,"")},aC=eo,sC=c,cC=LR,uC=i,lC=QR,fC=k,hC=Kn,pC=jR,dC=MR,gC=ze,mC=SI,yC=function(e){var t=jI(e),n=DI(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=II(o,r>2?arguments[2]:void 0));var a,s,c,u,l,f,h=_I(t),p=0;if(!h||this===HI&&UI(h))for(a=MI(t),s=n?new this(a):HI(a);a>p;p++)f=i?o(t[p],p):t[p],qI(s,p,f);else for(l=(u=NI(t,h)).next,s=n?new this:[];!(c=CI(l,u)).done;p++)f=i?BI(u,o,[c.value,p],!0):c.value,qI(s,p,f);return s.length=p,s},vC=gO,bC=eI.codeAt,AC=function(e){var t,n,r=[],o=tC(eC(nC(e),GI,"."),".");for(t=0;t<o.length;t++)n=o[t],ZI(r,JI(QI,n)?"xn--"+iC(n):n);return KI(r,".")},wC=Wx,SC=vi,EC=iO,kC=UL,PC=On,TC=PC.set,xC=PC.getterFor("URL"),RC=kC.URLSearchParams,OC=kC.getState,LC=uC.URL,IC=uC.TypeError,CC=uC.parseInt,jC=Math.floor,BC=Math.pow,UC=fC("".charAt),DC=fC(/./.exec),MC=fC([].join),qC=fC(1..toString),NC=fC([].pop),_C=fC([].push),HC=fC("".replace),zC=fC([].shift),FC=fC("".split),QC=fC("".slice),GC=fC("".toLowerCase),WC=fC([].unshift),VC="Invalid scheme",JC="Invalid host",XC="Invalid port",$C=/[a-z]/i,YC=/[\d+-.a-z]/i,KC=/\d/,ZC=/^0x/i,ej=/^[0-7]+$/,tj=/^\d+$/,nj=/^[\da-f]+$/i,rj=/[\0\t\n\r #%/:<>?@[\\\]^|]/,oj=/[\0\t\n\r #/:<>?@[\\\]^|]/,ij=/^[\u0000-\u0020]+/,aj=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,sj=/[\t\n\r]/g,cj=function(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)WC(t,e%256),e=jC(e/256);return MC(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(o>n&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(t=r,n=o),t}(e),n=0;n<8;n++)o&&0===e[n]||(o&&(o=!1),r===n?(t+=n?":":"::",o=!0):(t+=qC(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},uj={},lj=mC({},uj,{" ":1,'"':1,"<":1,">":1,"`":1}),fj=mC({},lj,{"#":1,"?":1,"{":1,"}":1}),hj=mC({},fj,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pj=function(e,t){var n=bC(e,0);return n>32&&n<127&&!gC(t,e)?e:encodeURIComponent(e)},dj={ftp:21,file:null,http:80,https:443,ws:80,wss:443},gj=function(e,t){var n;return 2==e.length&&DC($C,UC(e,0))&&(":"==(n=UC(e,1))||!t&&"|"==n)},mj=function(e){var t;return e.length>1&&gj(QC(e,0,2))&&(2==e.length||"/"===(t=UC(e,2))||"\\"===t||"?"===t||"#"===t)},yj=function(e){return"."===e||"%2e"===GC(e)},vj={},bj={},Aj={},wj={},Sj={},Ej={},kj={},Pj={},Tj={},xj={},Rj={},Oj={},Lj={},Ij={},Cj={},jj={},Bj={},Uj={},Dj={},Mj={},qj={},Nj=function(e,t,n){var r,o,i,a=wC(e);if(t){if(o=this.parse(a))throw IC(o);this.searchParams=null}else{if(void 0!==n&&(r=new Nj(n,!0)),o=this.parse(a,null,r))throw IC(o);(i=OC(new RC)).bindURL(this),this.searchParams=i}};Nj.prototype={type:"URL",parse:function(e,t,n){var r,o,i,a,s,c=this,u=t||vj,l=0,f="",h=!1,p=!1,d=!1;for(e=wC(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=HC(e,ij,""),e=HC(e,aj,"$1")),e=HC(e,sj,""),r=yC(e);l<=r.length;){switch(o=r[l],u){case vj:if(!o||!DC($C,o)){if(t)return VC;u=Aj;continue}f+=GC(o),u=bj;break;case bj:if(o&&(DC(YC,o)||"+"==o||"-"==o||"."==o))f+=GC(o);else{if(":"!=o){if(t)return VC;f="",u=Aj,l=0;continue}if(t&&(c.isSpecial()!=gC(dj,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,t)return void(c.isSpecial()&&dj[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?u=Ij:c.isSpecial()&&n&&n.scheme==c.scheme?u=wj:c.isSpecial()?u=Pj:"/"==r[l+1]?(u=Sj,l++):(c.cannotBeABaseURL=!0,_C(c.path,""),u=Dj)}break;case Aj:if(!n||n.cannotBeABaseURL&&"#"!=o)return VC;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=vC(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=qj;break}u="file"==n.scheme?Ij:Ej;continue;case wj:if("/"!=o||"/"!=r[l+1]){u=Ej;continue}u=Tj,l++;break;case Sj:if("/"==o){u=xj;break}u=Uj;continue;case Ej:if(c.scheme=n.scheme,o==uI)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=vC(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())u=kj;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=vC(n.path),c.query="",u=Mj;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=vC(n.path),c.path.length--,u=Uj;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=vC(n.path),c.query=n.query,c.fragment="",u=qj}break;case kj:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Uj;continue}u=xj}else u=Tj;break;case Pj:if(u=Tj,"/"!=o||"/"!=UC(f,l+1))continue;l++;break;case Tj:if("/"!=o&&"\\"!=o){u=xj;continue}break;case xj:if("@"==o){h&&(f="%40"+f),h=!0,i=yC(f);for(var g=0;g<i.length;g++){var m=i[g];if(":"!=m||d){var y=pj(m,hj);d?c.password+=y:c.username+=y}else d=!0}f=""}else if(o==uI||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(h&&""==f)return"Invalid authority";l-=yC(f).length+1,f="",u=Rj}else f+=o;break;case Rj:case Oj:if(t&&"file"==c.scheme){u=jj;continue}if(":"!=o||p){if(o==uI||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==f)return JC;if(t&&""==f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",u=Bj,t)return;continue}"["==o?p=!0:"]"==o&&(p=!1),f+=o}else{if(""==f)return JC;if(a=c.parseHost(f))return a;if(f="",u=Lj,t==Oj)return}break;case Lj:if(!DC(KC,o)){if(o==uI||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=f){var v=CC(f,10);if(v>65535)return XC;c.port=c.isSpecial()&&v===dj[c.scheme]?null:v,f=""}if(t)return;u=Bj;continue}return XC}f+=o;break;case Ij:if(c.scheme="file","/"==o||"\\"==o)u=Cj;else{if(!n||"file"!=n.scheme){u=Uj;continue}if(o==uI)c.host=n.host,c.path=vC(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=vC(n.path),c.query="",u=Mj;else{if("#"!=o){mj(MC(vC(r,l),""))||(c.host=n.host,c.path=vC(n.path),c.shortenPath()),u=Uj;continue}c.host=n.host,c.path=vC(n.path),c.query=n.query,c.fragment="",u=qj}}break;case Cj:if("/"==o||"\\"==o){u=jj;break}n&&"file"==n.scheme&&!mj(MC(vC(r,l),""))&&(gj(n.path[0],!0)?_C(c.path,n.path[0]):c.host=n.host),u=Uj;continue;case jj:if(o==uI||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&gj(f))u=Uj;else if(""==f){if(c.host="",t)return;u=Bj}else{if(a=c.parseHost(f))return a;if("localhost"==c.host&&(c.host=""),t)return;f="",u=Bj}continue}f+=o;break;case Bj:if(c.isSpecial()){if(u=Uj,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=uI&&(u=Uj,"/"!=o))continue}else c.fragment="",u=qj;else c.query="",u=Mj;break;case Uj:if(o==uI||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(s=GC(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||_C(c.path,"")):yj(f)?"/"==o||"\\"==o&&c.isSpecial()||_C(c.path,""):("file"==c.scheme&&!c.path.length&&gj(f)&&(c.host&&(c.host=""),f=UC(f,0)+":"),_C(c.path,f)),f="","file"==c.scheme&&(o==uI||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)zC(c.path);"?"==o?(c.query="",u=Mj):"#"==o&&(c.fragment="",u=qj)}else f+=pj(o,fj);break;case Dj:"?"==o?(c.query="",u=Mj):"#"==o?(c.fragment="",u=qj):o!=uI&&(c.path[0]+=pj(o,uj));break;case Mj:t||"#"!=o?o!=uI&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":pj(o,uj)):(c.fragment="",u=qj);break;case qj:o!=uI&&(c.fragment+=pj(o,lj))}l++}},parseHost:function(e){var t,n,r;if("["==UC(e,0)){if("]"!=UC(e,e.length-1))return JC;if(t=function(e){var t,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return UC(e,f)};if(":"==h()){if(":"!=UC(e,1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(t=n=0;n<4&&DC(nj,h());)t=16*t+CC(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,u>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;f++}if(!DC(KC,h()))return;for(;DC(KC,h());){if(i=CC(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(QC(e,1,-1)),!t)return JC;this.host=t}else if(this.isSpecial()){if(e=AC(e),DC(rj,e))return JC;if(t=function(e){var t,n,r,o,i,a,s,c=FC(e,".");if(c.length&&""==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=c[r]))return e;if(i=10,o.length>1&&"0"==UC(o,0)&&(i=DC(ZC,o)?16:8,o=QC(o,8==i?1:2)),""===o)a=0;else{if(!DC(10==i?tj:8==i?ej:nj,o))return e;a=CC(o,i)}_C(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=BC(256,5-t))return null}else if(a>255)return null;for(s=NC(n),r=0;r<n.length;r++)s+=n[r]*BC(256,3-r);return s}(e),null===t)return JC;this.host=t}else{if(DC(oj,e))return JC;for(t="",n=yC(e),r=0;r<n.length;r++)t+=pj(n[r],uj);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return gC(dj,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&gj(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,o=e.host,i=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==o?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=cj(o),null!==i&&(u+=":"+i)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+MC(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(e){var t=this.parse(e);if(t)throw IC(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new _j(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+cj(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(wC(e)+":",vj)},getUsername:function(){return this.username},setUsername:function(e){var t=yC(wC(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=pj(t[n],hj)}},getPassword:function(){return this.password},setPassword:function(e){var t=yC(wC(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=pj(t[n],hj)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?cj(e):cj(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Rj)},getHostname:function(){var e=this.host;return null===e?"":cj(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Oj)},getPort:function(){var e=this.port;return null===e?"":wC(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=wC(e))?this.port=null:this.parse(e,Lj))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+MC(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Bj))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=wC(e))?this.query=null:("?"==UC(e,0)&&(e=QC(e,1)),this.query="",this.parse(e,Mj)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=wC(e))?("#"==UC(e,0)&&(e=QC(e,1)),this.fragment="",this.parse(e,qj)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var _j=function(e){var t=dC(this,Hj),n=EC(arguments.length,1)>1?arguments[1]:void 0,r=TC(t,new Nj(e,!1,n));sC||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},Hj=_j.prototype,zj=function(e,t){return{get:function(){return xC(this)[e]()},set:t&&function(e){return xC(this)[t](e)},configurable:!0,enumerable:!0}};if(sC&&(pC(Hj,"href",zj("serialize","setHref")),pC(Hj,"origin",zj("getOrigin")),pC(Hj,"protocol",zj("getProtocol","setProtocol")),pC(Hj,"username",zj("getUsername","setUsername")),pC(Hj,"password",zj("getPassword","setPassword")),pC(Hj,"host",zj("getHost","setHost")),pC(Hj,"hostname",zj("getHostname","setHostname")),pC(Hj,"port",zj("getPort","setPort")),pC(Hj,"pathname",zj("getPathname","setPathname")),pC(Hj,"search",zj("getSearch","setSearch")),pC(Hj,"searchParams",zj("getSearchParams")),pC(Hj,"hash",zj("getHash","setHash"))),hC(Hj,"toJSON",(function(){return xC(this).serialize()}),{enumerable:!0}),hC(Hj,"toString",(function(){return xC(this).serialize()}),{enumerable:!0}),LC){var Fj=LC.createObjectURL,Qj=LC.revokeObjectURL;Fj&&hC(_j,"createObjectURL",lC(Fj,LC)),Qj&&hC(_j,"revokeObjectURL",lC(Qj,LC))}SC(_j,"URL"),aC({global:!0,constructor:!0,forced:!cC,sham:!sC},{URL:_j});var Gj=h;eo({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Gj(URL.prototype.toString,this)}});class Wj{defaultConfig(){return{}}constructor(){t(this,"mergeConfig",(e=>{const t=Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return this.privateKeys.includes(n)||(e[n]=r),e}),{});return this.value={...this.defaultConfig(),...t},this.value})),this.value=this.defaultConfig()}get(){return this.value}set(e,t){this.value[e]=t}}var Vj;class Jj extends Wj{constructor(){super(...arguments),t(this,"privateKeys",["secret"]),t(this,"defaultConfig",(()=>{const e={api:"",clientOrigin:"",project:"default",autoRender:!0,title:"--",enableSSL:null,disabledPlugins:[],offline:!1,logo:"data:image/svg+xml,%3csvg width='255' height='255' viewBox='0 0 255 255' fill='none' xmlns='http://www.w3.org/2000/svg'%3e %3cpath d='M183 24L81 126V141.5L90 150.5H105L145 110.5H160.5L169.5 119.5V133.5L72 231' stroke='url(%23paint0_linear_106_8)' stroke-width='25' stroke-linecap='round' /%3e %3cdefs%3e %3clinearGradient id='paint0_linear_106_8' x1='127.5' y1='24' x2='127.5' y2='231' gradientUnits='userSpaceOnUse'%3e %3cstop stop-color='%233D0C7C' /%3e %3cstop offset='0.519204' stop-color='%234E00B1' /%3e %3cstop offset='1' stop-color='%23EFDFFF' /%3e %3c/linearGradient%3e %3c/defs%3e%3c/svg%3e",logoStyle:{},messageCapacity:1e3,useSecret:!1,secret:""};if(!Jj.scriptLink)return e;try{const{host:t,origin:n,protocol:r}=new URL(Jj.scriptLink);return{...e,api:t,clientOrigin:n,enableSSL:r.startsWith("https")}}catch(t){return e}}))}}t(Jj,"scriptLink",null===(Vj=document.currentScript)||void 0===Vj?void 0:Vj.src);class Xj{static message(e){const t=document.createElement("div");t.classList.add("page-spy-toast"),t.innerText=String(e),document.documentElement.appendChild(t);const n=setTimeout((()=>{document.contains(t)&&document.documentElement.removeChild(t),Xj.timer===n&&(Xj.timer=null)}),1500);Xj.timer=n}static destroy(){const e=document.querySelectorAll(".page-spy-toast");e.length&&([...e].forEach((e=>{document.contains(e)&&document.documentElement.removeChild(e)})),Xj.timer&&clearTimeout(Xj.timer)),Xj.timer=null}}t(Xj,"timer",null);const $j="__pageSpy";GP.info.sdk="browser",GP.info.ua=navigator.userAgent;class Yj{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t(this,"root",null),t(this,"version","1.8.11"),t(this,"request",null),t(this,"name",""),t(this,"address",""),t(this,"roomUrl",""),t(this,"socketStore",eT),t(this,"config",new Jj),t(this,"cacheTimer",null),Yj.instance)return LE.warn("Cannot initialize PageSpy multiple times"),Yj.instance;Yj.instance=this;const n=this.config.mergeConfig(e);this.updateConfiguration(),this.triggerPlugins("onInit",{config:n,socketStore:eT}),this.init()}updateConfiguration(){const{messageCapacity:e,offline:t,useSecret:n}=this.config.get();if(!0===n){const e=JSON.parse(sessionStorage.getItem(jE));this.config.set("secret",(null==e?void 0:e.secret)||function(){const e=Math.floor(1e6*Math.random());return String(e).padStart(6,"0")}())}eT.connectable=!0,eT.getPageSpyConfig=()=>this.config.get(),eT.isOffline=t,eT.messageCapacity=e}async init(){const e=this.config.get();if(!1===e.offline){this.request=new zL(e);const t=sessionStorage.getItem(jE);if(null===t)await this.createNewConnection();else{const{name:n,address:r,roomUrl:o,project:i}=JSON.parse(t);e.project!==i?await this.createNewConnection():(this.name=n,this.address=r,this.roomUrl=o,this.useOldConnection())}document.addEventListener("visibilitychange",(()=>{!document.hidden&&eT.getSocket().getState()!==WP.OPEN&&eT.connectable&&this.useOldConnection()}))}LE.log("Plugins inited"),e.autoRender&&this.render()}async createNewConnection(){if(!this.request)return void LE.error("Cannot get the Request");const e=await this.request.createRoom();this.name=e.name,this.address=e.address,this.roomUrl=e.roomUrl,this.refreshRoomInfo(),eT.init(e.roomUrl)}useOldConnection(){this.refreshRoomInfo(),eT.init(this.roomUrl)}refreshRoomInfo(){this.saveSession(),this.cacheTimer=setInterval((()=>{eT.getSocket().getState()===WP.OPEN&&this.saveSession()}),15e3)}saveSession(){const{name:e,address:t,roomUrl:n,config:r}=this,{useSecret:o,secret:i,project:a}=r.get(),s=JSON.stringify({name:e,address:t,roomUrl:n,project:a,useSecret:o,secret:i});sessionStorage.setItem(jE,s)}startRender(){const{project:e,clientOrigin:t,title:n,logo:r,logoStyle:o,useSecret:i,secret:a}=this.config.get(),s=document.createElement("div");s.id=$j,this.root=s;const c=document.createElement("div");c.className="page-spy-logo";const u=document.createElement("img");u.alt="PageSpy Logo",u.src=r,u.width=50,u.height=50,Object.entries(o).forEach((e=>{let[t,n]=e;u.style[t]=n})),c.insertAdjacentElement("beforeend",u),s.insertAdjacentElement("beforeend",c),window.addEventListener("sdk-inactive",(()=>{c.classList.add("inactive")}));const l=new YP,f=new KP({content:"\n      ".concat(i?'<p><b>Secret:</b> <span class="page-spy-secret">'.concat(a,"</span></p>"):"",'\n      <p>\n        <b>Device ID:</b>\n        <span style="font-family: \'Monaco\'" class="page-spy-device-id">\n          ').concat(this.address.slice(0,4)||"--",'\n        </span>\n      </p>\n      <p><b>Project:</b> <span class="page-spy-project">').concat(e,'</span></p>\n      <p><b>Title:</b> <span class="page-spy-title">').concat(n,"</span></p>\n      "),onOk:()=>{let e="".concat(t,"/#/devtools?address=").concat(encodeURIComponent(this.address));i&&(e+="&secret=".concat(a));const n=ig(e);let r="";const o=navigator.languages;r=["zh-CN","zh-HK","zh-TW","zh"].some((e=>o.includes(e)))?n?"拷贝成功!":"拷贝失败!":n?"Copy successfully!":"Copy failed!",Xj.message(r),l.close()}});function h(e){const{isMoveEvent:t,isHidden:n}=c;t||n||(e.stopPropagation(),l.show())}l.appendNode(f.el),s.insertAdjacentElement("beforeend",l.el),c.addEventListener("click",h,!1),c.addEventListener("touchend",h,!1),document.documentElement.insertAdjacentElement("beforeend",s),function(e){let t,n;const r={xAxis:0,yAxis:0},o={x:0,y:0};function i(){const{left:n,top:o}=e.getBoundingClientRect();n>=0&&n<=r.xAxis&&(e.isHidden=!1),t&&clearTimeout(t),t=setTimeout((()=>{t=null,e.disableHidden||(n<=0?e.classList.add("hidden-in-left"):n>=r.xAxis&&e.classList.add("hidden-in-right"),o<=0?e.classList.add("hidden-in-top"):o>=r.yAxis&&e.classList.add("hidden-in-bottom"),e.isHidden=!0)}),1e3)}function a(t){t.preventDefault(),e.isMoveEvent=!0;const{clientX:i,clientY:a}=GL(t),s=i-o.x,c=a-o.y;let u=n.x+s;u<=0?(u=0,e.style.setProperty("--left-radius",FL)):u>=r.xAxis?(u=r.xAxis,e.style.setProperty("--right-radius",FL)):(e.style.setProperty("--left-radius",QL),e.style.setProperty("--right-radius",QL));let l=n.y+c;l<=0?(l=0,e.style.setProperty("--top-radius",FL)):l>r.yAxis?(l=r.yAxis,e.style.setProperty("--bottom-radius",FL)):(e.style.setProperty("--top-radius",QL),e.style.setProperty("--bottom-radius",QL)),e.style.left="".concat(u,"px"),e.style.top="".concat(l,"px")}function s(){o.x=0,o.y=0,i(),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",s),document.removeEventListener("touchmove",a),document.removeEventListener("touchend",s)}function c(i){i.preventDefault(),t&&clearTimeout(t),e.isHidden&&e.classList.remove("hidden-in-top","hidden-in-right","hidden-in-bottom","hidden-in-left"),e.isMoveEvent=!1,n=e.getBoundingClientRect(),r.xAxis=window.innerWidth-n.width,r.yAxis=window.innerHeight-n.height;const{clientX:c,clientY:u}=GL(i);o.x=c,o.y=u,document.addEventListener("mousemove",a,!1),document.addEventListener("mouseup",s,!1),document.addEventListener("touchmove",a,{capture:!1,passive:!1}),document.addEventListener("touchend",s,!1)}e.addEventListener("mousedown",c,!1),e.addEventListener("touchstart",c,{capture:!1,passive:!1}),e.addEventListener("mouseover",(()=>{e.disableHidden=!0,e.isHidden&&e.classList.remove("hidden-in-top","hidden-in-right","hidden-in-bottom","hidden-in-left")}),!1),e.addEventListener("mouseleave",(()=>{e.disableHidden=!1,i()}),!1)}(c),this.triggerPlugins("onMounted",{root:s,content:f.el,socketStore:eT}),this.handleDeviceDPR(),LE.log("Render success")}handleDeviceDPR(){const e=window.devicePixelRatio||1,t=document.querySelector('[name="viewport"]');if(t){const n=(t.getAttribute("content")||"").match(/initial-scale=\d+(\.\d+)?/);(n?parseFloat(n[0].split("=")[1]):1)<1&&(this.root.style.fontSize="".concat(14*e,"px"))}}triggerPlugins(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const{disabledPlugins:o}=this.config.get();Yj.pluginsWithOrder.forEach((t=>{var r;yE(o)&&o.length&&o.includes(t.name)||null===(r=t[e])||void 0===r||r.apply(t,n)}))}abort(){this.triggerPlugins("onReset"),eT.close(),Yj.instance=null;const e=document.querySelector("#".concat($j));e&&document.documentElement.removeChild(e)}render(){if(document.querySelector("#".concat($j)))LE.warn("Cannot render the widget because it has been in the DOM");else if(void 0!==document)"loading"===document.readyState?window.addEventListener("DOMContentLoaded",this.render.bind(this)):this.startRender();else{let e;const t=()=>{document&&"complete"===document.readyState?(e&&clearTimeout(e),this.startRender()):e=setTimeout(t,1)};e=setTimeout(t,1)}}updateRoomInfo(e){if(!e)return;const{project:t,title:n}=e;if(t){this.config.set("project",String(t));const e=document.querySelector(".page-spy-project");e&&(e.textContent=String(t))}if(n){this.config.set("title",String(n));const e=document.querySelector(".page-spy-title");e&&(e.textContent=String(n))}eT.updateRoomInfo()}static get pluginsWithOrder(){return[...Yj.plugins.pre,...Yj.plugins.normal,...Yj.plugins.post]}static registerPlugin(e){if(!e)return;if("function"==typeof(t=e)&&void 0!==t.prototype)return void LE.error("PageSpy.registerPlugin() expect to pass an instance, not a class");var t;if(!e.name)return void LE.error("The ".concat(e.constructor.name,' plugin should provide a "name" property'));if(Yj.pluginsWithOrder.some((t=>t.name===e.name)))return void LE.error("The ".concat(e.name,' has registered. Consider the following reasons:\n      - Duplicate register one same plugin;\n      - Plugin\'s "name" conflict with others, you can print all registered plugins by "PageSpy.plugins";'));Yj.plugins[e.enforce||"normal"].push(e)}}t(Yj,"instance",null),t(Yj,"plugins",{pre:[],normal:[],post:[]});return[new tT,new nT,new Ex,new Cx,new Bx,new Ix,new Lx].forEach((e=>{Yj.registerPlugin(e)})),Yj}();
//# sourceMappingURL=index.min.js.map
    return PageSpy;
  }
}
